"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs3/helpers/interopRequireDefault");
var _Object$defineProperty = require("@babel/runtime-corejs3/core-js-stable/object/define-property");
require("core-js/modules/web.url.to-json");
_Object$defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.SfDate = void 0;
var _parseInt2 = _interopRequireDefault(require("@babel/runtime-corejs3/core-js-stable/parse-int"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime-corejs3/helpers/defineProperty"));
var _formatter = require("./util/formatter");
/**
 *
 */

/** @private **/
function createLiteralBuilder(literal) {
  return num => new SfDate(`${literal}:${String(num)}`); // eslint-disable-line no-use-before-define
}

/**
 * A date object to keep Salesforce date literal
 *
 * @class
 * @constructor
 * @see http://www.salesforce.com/us/developer/docs/soql_sosl/Content/sforce_api_calls_soql_select_dateformats.htm
 */
class SfDate {
  /**
   *
   */
  constructor(literal) {
    (0, _defineProperty2.default)(this, "_literal", void 0);
    (0, _defineProperty2.default)(this, "toString", this.toJSON);
    this._literal = literal;
  }

  /**
   * Returns literal when converted to string
   */
  toJSON() {
    return this._literal;
  }
  /**
   * Convert JavaScript date object to ISO8601 Date format (e.g. 2012-10-31)
   *
   * @param {String|Number|Date} date - Input date
   * @returns {SfDate} - Salesforce date literal with ISO8601 date format
   */
  static toDateLiteral(date) {
    let _date;
    if (typeof date === 'number') {
      _date = new Date(date);
    } else if (typeof date === 'string') {
      _date = SfDate.parseDate(date);
    } else {
      _date = date;
    }
    const yy = _date.getFullYear();
    const mm = _date.getMonth() + 1;
    const dd = _date.getDate();
    const dstr = [yy, (0, _formatter.zeroPad)(mm), (0, _formatter.zeroPad)(dd)].join('-');
    return new SfDate(dstr);
  }

  /**
   * Convert JavaScript date object to ISO8601 DateTime format
   * (e.g. 2012-10-31T12:34:56Z)
   */
  static toDateTimeLiteral(date) {
    let _date;
    if (typeof date === 'number') {
      _date = new Date(date);
    } else if (typeof date === 'string') {
      _date = SfDate.parseDate(date);
    } else {
      _date = date;
    }
    const yy = _date.getUTCFullYear();
    const mm = _date.getUTCMonth() + 1;
    const dd = _date.getUTCDate();
    const hh = _date.getUTCHours();
    const mi = _date.getUTCMinutes();
    const ss = _date.getUTCSeconds();
    const dtstr = `${[yy, (0, _formatter.zeroPad)(mm), (0, _formatter.zeroPad)(dd)].join('-')}T${[(0, _formatter.zeroPad)(hh), (0, _formatter.zeroPad)(mi), (0, _formatter.zeroPad)(ss)].join(':')}Z`;
    return new SfDate(dtstr);
  }

  /**
   * Convert JavaScript date object to ISO8601 time format
   * (e.g. 12:34:56.789Z)
   */
  static toTimeLiteral(time) {
    let _date = new Date(0);
    if (typeof time === 'string') {
      _date = SfDate.parseTime(time);
    } else if (typeof time === 'number') {
      _date = new Date(time);
    } else {
      _date = time;
    }
    const hh = _date.getUTCHours();
    const mi = _date.getUTCMinutes();
    const ss = _date.getUTCSeconds();
    const sss = _date.getUTCMilliseconds();
    const tstr = `${(0, _formatter.zeroPad)(hh)}:${(0, _formatter.zeroPad)(mi)}:${(0, _formatter.zeroPad)(ss)}.${(0, _formatter.zeroPad)(sss, 3)}Z`;
    return new SfDate(tstr);
  }

  /**
   * Parse IS08601 date(time) formatted string and return date instance
   */
  static parseDate(str) {
    let d = new Date();
    const regexp = /^([\d]{4})-?([\d]{2})-?([\d]{2})(T([\d]{2}):?([\d]{2}):?([\d]{2})(.([\d]{3}))?(Z|([+-])([\d]{2}):?([\d]{2})))?$/;
    const m = str.match(regexp);
    if (m) {
      d = new Date(0);
      if (!m[4]) {
        d.setFullYear((0, _parseInt2.default)(m[1], 10));
        d.setDate((0, _parseInt2.default)(m[3], 10));
        d.setMonth((0, _parseInt2.default)(m[2], 10) - 1);
        d.setHours(0);
        d.setMinutes(0);
        d.setSeconds(0);
        d.setMilliseconds(0);
      } else {
        d.setUTCFullYear((0, _parseInt2.default)(m[1], 10));
        d.setUTCDate((0, _parseInt2.default)(m[3], 10));
        d.setUTCMonth((0, _parseInt2.default)(m[2], 10) - 1);
        d.setUTCHours((0, _parseInt2.default)(m[5], 10));
        d.setUTCMinutes((0, _parseInt2.default)(m[6], 10));
        d.setUTCSeconds((0, _parseInt2.default)(m[7], 10));
        d.setUTCMilliseconds((0, _parseInt2.default)(m[9] || '0', 10));
        if (m[10] && m[10] !== 'Z') {
          const offset = (0, _parseInt2.default)(m[12], 10) * 60 + (0, _parseInt2.default)(m[13], 10);
          d.setTime((m[11] === '+' ? -1 : 1) * offset * 60 * 1000 + d.getTime());
        }
      }
      return d;
    }
    throw new Error(`Invalid date format is specified : ${str}`);
  }

  /**
   * Parse IS08601 time formatted string and convert to parse string
   */
  static parseTime(str) {
    const regexp = /^([\d]{2}):?([\d]{2}):?([\d]{2})(.([\d]{3}))?Z?$/;
    const m = str.match(regexp);
    if (m) {
      const d = new Date(0);
      let hh = (0, _parseInt2.default)(m[1], 10);
      const mi = (0, _parseInt2.default)(m[2], 10);
      const ss = (0, _parseInt2.default)(m[3], 10);
      const sss = (0, _parseInt2.default)(m[5] || '0', 10);
      d.setUTCHours(hh);
      d.setUTCMinutes(mi);
      d.setUTCSeconds(ss);
      d.setUTCMilliseconds(sss);
      return d;
    }
    throw new Error(`Invalid time format is specified : ${str}`);
  }
}
exports.SfDate = SfDate;
(0, _defineProperty2.default)(SfDate, "YESTERDAY", new SfDate('YESTERDAY'));
(0, _defineProperty2.default)(SfDate, "TODAY", new SfDate('TODAY'));
(0, _defineProperty2.default)(SfDate, "TOMORROW", new SfDate('TOMORROW'));
(0, _defineProperty2.default)(SfDate, "LAST_WEEK", new SfDate('LAST_WEEK'));
(0, _defineProperty2.default)(SfDate, "THIS_WEEK", new SfDate('THIS_WEEK'));
(0, _defineProperty2.default)(SfDate, "NEXT_WEEK", new SfDate('NEXT_WEEK'));
(0, _defineProperty2.default)(SfDate, "LAST_MONTH", new SfDate('LAST_MONTH'));
(0, _defineProperty2.default)(SfDate, "THIS_MONTH", new SfDate('THIS_MONTH'));
(0, _defineProperty2.default)(SfDate, "NEXT_MONTH", new SfDate('NEXT_MONTH'));
(0, _defineProperty2.default)(SfDate, "LAST_90_DAYS", new SfDate('LAST_90_DAYS'));
(0, _defineProperty2.default)(SfDate, "NEXT_90_DAYS", new SfDate('NEXT_90_DAYS'));
(0, _defineProperty2.default)(SfDate, "LAST_N_DAYS", createLiteralBuilder('LAST_N_DAYS'));
(0, _defineProperty2.default)(SfDate, "NEXT_N_DAYS", createLiteralBuilder('NEXT_N_DAYS'));
(0, _defineProperty2.default)(SfDate, "NEXT_N_WEEKS", createLiteralBuilder('NEXT_N_WEEKS'));
(0, _defineProperty2.default)(SfDate, "LAST_N_WEEKS", createLiteralBuilder('LAST_N_WEEKS'));
(0, _defineProperty2.default)(SfDate, "NEXT_N_MONTHS", createLiteralBuilder('NEXT_N_MONTHS'));
(0, _defineProperty2.default)(SfDate, "LAST_N_MONTHS", createLiteralBuilder('LAST_N_MONTHS'));
(0, _defineProperty2.default)(SfDate, "THIS_QUARTER", new SfDate('THIS_QUARTER'));
(0, _defineProperty2.default)(SfDate, "LAST_QUARTER", new SfDate('LAST_QUARTER'));
(0, _defineProperty2.default)(SfDate, "NEXT_QUARTER", new SfDate('NEXT_QUARTER'));
(0, _defineProperty2.default)(SfDate, "NEXT_N_QUARTERS", createLiteralBuilder('NEXT_N_QUARTERS'));
(0, _defineProperty2.default)(SfDate, "LAST_N_QUARTERS", createLiteralBuilder('LAST_N_QUARTERS'));
(0, _defineProperty2.default)(SfDate, "THIS_YEAR", new SfDate('THIS_YEAR'));
(0, _defineProperty2.default)(SfDate, "LAST_YEAR", new SfDate('LAST_YEAR'));
(0, _defineProperty2.default)(SfDate, "NEXT_YEAR", new SfDate('NEXT_YEAR'));
(0, _defineProperty2.default)(SfDate, "NEXT_N_YEARS", createLiteralBuilder('NEXT_N_YEARS'));
(0, _defineProperty2.default)(SfDate, "LAST_N_YEARS", createLiteralBuilder('LAST_N_YEARS'));
(0, _defineProperty2.default)(SfDate, "THIS_FISCAL_QUARTER", new SfDate('THIS_FISCAL_QUARTER'));
(0, _defineProperty2.default)(SfDate, "LAST_FISCAL_QUARTER", new SfDate('LAST_FISCAL_QUARTER'));
(0, _defineProperty2.default)(SfDate, "NEXT_FISCAL_QUARTER", new SfDate('NEXT_FISCAL_QUARTER'));
(0, _defineProperty2.default)(SfDate, "THIS_FISCAL_YEAR", new SfDate('THIS_FISCAL_YEAR'));
(0, _defineProperty2.default)(SfDate, "NEXT_N_FISCAL_QUARTERS", createLiteralBuilder('NEXT_N_FISCAL_QUARTERS'));
(0, _defineProperty2.default)(SfDate, "LAST_N_FISCAL_QUARTERS", createLiteralBuilder('LAST_N_FISCAL_QUARTERS'));
(0, _defineProperty2.default)(SfDate, "LAST_FISCAL_YEAR", new SfDate('LAST_FISCAL_YEAR'));
(0, _defineProperty2.default)(SfDate, "NEXT_FISCAL_YEAR", new SfDate('NEXT_FISCAL_YEAR'));
(0, _defineProperty2.default)(SfDate, "NEXT_N_FISCAL_YEARS", createLiteralBuilder('NEXT_N_FISCAL_YEARS'));
(0, _defineProperty2.default)(SfDate, "LAST_N_FISCAL_YEARS", createLiteralBuilder('LAST_N_FISCAL_YEARS'));
var _default = SfDate;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZm9ybWF0dGVyIiwicmVxdWlyZSIsImNyZWF0ZUxpdGVyYWxCdWlsZGVyIiwibGl0ZXJhbCIsIm51bSIsIlNmRGF0ZSIsIlN0cmluZyIsImNvbnN0cnVjdG9yIiwiX2RlZmluZVByb3BlcnR5MiIsImRlZmF1bHQiLCJ0b0pTT04iLCJfbGl0ZXJhbCIsInRvRGF0ZUxpdGVyYWwiLCJkYXRlIiwiX2RhdGUiLCJEYXRlIiwicGFyc2VEYXRlIiwieXkiLCJnZXRGdWxsWWVhciIsIm1tIiwiZ2V0TW9udGgiLCJkZCIsImdldERhdGUiLCJkc3RyIiwiemVyb1BhZCIsImpvaW4iLCJ0b0RhdGVUaW1lTGl0ZXJhbCIsImdldFVUQ0Z1bGxZZWFyIiwiZ2V0VVRDTW9udGgiLCJnZXRVVENEYXRlIiwiaGgiLCJnZXRVVENIb3VycyIsIm1pIiwiZ2V0VVRDTWludXRlcyIsInNzIiwiZ2V0VVRDU2Vjb25kcyIsImR0c3RyIiwidG9UaW1lTGl0ZXJhbCIsInRpbWUiLCJwYXJzZVRpbWUiLCJzc3MiLCJnZXRVVENNaWxsaXNlY29uZHMiLCJ0c3RyIiwic3RyIiwiZCIsInJlZ2V4cCIsIm0iLCJtYXRjaCIsInNldEZ1bGxZZWFyIiwiX3BhcnNlSW50MiIsInNldERhdGUiLCJzZXRNb250aCIsInNldEhvdXJzIiwic2V0TWludXRlcyIsInNldFNlY29uZHMiLCJzZXRNaWxsaXNlY29uZHMiLCJzZXRVVENGdWxsWWVhciIsInNldFVUQ0RhdGUiLCJzZXRVVENNb250aCIsInNldFVUQ0hvdXJzIiwic2V0VVRDTWludXRlcyIsInNldFVUQ1NlY29uZHMiLCJzZXRVVENNaWxsaXNlY29uZHMiLCJvZmZzZXQiLCJzZXRUaW1lIiwiZ2V0VGltZSIsIkVycm9yIiwiZXhwb3J0cyIsIl9kZWZhdWx0Il0sInNvdXJjZXMiOlsiLi4vc3JjL2RhdGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICovXG5pbXBvcnQgeyB6ZXJvUGFkIH0gZnJvbSAnLi91dGlsL2Zvcm1hdHRlcic7XG5cbi8qKiBAcHJpdmF0ZSAqKi9cbmZ1bmN0aW9uIGNyZWF0ZUxpdGVyYWxCdWlsZGVyKGxpdGVyYWw6IHN0cmluZykge1xuICByZXR1cm4gKG51bTogbnVtYmVyKSA9PiBuZXcgU2ZEYXRlKGAke2xpdGVyYWx9OiR7U3RyaW5nKG51bSl9YCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbn1cblxuLyoqXG4gKiBBIGRhdGUgb2JqZWN0IHRvIGtlZXAgU2FsZXNmb3JjZSBkYXRlIGxpdGVyYWxcbiAqXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICogQHNlZSBodHRwOi8vd3d3LnNhbGVzZm9yY2UuY29tL3VzL2RldmVsb3Blci9kb2NzL3NvcWxfc29zbC9Db250ZW50L3Nmb3JjZV9hcGlfY2FsbHNfc29xbF9zZWxlY3RfZGF0ZWZvcm1hdHMuaHRtXG4gKi9cbmV4cG9ydCBjbGFzcyBTZkRhdGUge1xuICBwcml2YXRlIF9saXRlcmFsOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBjb25zdHJ1Y3RvcihsaXRlcmFsOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9saXRlcmFsID0gbGl0ZXJhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGxpdGVyYWwgd2hlbiBjb252ZXJ0ZWQgdG8gc3RyaW5nXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpdGVyYWw7XG4gIH1cblxuICB0b1N0cmluZyA9IHRoaXMudG9KU09OO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0IEphdmFTY3JpcHQgZGF0ZSBvYmplY3QgdG8gSVNPODYwMSBEYXRlIGZvcm1hdCAoZS5nLiAyMDEyLTEwLTMxKVxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8RGF0ZX0gZGF0ZSAtIElucHV0IGRhdGVcbiAgICogQHJldHVybnMge1NmRGF0ZX0gLSBTYWxlc2ZvcmNlIGRhdGUgbGl0ZXJhbCB3aXRoIElTTzg2MDEgZGF0ZSBmb3JtYXRcbiAgICovXG4gIHN0YXRpYyB0b0RhdGVMaXRlcmFsKGRhdGU6IHN0cmluZyB8IG51bWJlciB8IERhdGUpIHtcbiAgICBsZXQgX2RhdGU6IERhdGU7XG4gICAgaWYgKHR5cGVvZiBkYXRlID09PSAnbnVtYmVyJykge1xuICAgICAgX2RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgX2RhdGUgPSBTZkRhdGUucGFyc2VEYXRlKGRhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfZGF0ZSA9IGRhdGU7XG4gICAgfVxuICAgIGNvbnN0IHl5ID0gX2RhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICBjb25zdCBtbSA9IF9kYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgIGNvbnN0IGRkID0gX2RhdGUuZ2V0RGF0ZSgpO1xuICAgIGNvbnN0IGRzdHIgPSBbeXksIHplcm9QYWQobW0pLCB6ZXJvUGFkKGRkKV0uam9pbignLScpO1xuICAgIHJldHVybiBuZXcgU2ZEYXRlKGRzdHIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgSmF2YVNjcmlwdCBkYXRlIG9iamVjdCB0byBJU084NjAxIERhdGVUaW1lIGZvcm1hdFxuICAgKiAoZS5nLiAyMDEyLTEwLTMxVDEyOjM0OjU2WilcbiAgICovXG4gIHN0YXRpYyB0b0RhdGVUaW1lTGl0ZXJhbChkYXRlOiBzdHJpbmcgfCBudW1iZXIgfCBEYXRlKSB7XG4gICAgbGV0IF9kYXRlOiBEYXRlO1xuICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIF9kYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIF9kYXRlID0gU2ZEYXRlLnBhcnNlRGF0ZShkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2RhdGUgPSBkYXRlO1xuICAgIH1cbiAgICBjb25zdCB5eSA9IF9kYXRlLmdldFVUQ0Z1bGxZZWFyKCk7XG4gICAgY29uc3QgbW0gPSBfZGF0ZS5nZXRVVENNb250aCgpICsgMTtcbiAgICBjb25zdCBkZCA9IF9kYXRlLmdldFVUQ0RhdGUoKTtcbiAgICBjb25zdCBoaCA9IF9kYXRlLmdldFVUQ0hvdXJzKCk7XG4gICAgY29uc3QgbWkgPSBfZGF0ZS5nZXRVVENNaW51dGVzKCk7XG4gICAgY29uc3Qgc3MgPSBfZGF0ZS5nZXRVVENTZWNvbmRzKCk7XG4gICAgY29uc3QgZHRzdHIgPSBgJHtbeXksIHplcm9QYWQobW0pLCB6ZXJvUGFkKGRkKV0uam9pbignLScpfVQke1tcbiAgICAgIHplcm9QYWQoaGgpLFxuICAgICAgemVyb1BhZChtaSksXG4gICAgICB6ZXJvUGFkKHNzKSxcbiAgICBdLmpvaW4oJzonKX1aYDtcbiAgICByZXR1cm4gbmV3IFNmRGF0ZShkdHN0cik7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBKYXZhU2NyaXB0IGRhdGUgb2JqZWN0IHRvIElTTzg2MDEgdGltZSBmb3JtYXRcbiAgICogKGUuZy4gMTI6MzQ6NTYuNzg5WilcbiAgICovXG4gIHN0YXRpYyB0b1RpbWVMaXRlcmFsKHRpbWU6IHN0cmluZyB8IG51bWJlciB8IERhdGUpIHtcbiAgICBsZXQgX2RhdGUgPSBuZXcgRGF0ZSgwKTtcbiAgICBpZiAodHlwZW9mIHRpbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBfZGF0ZSA9IFNmRGF0ZS5wYXJzZVRpbWUodGltZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGltZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIF9kYXRlID0gbmV3IERhdGUodGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9kYXRlID0gdGltZTtcbiAgICB9XG4gICAgY29uc3QgaGggPSBfZGF0ZS5nZXRVVENIb3VycygpO1xuICAgIGNvbnN0IG1pID0gX2RhdGUuZ2V0VVRDTWludXRlcygpO1xuICAgIGNvbnN0IHNzID0gX2RhdGUuZ2V0VVRDU2Vjb25kcygpO1xuICAgIGNvbnN0IHNzcyA9IF9kYXRlLmdldFVUQ01pbGxpc2Vjb25kcygpO1xuICAgIGNvbnN0IHRzdHIgPSBgJHt6ZXJvUGFkKGhoKX06JHt6ZXJvUGFkKG1pKX06JHt6ZXJvUGFkKHNzKX0uJHt6ZXJvUGFkKFxuICAgICAgc3NzLFxuICAgICAgMyxcbiAgICApfVpgO1xuICAgIHJldHVybiBuZXcgU2ZEYXRlKHRzdHIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIElTMDg2MDEgZGF0ZSh0aW1lKSBmb3JtYXR0ZWQgc3RyaW5nIGFuZCByZXR1cm4gZGF0ZSBpbnN0YW5jZVxuICAgKi9cbiAgc3RhdGljIHBhcnNlRGF0ZShzdHI6IHN0cmluZyk6IERhdGUge1xuICAgIGxldCBkID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCByZWdleHAgPSAvXihbXFxkXXs0fSktPyhbXFxkXXsyfSktPyhbXFxkXXsyfSkoVChbXFxkXXsyfSk6PyhbXFxkXXsyfSk6PyhbXFxkXXsyfSkoLihbXFxkXXszfSkpPyhafChbKy1dKShbXFxkXXsyfSk6PyhbXFxkXXsyfSkpKT8kLztcbiAgICBjb25zdCBtID0gc3RyLm1hdGNoKHJlZ2V4cCk7XG4gICAgaWYgKG0pIHtcbiAgICAgIGQgPSBuZXcgRGF0ZSgwKTtcbiAgICAgIGlmICghbVs0XSkge1xuICAgICAgICBkLnNldEZ1bGxZZWFyKHBhcnNlSW50KG1bMV0sIDEwKSk7XG4gICAgICAgIGQuc2V0RGF0ZShwYXJzZUludChtWzNdLCAxMCkpO1xuICAgICAgICBkLnNldE1vbnRoKHBhcnNlSW50KG1bMl0sIDEwKSAtIDEpO1xuICAgICAgICBkLnNldEhvdXJzKDApO1xuICAgICAgICBkLnNldE1pbnV0ZXMoMCk7XG4gICAgICAgIGQuc2V0U2Vjb25kcygwKTtcbiAgICAgICAgZC5zZXRNaWxsaXNlY29uZHMoMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkLnNldFVUQ0Z1bGxZZWFyKHBhcnNlSW50KG1bMV0sIDEwKSk7XG4gICAgICAgIGQuc2V0VVRDRGF0ZShwYXJzZUludChtWzNdLCAxMCkpO1xuICAgICAgICBkLnNldFVUQ01vbnRoKHBhcnNlSW50KG1bMl0sIDEwKSAtIDEpO1xuICAgICAgICBkLnNldFVUQ0hvdXJzKHBhcnNlSW50KG1bNV0sIDEwKSk7XG4gICAgICAgIGQuc2V0VVRDTWludXRlcyhwYXJzZUludChtWzZdLCAxMCkpO1xuICAgICAgICBkLnNldFVUQ1NlY29uZHMocGFyc2VJbnQobVs3XSwgMTApKTtcbiAgICAgICAgZC5zZXRVVENNaWxsaXNlY29uZHMocGFyc2VJbnQobVs5XSB8fCAnMCcsIDEwKSk7XG4gICAgICAgIGlmIChtWzEwXSAmJiBtWzEwXSAhPT0gJ1onKSB7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyc2VJbnQobVsxMl0sIDEwKSAqIDYwICsgcGFyc2VJbnQobVsxM10sIDEwKTtcbiAgICAgICAgICBkLnNldFRpbWUoXG4gICAgICAgICAgICAobVsxMV0gPT09ICcrJyA/IC0xIDogMSkgKiBvZmZzZXQgKiA2MCAqIDEwMDAgKyBkLmdldFRpbWUoKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGRhdGUgZm9ybWF0IGlzIHNwZWNpZmllZCA6ICR7c3RyfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIElTMDg2MDEgdGltZSBmb3JtYXR0ZWQgc3RyaW5nIGFuZCBjb252ZXJ0IHRvIHBhcnNlIHN0cmluZ1xuICAgKi9cbiAgc3RhdGljIHBhcnNlVGltZShzdHI6IHN0cmluZyk6IERhdGUge1xuICAgIGNvbnN0IHJlZ2V4cCA9IC9eKFtcXGRdezJ9KTo/KFtcXGRdezJ9KTo/KFtcXGRdezJ9KSguKFtcXGRdezN9KSk/Wj8kLztcbiAgICBjb25zdCBtID0gc3RyLm1hdGNoKHJlZ2V4cCk7XG4gICAgaWYgKG0pIHtcbiAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZSgwKTtcbiAgICAgIGxldCBoaCA9IHBhcnNlSW50KG1bMV0sIDEwKTtcbiAgICAgIGNvbnN0IG1pID0gcGFyc2VJbnQobVsyXSwgMTApO1xuICAgICAgY29uc3Qgc3MgPSBwYXJzZUludChtWzNdLCAxMCk7XG4gICAgICBjb25zdCBzc3MgPSBwYXJzZUludChtWzVdIHx8ICcwJywgMTApO1xuICAgICAgZC5zZXRVVENIb3VycyhoaCk7XG4gICAgICBkLnNldFVUQ01pbnV0ZXMobWkpO1xuICAgICAgZC5zZXRVVENTZWNvbmRzKHNzKTtcbiAgICAgIGQuc2V0VVRDTWlsbGlzZWNvbmRzKHNzcyk7XG4gICAgICByZXR1cm4gZDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRpbWUgZm9ybWF0IGlzIHNwZWNpZmllZCA6ICR7c3RyfWApO1xuICB9XG5cbiAgc3RhdGljIFlFU1RFUkRBWSA9IG5ldyBTZkRhdGUoJ1lFU1RFUkRBWScpO1xuICBzdGF0aWMgVE9EQVkgPSBuZXcgU2ZEYXRlKCdUT0RBWScpO1xuICBzdGF0aWMgVE9NT1JST1cgPSBuZXcgU2ZEYXRlKCdUT01PUlJPVycpO1xuICBzdGF0aWMgTEFTVF9XRUVLID0gbmV3IFNmRGF0ZSgnTEFTVF9XRUVLJyk7XG4gIHN0YXRpYyBUSElTX1dFRUsgPSBuZXcgU2ZEYXRlKCdUSElTX1dFRUsnKTtcbiAgc3RhdGljIE5FWFRfV0VFSyA9IG5ldyBTZkRhdGUoJ05FWFRfV0VFSycpO1xuICBzdGF0aWMgTEFTVF9NT05USCA9IG5ldyBTZkRhdGUoJ0xBU1RfTU9OVEgnKTtcbiAgc3RhdGljIFRISVNfTU9OVEggPSBuZXcgU2ZEYXRlKCdUSElTX01PTlRIJyk7XG4gIHN0YXRpYyBORVhUX01PTlRIID0gbmV3IFNmRGF0ZSgnTkVYVF9NT05USCcpO1xuICBzdGF0aWMgTEFTVF85MF9EQVlTID0gbmV3IFNmRGF0ZSgnTEFTVF85MF9EQVlTJyk7XG4gIHN0YXRpYyBORVhUXzkwX0RBWVMgPSBuZXcgU2ZEYXRlKCdORVhUXzkwX0RBWVMnKTtcbiAgc3RhdGljIExBU1RfTl9EQVlTID0gY3JlYXRlTGl0ZXJhbEJ1aWxkZXIoJ0xBU1RfTl9EQVlTJyk7XG4gIHN0YXRpYyBORVhUX05fREFZUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKCdORVhUX05fREFZUycpO1xuICBzdGF0aWMgTkVYVF9OX1dFRUtTID0gY3JlYXRlTGl0ZXJhbEJ1aWxkZXIoJ05FWFRfTl9XRUVLUycpO1xuICBzdGF0aWMgTEFTVF9OX1dFRUtTID0gY3JlYXRlTGl0ZXJhbEJ1aWxkZXIoJ0xBU1RfTl9XRUVLUycpO1xuICBzdGF0aWMgTkVYVF9OX01PTlRIUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKCdORVhUX05fTU9OVEhTJyk7XG4gIHN0YXRpYyBMQVNUX05fTU9OVEhTID0gY3JlYXRlTGl0ZXJhbEJ1aWxkZXIoJ0xBU1RfTl9NT05USFMnKTtcbiAgc3RhdGljIFRISVNfUVVBUlRFUiA9IG5ldyBTZkRhdGUoJ1RISVNfUVVBUlRFUicpO1xuICBzdGF0aWMgTEFTVF9RVUFSVEVSID0gbmV3IFNmRGF0ZSgnTEFTVF9RVUFSVEVSJyk7XG4gIHN0YXRpYyBORVhUX1FVQVJURVIgPSBuZXcgU2ZEYXRlKCdORVhUX1FVQVJURVInKTtcbiAgc3RhdGljIE5FWFRfTl9RVUFSVEVSUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKCdORVhUX05fUVVBUlRFUlMnKTtcbiAgc3RhdGljIExBU1RfTl9RVUFSVEVSUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKCdMQVNUX05fUVVBUlRFUlMnKTtcbiAgc3RhdGljIFRISVNfWUVBUiA9IG5ldyBTZkRhdGUoJ1RISVNfWUVBUicpO1xuICBzdGF0aWMgTEFTVF9ZRUFSID0gbmV3IFNmRGF0ZSgnTEFTVF9ZRUFSJyk7XG4gIHN0YXRpYyBORVhUX1lFQVIgPSBuZXcgU2ZEYXRlKCdORVhUX1lFQVInKTtcbiAgc3RhdGljIE5FWFRfTl9ZRUFSUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKCdORVhUX05fWUVBUlMnKTtcbiAgc3RhdGljIExBU1RfTl9ZRUFSUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKCdMQVNUX05fWUVBUlMnKTtcbiAgc3RhdGljIFRISVNfRklTQ0FMX1FVQVJURVIgPSBuZXcgU2ZEYXRlKCdUSElTX0ZJU0NBTF9RVUFSVEVSJyk7XG4gIHN0YXRpYyBMQVNUX0ZJU0NBTF9RVUFSVEVSID0gbmV3IFNmRGF0ZSgnTEFTVF9GSVNDQUxfUVVBUlRFUicpO1xuICBzdGF0aWMgTkVYVF9GSVNDQUxfUVVBUlRFUiA9IG5ldyBTZkRhdGUoJ05FWFRfRklTQ0FMX1FVQVJURVInKTtcbiAgc3RhdGljIFRISVNfRklTQ0FMX1lFQVIgPSBuZXcgU2ZEYXRlKCdUSElTX0ZJU0NBTF9ZRUFSJyk7XG4gIHN0YXRpYyBORVhUX05fRklTQ0FMX1FVQVJURVJTID0gY3JlYXRlTGl0ZXJhbEJ1aWxkZXIoXG4gICAgJ05FWFRfTl9GSVNDQUxfUVVBUlRFUlMnLFxuICApO1xuICBzdGF0aWMgTEFTVF9OX0ZJU0NBTF9RVUFSVEVSUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKFxuICAgICdMQVNUX05fRklTQ0FMX1FVQVJURVJTJyxcbiAgKTtcbiAgc3RhdGljIExBU1RfRklTQ0FMX1lFQVIgPSBuZXcgU2ZEYXRlKCdMQVNUX0ZJU0NBTF9ZRUFSJyk7XG4gIHN0YXRpYyBORVhUX0ZJU0NBTF9ZRUFSID0gbmV3IFNmRGF0ZSgnTkVYVF9GSVNDQUxfWUVBUicpO1xuICBzdGF0aWMgTkVYVF9OX0ZJU0NBTF9ZRUFSUyA9IGNyZWF0ZUxpdGVyYWxCdWlsZGVyKCdORVhUX05fRklTQ0FMX1lFQVJTJyk7XG4gIHN0YXRpYyBMQVNUX05fRklTQ0FMX1lFQVJTID0gY3JlYXRlTGl0ZXJhbEJ1aWxkZXIoJ0xBU1RfTl9GSVNDQUxfWUVBUlMnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2ZEYXRlO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUdBLElBQUFBLFVBQUEsR0FBQUMsT0FBQTtBQUhBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBLFNBQVNDLG9CQUFvQkEsQ0FBQ0MsT0FBZSxFQUFFO0VBQzdDLE9BQVFDLEdBQVcsSUFBSyxJQUFJQyxNQUFN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