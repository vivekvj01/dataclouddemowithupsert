import _getIterator from "@babel/runtime-corejs3/core-js/get-iterator";
import _Array$isArray from "@babel/runtime-corejs3/core-js-stable/array/is-array";
import _getIteratorMethod from "@babel/runtime-corejs3/core-js/get-iterator-method";
import _Symbol from "@babel/runtime-corejs3/core-js-stable/symbol";
import _Array$from from "@babel/runtime-corejs3/core-js-stable/array/from";
import _sliceInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/slice";
import "core-js/modules/es.regexp.exec";
import "core-js/modules/es.string.replace";
import "core-js/modules/es.string.split";
import _Object$keys2 from "@babel/runtime-corejs3/core-js-stable/object/keys";
import _Object$getOwnPropertyNames from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-names";
import _Object$getPrototypeOf from "@babel/runtime-corejs3/core-js-stable/object/get-prototype-of";
import _indexOfInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/index-of";
import _filterInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/filter";
import _slicedToArray from "@babel/runtime-corejs3/helpers/slicedToArray";
import _regeneratorRuntime from "@babel/runtime-corejs3/regenerator";
import "regenerator-runtime/runtime";
import _asyncToGenerator from "@babel/runtime-corejs3/helpers/asyncToGenerator";
import _classCallCheck from "@babel/runtime-corejs3/helpers/classCallCheck";
import _createClass from "@babel/runtime-corejs3/helpers/createClass";
import _defineProperty from "@babel/runtime-corejs3/helpers/defineProperty";
import _Object$defineProperty from "@babel/runtime-corejs3/core-js-stable/object/define-property";
import _JSON$stringify from "@babel/runtime-corejs3/core-js-stable/json/stringify";
import _concatInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/concat";
function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof _Symbol === "undefined" || _getIteratorMethod(o) == null) { if (_Array$isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = _getIterator(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function _unsupportedIterableToArray(o, minLen) { var _context6; if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = _sliceInstanceProperty(_context6 = Object.prototype.toString.call(o)).call(_context6, 8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return _Array$from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }
/**
 * @file Creates REPL interface with built in Salesforce API objects and automatically resolves promise object
 * @author Shinichi Tomita <shinichi.tomita@gmail.com>
 * @private
 */
import { EventEmitter } from 'events';
import { start as startRepl } from 'repl';
import { Transform } from 'stream';
import jsforce from '..';
import { isPromiseLike, isNumber, isFunction, isObject } from '../util/function';
/**
 * Intercept the evaled value returned from repl evaluator, convert and send back to output.
 * @private
 */
function injectBefore(replServer, method, beforeFn) {
  var _orig = replServer[method];
  replServer[method] = function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    var callback = args.pop();
    beforeFn.apply(null, _concatInstanceProperty(args).call(args, function (err, res) {
      if (err || res) {
        callback(err, res);
      } else {
        _orig.apply(replServer, _concatInstanceProperty(args).call(args, callback));
      }
    }));
  };
  return replServer;
}

/**
 * @private
 */
function injectAfter(replServer, method, afterFn) {
  var _orig = replServer[method];
  replServer[method] = function () {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    var callback = args.pop();
    _orig.apply(replServer, _concatInstanceProperty(args).call(args, function () {
      try {
        for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
          args[_key3] = arguments[_key3];
        }
        afterFn.apply(null, _concatInstanceProperty(args).call(args, callback));
      } catch (e) {
        callback(e);
      }
    }));
  };
  return replServer;
}

/**
 * When the result was "promise", resolve its value
 * @private
 */
function promisify(err, value, callback) {
  // callback immediately if no value passed
  if (!callback && isFunction(value)) {
    callback = value;
    return callback();
  }
  if (err) {
    throw err;
  }
  if (isPromiseLike(value)) {
    value.then(function (v) {
      callback(null, v);
    }, function (err) {
      callback(err);
    });
  } else {
    callback(null, value);
  }
}

/**
 * Output object to stdout in JSON representation
 * @private
 */
function outputToStdout(prettyPrint) {
  if (prettyPrint && !isNumber(prettyPrint)) {
    prettyPrint = 4;
  }
  return function (err, value, callback) {
    if (err) {
      console.error(err);
    } else {
      var str = _JSON$stringify(value, null, prettyPrint);
      console.log(str);
    }
    callback(err, value);
  };
}

/**
 * define get accessor using Object.defineProperty
 * @private
 */
function defineProp(obj, prop, getter) {
  if (_Object$defineProperty) {
    _Object$defineProperty(obj, prop, {
      get: getter
    });
  }
}

/**
 *
 */
export var Repl = /*#__PURE__*/function () {
  function Repl(cli) {
    var _this = this;
    _classCallCheck(this, Repl);
    _defineProperty(this, "_cli", void 0);
    _defineProperty(this, "_in", void 0);
    _defineProperty(this, "_out", void 0);
    _defineProperty(this, "_interactive", true);
    _defineProperty(this, "_paused", false);
    _defineProperty(this, "_replServer", undefined);
    this._cli = cli;
    this._in = new Transform();
    this._out = new Transform();
    this._in._transform = function (chunk, encoding, callback) {
      if (!_this._paused) {
        _this._in.push(chunk);
      }
      callback();
    };
    this._out._transform = function (chunk, encoding, callback) {
      if (!_this._paused && _this._interactive !== false) {
        _this._out.push(chunk);
      }
      callback();
    };
  }

  /**
   *
   */
  _createClass(Repl, [{
    key: "start",
    value: function start() {
      var _this2 = this;
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      this._interactive = options.interactive !== false;
      process.stdin.resume();
      if (process.stdin.setRawMode) {
        process.stdin.setRawMode(true);
      }
      process.stdin.pipe(this._in);
      this._out.pipe(process.stdout);
      defineProp(this._out, 'columns', function () {
        return process.stdout.columns;
      });
      this._replServer = startRepl({
        input: this._in,
        output: this._out,
        terminal: true
      });
      this._defineAdditionalCommands();
      this._replServer = injectBefore(this._replServer, 'completer', function (line, callback) {
        _this2.complete(line).then(function (rets) {
          callback(null, rets);
        }).catch(function (err) {
          callback(err);
        });
      });
      this._replServer = injectAfter(this._replServer, 'eval', promisify);
      if (options.interactive === false) {
        this._replServer = injectAfter(this._replServer, 'eval', outputToStdout(options.prettyPrint));
        this._replServer = injectAfter(this._replServer, 'eval', function () {
          process.exit();
        });
      }
      this._replServer.on('exit', function () {
        return process.exit();
      });
      this._defineBuiltinVars(this._replServer.context);
      if (options.evalScript) {
        this._in.write(options.evalScript + '\n', 'utf-8');
      }
      return this;
    }
    /**
     *
     */
  }, {
    key: "_defineAdditionalCommands",
    value: function _defineAdditionalCommands() {
      var cli = this._cli;
      var replServer = this._replServer;
      if (!replServer) {
        return;
      }
      replServer.defineCommand('connections', {
        help: 'List currenty registered Salesforce connections',
        action: function () {
          var _action = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {
            return _regeneratorRuntime.wrap(function _callee$(_context) {
              while (1) {
                switch (_context.prev = _context.next) {
                  case 0:
                    _context.next = 2;
                    return cli.listConnections();
                  case 2:
                    replServer.displayPrompt();
                  case 3:
                  case "end":
                    return _context.stop();
                }
              }
            }, _callee);
          }));
          function action() {
            return _action.apply(this, arguments);
          }
          return action;
        }()
      });
      replServer.defineCommand('connect', {
        help: 'Connect to Salesforce instance',
        action: function () {
          var _action2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {
            var _len4,
              args,
              _key4,
              name,
              password,
              params,
              _args2 = arguments;
            return _regeneratorRuntime.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    for (_len4 = _args2.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
                      args[_key4] = _args2[_key4];
                    }
                    name = args[0], password = args[1];
                    params = password ? {
                      connection: name,
                      username: name,
                      password: password
                    } : {
                      connection: name,
                      username: name
                    };
                    _context2.prev = 3;
                    _context2.next = 6;
                    return cli.connect(params);
                  case 6:
                    _context2.next = 11;
                    break;
                  case 8:
                    _context2.prev = 8;
                    _context2.t0 = _context2["catch"](3);
                    if (_context2.t0 instanceof Error) {
                      console.error(_context2.t0.message);
                    }
                  case 11:
                    replServer.displayPrompt();
                  case 12:
                  case "end":
                    return _context2.stop();
                }
              }
            }, _callee2, null, [[3, 8]]);
          }));
          function action() {
            return _action2.apply(this, arguments);
          }
          return action;
        }()
      });
      replServer.defineCommand('disconnect', {
        help: 'Disconnect connection and erase it from registry',
        action: function action(name) {
          cli.disconnect(name);
          replServer.displayPrompt();
        }
      });
      replServer.defineCommand('use', {
        help: 'Specify login server to establish connection',
        action: function action(loginServer) {
          cli.setLoginServer(loginServer);
          replServer.displayPrompt();
        }
      });
      replServer.defineCommand('authorize', {
        help: 'Connect to Salesforce using OAuth2 authorization flow',
        action: function () {
          var _action3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(clientName) {
            return _regeneratorRuntime.wrap(function _callee3$(_context3) {
              while (1) {
                switch (_context3.prev = _context3.next) {
                  case 0:
                    _context3.prev = 0;
                    _context3.next = 3;
                    return cli.authorize(clientName);
                  case 3:
                    _context3.next = 8;
                    break;
                  case 5:
                    _context3.prev = 5;
                    _context3.t0 = _context3["catch"](0);
                    if (_context3.t0 instanceof Error) {
                      console.error(_context3.t0.message);
                    }
                  case 8:
                    replServer.displayPrompt();
                  case 9:
                  case "end":
                    return _context3.stop();
                }
              }
            }, _callee3, null, [[0, 5]]);
          }));
          function action(_x) {
            return _action3.apply(this, arguments);
          }
          return action;
        }()
      });
      replServer.defineCommand('register', {
        help: 'Register OAuth2 client information',
        action: function () {
          var _action4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {
            var _len5,
              args,
              _key5,
              clientName,
              clientId,
              clientSecret,
              redirectUri,
              loginUrl,
              config,
              _args4 = arguments;
            return _regeneratorRuntime.wrap(function _callee4$(_context4) {
              while (1) {
                switch (_context4.prev = _context4.next) {
                  case 0:
                    for (_len5 = _args4.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
                      args[_key5] = _args4[_key5];
                    }
                    clientName = args[0], clientId = args[1], clientSecret = args[2], redirectUri = args[3], loginUrl = args[4];
                    config = {
                      clientId: clientId,
                      clientSecret: clientSecret,
                      redirectUri: redirectUri,
                      loginUrl: loginUrl
                    };
                    _context4.prev = 3;
                    _context4.next = 6;
                    return cli.register(clientName, config);
                  case 6:
                    _context4.next = 11;
                    break;
                  case 8:
                    _context4.prev = 8;
                    _context4.t0 = _context4["catch"](3);
                    if (_context4.t0 instanceof Error) {
                      console.error(_context4.t0.message);
                    }
                  case 11:
                    replServer.displayPrompt();
                  case 12:
                  case "end":
                    return _context4.stop();
                }
              }
            }, _callee4, null, [[3, 8]]);
          }));
          function action() {
            return _action4.apply(this, arguments);
          }
          return action;
        }()
      });
      replServer.defineCommand('open', {
        help: 'Open Salesforce web page using established connection',
        action: function action(url) {
          cli.openUrlUsingSession(url);
          replServer.displayPrompt();
        }
      });
    }
    /**
     *
     */
  }, {
    key: "pause",
    value: function pause() {
      this._paused = true;
      if (process.stdin.setRawMode) {
        process.stdin.setRawMode(false);
      }
    }
    /**
     *
     */
  }, {
    key: "resume",
    value: function resume() {
      this._paused = false;
      process.stdin.resume();
      if (process.stdin.setRawMode) {
        process.stdin.setRawMode(true);
      }
    }
    /**
     *
     */
  }, {
    key: "complete",
    value: function () {
      var _complete = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(line) {
        var tokens, _tokens, command, _tokens$, keyword, candidates;
        return _regeneratorRuntime.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                tokens = line.replace(/^\s+/, '').split(/\s+/);
                _tokens = _slicedToArray(tokens, 2), command = _tokens[0], _tokens$ = _tokens[1], keyword = _tokens$ === void 0 ? '' : _tokens$;
                if (!(command[0] === '.' && tokens.length === 2)) {
                  _context5.next = 19;
                  break;
                }
                candidates = [];
                if (!(command === '.connect' || command === '.disconnect')) {
                  _context5.next = 10;
                  break;
                }
                _context5.next = 7;
                return this._cli.getConnectionNames();
              case 7:
                candidates = _context5.sent;
                _context5.next = 17;
                break;
              case 10:
                if (!(command === '.authorize')) {
                  _context5.next = 16;
                  break;
                }
                _context5.next = 13;
                return this._cli.getClientNames();
              case 13:
                candidates = _context5.sent;
                _context5.next = 17;
                break;
              case 16:
                if (command === '.use') {
                  candidates = ['production', 'sandbox'];
                }
              case 17:
                candidates = _filterInstanceProperty(candidates).call(candidates, function (name) {
                  return _indexOfInstanceProperty(name).call(name, keyword) === 0;
                });
                return _context5.abrupt("return", [candidates, keyword]);
              case 19:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));
      function complete(_x2) {
        return _complete.apply(this, arguments);
      }
      return complete;
    }()
    /**
     * Map all jsforce object to REPL context
     * @private
     */
  }, {
    key: "_defineBuiltinVars",
    value: function _defineBuiltinVars(context) {
      var cli = this._cli;

      // define salesforce package root objects
      for (var key in jsforce) {
        if (Object.prototype.hasOwnProperty.call(jsforce, key) && !global[key]) {
          context[key] = jsforce[key];
        }
      }
      // expose jsforce package root object in context.
      context.jsforce = jsforce;
      function createProxyFunc(prop) {
        return function () {
          var _ref;
          var conn = cli.getCurrentConnection();
          return (_ref = conn)[prop].apply(_ref, arguments);
        };
      }
      function createProxyAccessor(prop) {
        return function () {
          var conn = cli.getCurrentConnection();
          return conn[prop];
        };
      }
      var conn = cli.getCurrentConnection();
      // list all props in connection instance, other than EventEmitter or object built-in methods
      var props = {};
      var o = conn;
      while (o && o !== EventEmitter.prototype && o !== Object.prototype) {
        var _iterator = _createForOfIteratorHelper(_Object$getOwnPropertyNames(o)),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var p = _step.value;
            if (p !== 'constructor') {
              props[p] = true;
            }
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
        o = _Object$getPrototypeOf(o);
      }
      for (var _i = 0, _Object$keys = _Object$keys2(props); _i < _Object$keys.length; _i++) {
        var _prop = _Object$keys[_i];
        if (typeof global[_prop] !== 'undefined') {
          // avoid global override
          continue;
        }
        if (_indexOfInstanceProperty(_prop).call(_prop, '_') === 0) {
          // ignore private
          continue;
        }
        if (isFunction(conn[_prop])) {
          context[_prop] = createProxyFunc(_prop);
        } else if (isObject(conn[_prop])) {
          defineProp(context, _prop, createProxyAccessor(_prop));
        }
      }

      // expose default connection as "$conn"
      defineProp(context, '$conn', function () {
        return cli.getCurrentConnection();
      });
    }
  }]);
  return Repl;
}();
export default Repl;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJzdGFydCIsInN0YXJ0UmVwbCIsIlRyYW5zZm9ybSIsImpzZm9yY2UiLCJpc1Byb21pc2VMaWtlIiwiaXNOdW1iZXIiLCJpc0Z1bmN0aW9uIiwiaXNPYmplY3QiLCJpbmplY3RCZWZvcmUiLCJyZXBsU2VydmVyIiwibWV0aG9kIiwiYmVmb3JlRm4iLCJfb3JpZyIsIl9sZW4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmdzIiwiQXJyYXkiLCJfa2V5IiwiY2FsbGJhY2siLCJwb3AiLCJhcHBseSIsIl9jb25jYXRJbnN0YW5jZVByb3BlcnR5IiwiY2FsbCIsImVyciIsInJlcyIsImluamVjdEFmdGVyIiwiYWZ0ZXJGbiIsIl9sZW4yIiwiX2tleTIiLCJfbGVuMyIsIl9rZXkzIiwiZSIsInByb21pc2lmeSIsInZhbHVlIiwidGhlbiIsInYiLCJvdXRwdXRUb1N0ZG91dCIsInByZXR0eVByaW50IiwiY29uc29sZSIsImVycm9yIiwic3RyIiwiX0pTT04kc3RyaW5naWZ5IiwibG9nIiwiZGVmaW5lUHJvcCIsIm9iaiIsInByb3AiLCJnZXR0ZXIiLCJfT2JqZWN0JGRlZmluZVByb3BlcnR5IiwiZ2V0IiwiUmVwbCIsImNsaSIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwiX2RlZmluZVByb3BlcnR5IiwidW5kZWZpbmVkIiwiX2NsaSIsIl9pbiIsIl9vdXQiLCJfdHJhbnNmb3JtIiwiY2h1bmsiLCJlbmNvZGluZyIsIl9wYXVzZWQiLCJwdXNoIiwiX2ludGVyYWN0aXZlIiwiX2NyZWF0ZUNsYXNzIiwia2V5IiwiX3RoaXMyIiwib3B0aW9ucyIsImludGVyYWN0aXZlIiwicHJvY2VzcyIsInN0ZGluIiwicmVzdW1lIiwic2V0UmF3TW9kZSIsInBpcGUiLCJzdGRvdXQiLCJjb2x1bW5zIiwiX3JlcGxTZXJ2ZXIiLCJpbnB1dCIsIm91dHB1dCIsInRlcm1pbmFsIiwiX2RlZmluZUFkZGl0aW9uYWxDb21tYW5kcyIsImxpbmUiLCJjb21wbGV0ZSIsInJldHMiLCJjYXRjaCIsImV4aXQiLCJvbiIsIl9kZWZpbmVCdWlsdGluVmFycyIsImNvbnRleHQiLCJldmFsU2NyaXB0Iiwid3JpdGUiLCJkZWZpbmVDb21tYW5kIiwiaGVscCIsImFjdGlvbiIsIl9hY3Rpb24iLCJfYXN5bmNUb0dlbmVyYXRvciIsIl9yZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJsaXN0Q29ubmVjdGlvbnMiLCJkaXNwbGF5UHJvbXB0Iiwic3RvcCIsIl9hY3Rpb24yIiwiX2NhbGxlZTIiLCJfbGVuNCIsIl9rZXk0IiwibmFtZSIsInBhc3N3b3JkIiwicGFyYW1zIiwiX2FyZ3MyIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiY29ubmVjdGlvbiIsInVzZXJuYW1lIiwiY29ubmVjdCIsInQwIiwiRXJyb3IiLCJtZXNzYWdlIiwiZGlzY29ubmVjdCIsImxvZ2luU2VydmVyIiwic2V0TG9naW5TZXJ2ZXIiLCJfYWN0aW9uMyIsIl9jYWxsZWUzIiwiY2xpZW50TmFtZSIsIl9jYWxsZWUzJCIsIl9jb250ZXh0MyIsImF1dGhvcml6ZSIsIl94IiwiX2FjdGlvbjQiLCJfY2FsbGVlNCIsIl9sZW41IiwiX2tleTUiLCJjbGllbnRJZCIsImNsaWVudFNlY3JldCIsInJlZGlyZWN0VXJpIiwibG9naW5VcmwiLCJjb25maWciLCJfYXJnczQiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJyZWdpc3RlciIsInVybCIsIm9wZW5VcmxVc2luZ1Nlc3Npb24iLCJwYXVzZSIsIl9jb21wbGV0ZSIsIl9jYWxsZWU1IiwidG9rZW5zIiwiX3Rva2VucyIsImNvbW1hbmQiLCJfdG9rZW5zJCIsImtleXdvcmQiLCJjYW5kaWRhdGVzIiwiX2NhbGxlZTUkIiwiX2NvbnRleHQ1IiwicmVwbGFjZSIsInNwbGl0IiwiX3NsaWNlZFRvQXJyYXkiLCJnZXRDb25uZWN0aW9uTmFtZXMiLCJzZW50IiwiZ2V0Q2xpZW50TmFtZXMiLCJfZmlsdGVySW5zdGFuY2VQcm9wZXJ0eSIsIl9pbmRleE9mSW5zdGFuY2VQcm9wZXJ0eSIsImFicnVwdCIsIl94MiIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiZ2xvYmFsIiwiY3JlYXRlUHJveHlGdW5jIiwiX3JlZiIsImNvbm4iLCJnZXRDdXJyZW50Q29ubmVjdGlvbiIsImNyZWF0ZVByb3h5QWNjZXNzb3IiLCJwcm9wcyIsIm8iLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsIl9PYmplY3QkZ2V0T3duUHJvcGVydHlOYW1lcyIsIl9zdGVwIiwicyIsIm4iLCJkb25lIiwicCIsImYiLCJfT2JqZWN0JGdldFByb3RvdHlwZU9mIiwiX2kiLCJfT2JqZWN0JGtleXMiLCJfT2JqZWN0JGtleXMyIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NsaS9yZXBsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgQ3JlYXRlcyBSRVBMIGludGVyZmFjZSB3aXRoIGJ1aWx0IGluIFNhbGVzZm9yY2UgQVBJIG9iamVjdHMgYW5kIGF1dG9tYXRpY2FsbHkgcmVzb2x2ZXMgcHJvbWlzZSBvYmplY3RcbiAqIEBhdXRob3IgU2hpbmljaGkgVG9taXRhIDxzaGluaWNoaS50b21pdGFAZ21haWwuY29tPlxuICogQHByaXZhdGVcbiAqL1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7IFJFUExTZXJ2ZXIsIHN0YXJ0IGFzIHN0YXJ0UmVwbCB9IGZyb20gJ3JlcGwnO1xuaW1wb3J0IHsgVHJhbnNmb3JtIH0gZnJvbSAnc3RyZWFtJztcbmltcG9ydCBqc2ZvcmNlIGZyb20gJy4uJztcbmltcG9ydCB7XG4gIGlzUHJvbWlzZUxpa2UsXG4gIGlzTnVtYmVyLFxuICBpc0Z1bmN0aW9uLFxuICBpc09iamVjdCxcbn0gZnJvbSAnLi4vdXRpbC9mdW5jdGlvbic7XG5pbXBvcnQgeyBDbGkgfSBmcm9tICcuL2NsaSc7XG5cbi8qKlxuICogSW50ZXJjZXB0IHRoZSBldmFsZWQgdmFsdWUgcmV0dXJuZWQgZnJvbSByZXBsIGV2YWx1YXRvciwgY29udmVydCBhbmQgc2VuZCBiYWNrIHRvIG91dHB1dC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGluamVjdEJlZm9yZShcbiAgcmVwbFNlcnZlcjogUkVQTFNlcnZlcixcbiAgbWV0aG9kOiBzdHJpbmcsXG4gIGJlZm9yZUZuOiBGdW5jdGlvbixcbikge1xuICBjb25zdCBfb3JpZzogRnVuY3Rpb24gPSAocmVwbFNlcnZlciBhcyBhbnkpW21ldGhvZF07XG4gIChyZXBsU2VydmVyIGFzIGFueSlbbWV0aG9kXSA9ICguLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gYXJncy5wb3AoKTtcbiAgICBiZWZvcmVGbi5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICBhcmdzLmNvbmNhdCgoZXJyOiBhbnksIHJlczogYW55KSA9PiB7XG4gICAgICAgIGlmIChlcnIgfHwgcmVzKSB7XG4gICAgICAgICAgY2FsbGJhY2soZXJyLCByZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9vcmlnLmFwcGx5KHJlcGxTZXJ2ZXIsIGFyZ3MuY29uY2F0KGNhbGxiYWNrKSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG4gIHJldHVybiByZXBsU2VydmVyO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGluamVjdEFmdGVyKFxuICByZXBsU2VydmVyOiBSRVBMU2VydmVyLFxuICBtZXRob2Q6IHN0cmluZyxcbiAgYWZ0ZXJGbjogRnVuY3Rpb24sXG4pIHtcbiAgY29uc3QgX29yaWc6IEZ1bmN0aW9uID0gKHJlcGxTZXJ2ZXIgYXMgYW55KVttZXRob2RdO1xuICAocmVwbFNlcnZlciBhcyBhbnkpW21ldGhvZF0gPSAoLi4uYXJnczogYW55W10pID0+IHtcbiAgICBjb25zdCBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG4gICAgX29yaWcuYXBwbHkoXG4gICAgICByZXBsU2VydmVyLFxuICAgICAgYXJncy5jb25jYXQoKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYWZ0ZXJGbi5hcHBseShudWxsLCBhcmdzLmNvbmNhdChjYWxsYmFjaykpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY2FsbGJhY2soZSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG4gIHJldHVybiByZXBsU2VydmVyO1xufVxuXG4vKipcbiAqIFdoZW4gdGhlIHJlc3VsdCB3YXMgXCJwcm9taXNlXCIsIHJlc29sdmUgaXRzIHZhbHVlXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwcm9taXNpZnkoXG4gIGVycjogRXJyb3IgfCBudWxsIHwgdW5kZWZpbmVkLFxuICB2YWx1ZTogYW55LFxuICBjYWxsYmFjazogRnVuY3Rpb24sXG4pIHtcbiAgLy8gY2FsbGJhY2sgaW1tZWRpYXRlbHkgaWYgbm8gdmFsdWUgcGFzc2VkXG4gIGlmICghY2FsbGJhY2sgJiYgaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICBjYWxsYmFjayA9IHZhbHVlO1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG4gIGlmIChlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgaWYgKGlzUHJvbWlzZUxpa2UodmFsdWUpKSB7XG4gICAgdmFsdWUudGhlbihcbiAgICAgICh2OiBhbnkpID0+IHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgdik7XG4gICAgICB9LFxuICAgICAgKGVycjogYW55KSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9LFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgY2FsbGJhY2sobnVsbCwgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogT3V0cHV0IG9iamVjdCB0byBzdGRvdXQgaW4gSlNPTiByZXByZXNlbnRhdGlvblxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gb3V0cHV0VG9TdGRvdXQocHJldHR5UHJpbnQ/OiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgaWYgKHByZXR0eVByaW50ICYmICFpc051bWJlcihwcmV0dHlQcmludCkpIHtcbiAgICBwcmV0dHlQcmludCA9IDQ7XG4gIH1cbiAgcmV0dXJuIChlcnI6IGFueSwgdmFsdWU6IGFueSwgY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdHIgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSwgbnVsbCwgcHJldHR5UHJpbnQpO1xuICAgICAgY29uc29sZS5sb2coc3RyKTtcbiAgICB9XG4gICAgY2FsbGJhY2soZXJyLCB2YWx1ZSk7XG4gIH07XG59XG5cbi8qKlxuICogZGVmaW5lIGdldCBhY2Nlc3NvciB1c2luZyBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRlZmluZVByb3Aob2JqOiBPYmplY3QsIHByb3A6IHN0cmluZywgZ2V0dGVyOiAoKSA9PiBhbnkpIHtcbiAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3AsIHsgZ2V0OiBnZXR0ZXIgfSk7XG4gIH1cbn1cblxuLyoqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgUmVwbCB7XG4gIF9jbGk6IENsaTtcbiAgX2luOiBUcmFuc2Zvcm07XG4gIF9vdXQ6IFRyYW5zZm9ybTtcbiAgX2ludGVyYWN0aXZlOiBib29sZWFuID0gdHJ1ZTtcbiAgX3BhdXNlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBfcmVwbFNlcnZlcjogUkVQTFNlcnZlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihjbGk6IENsaSkge1xuICAgIHRoaXMuX2NsaSA9IGNsaTtcbiAgICB0aGlzLl9pbiA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICB0aGlzLl9vdXQgPSBuZXcgVHJhbnNmb3JtKCk7XG4gICAgdGhpcy5faW4uX3RyYW5zZm9ybSA9IChjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX3BhdXNlZCkge1xuICAgICAgICB0aGlzLl9pbi5wdXNoKGNodW5rKTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfTtcbiAgICB0aGlzLl9vdXQuX3RyYW5zZm9ybSA9IChjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX3BhdXNlZCAmJiB0aGlzLl9pbnRlcmFjdGl2ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5fb3V0LnB1c2goY2h1bmspO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2soKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBzdGFydChcbiAgICBvcHRpb25zOiB7XG4gICAgICBpbnRlcmFjdGl2ZT86IGJvb2xlYW47XG4gICAgICBwcmV0dHlQcmludD86IHN0cmluZyB8IG51bWJlcjtcbiAgICAgIGV2YWxTY3JpcHQ/OiBzdHJpbmc7XG4gICAgfSA9IHt9LFxuICApIHtcbiAgICB0aGlzLl9pbnRlcmFjdGl2ZSA9IG9wdGlvbnMuaW50ZXJhY3RpdmUgIT09IGZhbHNlO1xuXG4gICAgcHJvY2Vzcy5zdGRpbi5yZXN1bWUoKTtcbiAgICBpZiAocHJvY2Vzcy5zdGRpbi5zZXRSYXdNb2RlKSB7XG4gICAgICBwcm9jZXNzLnN0ZGluLnNldFJhd01vZGUodHJ1ZSk7XG4gICAgfVxuICAgIHByb2Nlc3Muc3RkaW4ucGlwZSh0aGlzLl9pbik7XG5cbiAgICB0aGlzLl9vdXQucGlwZShwcm9jZXNzLnN0ZG91dCk7XG5cbiAgICBkZWZpbmVQcm9wKHRoaXMuX291dCwgJ2NvbHVtbnMnLCAoKSA9PiBwcm9jZXNzLnN0ZG91dC5jb2x1bW5zKTtcblxuICAgIHRoaXMuX3JlcGxTZXJ2ZXIgPSBzdGFydFJlcGwoe1xuICAgICAgaW5wdXQ6IHRoaXMuX2luLFxuICAgICAgb3V0cHV0OiB0aGlzLl9vdXQsXG4gICAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHRoaXMuX2RlZmluZUFkZGl0aW9uYWxDb21tYW5kcygpO1xuXG4gICAgdGhpcy5fcmVwbFNlcnZlciA9IGluamVjdEJlZm9yZShcbiAgICAgIHRoaXMuX3JlcGxTZXJ2ZXIsXG4gICAgICAnY29tcGxldGVyJyxcbiAgICAgIChsaW5lOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikgPT4ge1xuICAgICAgICB0aGlzLmNvbXBsZXRlKGxpbmUpXG4gICAgICAgICAgLnRoZW4oKHJldHMpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldHMpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICk7XG4gICAgdGhpcy5fcmVwbFNlcnZlciA9IGluamVjdEFmdGVyKHRoaXMuX3JlcGxTZXJ2ZXIsICdldmFsJywgcHJvbWlzaWZ5KTtcblxuICAgIGlmIChvcHRpb25zLmludGVyYWN0aXZlID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5fcmVwbFNlcnZlciA9IGluamVjdEFmdGVyKFxuICAgICAgICB0aGlzLl9yZXBsU2VydmVyLFxuICAgICAgICAnZXZhbCcsXG4gICAgICAgIG91dHB1dFRvU3Rkb3V0KG9wdGlvbnMucHJldHR5UHJpbnQpLFxuICAgICAgKTtcbiAgICAgIHRoaXMuX3JlcGxTZXJ2ZXIgPSBpbmplY3RBZnRlcih0aGlzLl9yZXBsU2VydmVyLCAnZXZhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcHJvY2Vzcy5leGl0KCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fcmVwbFNlcnZlci5vbignZXhpdCcsICgpID0+IHByb2Nlc3MuZXhpdCgpKTtcblxuICAgIHRoaXMuX2RlZmluZUJ1aWx0aW5WYXJzKHRoaXMuX3JlcGxTZXJ2ZXIuY29udGV4dCk7XG5cbiAgICBpZiAob3B0aW9ucy5ldmFsU2NyaXB0KSB7XG4gICAgICB0aGlzLl9pbi53cml0ZShvcHRpb25zLmV2YWxTY3JpcHQgKyAnXFxuJywgJ3V0Zi04Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIF9kZWZpbmVBZGRpdGlvbmFsQ29tbWFuZHMoKSB7XG4gICAgY29uc3QgY2xpID0gdGhpcy5fY2xpO1xuICAgIGNvbnN0IHJlcGxTZXJ2ZXIgPSB0aGlzLl9yZXBsU2VydmVyO1xuICAgIGlmICghcmVwbFNlcnZlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXBsU2VydmVyLmRlZmluZUNvbW1hbmQoJ2Nvbm5lY3Rpb25zJywge1xuICAgICAgaGVscDogJ0xpc3QgY3VycmVudHkgcmVnaXN0ZXJlZCBTYWxlc2ZvcmNlIGNvbm5lY3Rpb25zJyxcbiAgICAgIGFjdGlvbjogYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBjbGkubGlzdENvbm5lY3Rpb25zKCk7XG4gICAgICAgIHJlcGxTZXJ2ZXIuZGlzcGxheVByb21wdCgpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgICByZXBsU2VydmVyLmRlZmluZUNvbW1hbmQoJ2Nvbm5lY3QnLCB7XG4gICAgICBoZWxwOiAnQ29ubmVjdCB0byBTYWxlc2ZvcmNlIGluc3RhbmNlJyxcbiAgICAgIGFjdGlvbjogYXN5bmMgKC4uLmFyZ3M6IHN0cmluZ1tdKSA9PiB7XG4gICAgICAgIGNvbnN0IFtuYW1lLCBwYXNzd29yZF0gPSBhcmdzO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBwYXNzd29yZFxuICAgICAgICAgID8geyBjb25uZWN0aW9uOiBuYW1lLCB1c2VybmFtZTogbmFtZSwgcGFzc3dvcmQ6IHBhc3N3b3JkIH1cbiAgICAgICAgICA6IHsgY29ubmVjdGlvbjogbmFtZSwgdXNlcm5hbWU6IG5hbWUgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBjbGkuY29ubmVjdChwYXJhbXMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXBsU2VydmVyLmRpc3BsYXlQcm9tcHQoKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgcmVwbFNlcnZlci5kZWZpbmVDb21tYW5kKCdkaXNjb25uZWN0Jywge1xuICAgICAgaGVscDogJ0Rpc2Nvbm5lY3QgY29ubmVjdGlvbiBhbmQgZXJhc2UgaXQgZnJvbSByZWdpc3RyeScsXG4gICAgICBhY3Rpb246IChuYW1lKSA9PiB7XG4gICAgICAgIGNsaS5kaXNjb25uZWN0KG5hbWUpO1xuICAgICAgICByZXBsU2VydmVyLmRpc3BsYXlQcm9tcHQoKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgcmVwbFNlcnZlci5kZWZpbmVDb21tYW5kKCd1c2UnLCB7XG4gICAgICBoZWxwOiAnU3BlY2lmeSBsb2dpbiBzZXJ2ZXIgdG8gZXN0YWJsaXNoIGNvbm5lY3Rpb24nLFxuICAgICAgYWN0aW9uOiAobG9naW5TZXJ2ZXIpID0+IHtcbiAgICAgICAgY2xpLnNldExvZ2luU2VydmVyKGxvZ2luU2VydmVyKTtcbiAgICAgICAgcmVwbFNlcnZlci5kaXNwbGF5UHJvbXB0KCk7XG4gICAgICB9LFxuICAgIH0pO1xuICAgIHJlcGxTZXJ2ZXIuZGVmaW5lQ29tbWFuZCgnYXV0aG9yaXplJywge1xuICAgICAgaGVscDogJ0Nvbm5lY3QgdG8gU2FsZXNmb3JjZSB1c2luZyBPQXV0aDIgYXV0aG9yaXphdGlvbiBmbG93JyxcbiAgICAgIGFjdGlvbjogYXN5bmMgKGNsaWVudE5hbWUpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBjbGkuYXV0aG9yaXplKGNsaWVudE5hbWUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXBsU2VydmVyLmRpc3BsYXlQcm9tcHQoKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgcmVwbFNlcnZlci5kZWZpbmVDb21tYW5kKCdyZWdpc3RlcicsIHtcbiAgICAgIGhlbHA6ICdSZWdpc3RlciBPQXV0aDIgY2xpZW50IGluZm9ybWF0aW9uJyxcbiAgICAgIGFjdGlvbjogYXN5bmMgKC4uLmFyZ3M6IHN0cmluZ1tdKSA9PiB7XG4gICAgICAgIGNvbnN0IFtcbiAgICAgICAgICBjbGllbnROYW1lLFxuICAgICAgICAgIGNsaWVudElkLFxuICAgICAgICAgIGNsaWVudFNlY3JldCxcbiAgICAgICAgICByZWRpcmVjdFVyaSxcbiAgICAgICAgICBsb2dpblVybCxcbiAgICAgICAgXSA9IGFyZ3M7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHsgY2xpZW50SWQsIGNsaWVudFNlY3JldCwgcmVkaXJlY3RVcmksIGxvZ2luVXJsIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgY2xpLnJlZ2lzdGVyKGNsaWVudE5hbWUsIGNvbmZpZyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlcGxTZXJ2ZXIuZGlzcGxheVByb21wdCgpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgICByZXBsU2VydmVyLmRlZmluZUNvbW1hbmQoJ29wZW4nLCB7XG4gICAgICBoZWxwOiAnT3BlbiBTYWxlc2ZvcmNlIHdlYiBwYWdlIHVzaW5nIGVzdGFibGlzaGVkIGNvbm5lY3Rpb24nLFxuICAgICAgYWN0aW9uOiAodXJsKSA9PiB7XG4gICAgICAgIGNsaS5vcGVuVXJsVXNpbmdTZXNzaW9uKHVybCk7XG4gICAgICAgIHJlcGxTZXJ2ZXIuZGlzcGxheVByb21wdCgpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5fcGF1c2VkID0gdHJ1ZTtcbiAgICBpZiAocHJvY2Vzcy5zdGRpbi5zZXRSYXdNb2RlKSB7XG4gICAgICBwcm9jZXNzLnN0ZGluLnNldFJhd01vZGUoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgcmVzdW1lKCkge1xuICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuICAgIHByb2Nlc3Muc3RkaW4ucmVzdW1lKCk7XG4gICAgaWYgKHByb2Nlc3Muc3RkaW4uc2V0UmF3TW9kZSkge1xuICAgICAgcHJvY2Vzcy5zdGRpbi5zZXRSYXdNb2RlKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgYXN5bmMgY29tcGxldGUobGluZTogc3RyaW5nKSB7XG4gICAgY29uc3QgdG9rZW5zID0gbGluZS5yZXBsYWNlKC9eXFxzKy8sICcnKS5zcGxpdCgvXFxzKy8pO1xuICAgIGNvbnN0IFtjb21tYW5kLCBrZXl3b3JkID0gJyddID0gdG9rZW5zO1xuICAgIGlmIChjb21tYW5kWzBdID09PSAnLicgJiYgdG9rZW5zLmxlbmd0aCA9PT0gMikge1xuICAgICAgbGV0IGNhbmRpZGF0ZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBpZiAoY29tbWFuZCA9PT0gJy5jb25uZWN0JyB8fCBjb21tYW5kID09PSAnLmRpc2Nvbm5lY3QnKSB7XG4gICAgICAgIGNhbmRpZGF0ZXMgPSBhd2FpdCB0aGlzLl9jbGkuZ2V0Q29ubmVjdGlvbk5hbWVzKCk7XG4gICAgICB9IGVsc2UgaWYgKGNvbW1hbmQgPT09ICcuYXV0aG9yaXplJykge1xuICAgICAgICBjYW5kaWRhdGVzID0gYXdhaXQgdGhpcy5fY2xpLmdldENsaWVudE5hbWVzKCk7XG4gICAgICB9IGVsc2UgaWYgKGNvbW1hbmQgPT09ICcudXNlJykge1xuICAgICAgICBjYW5kaWRhdGVzID0gWydwcm9kdWN0aW9uJywgJ3NhbmRib3gnXTtcbiAgICAgIH1cbiAgICAgIGNhbmRpZGF0ZXMgPSBjYW5kaWRhdGVzLmZpbHRlcigobmFtZSkgPT4gbmFtZS5pbmRleE9mKGtleXdvcmQpID09PSAwKTtcbiAgICAgIHJldHVybiBbY2FuZGlkYXRlcywga2V5d29yZF07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1hcCBhbGwganNmb3JjZSBvYmplY3QgdG8gUkVQTCBjb250ZXh0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZGVmaW5lQnVpbHRpblZhcnMoY29udGV4dDogeyBbdmFyTmFtZTogc3RyaW5nXTogYW55IH0pIHtcbiAgICBjb25zdCBjbGkgPSB0aGlzLl9jbGk7XG5cbiAgICAvLyBkZWZpbmUgc2FsZXNmb3JjZSBwYWNrYWdlIHJvb3Qgb2JqZWN0c1xuICAgIGZvciAoY29uc3Qga2V5IGluIGpzZm9yY2UpIHtcbiAgICAgIGlmIChcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGpzZm9yY2UsIGtleSkgJiZcbiAgICAgICAgIShnbG9iYWwgYXMgYW55KVtrZXldXG4gICAgICApIHtcbiAgICAgICAgY29udGV4dFtrZXldID0gKGpzZm9yY2UgYXMgYW55KVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBleHBvc2UganNmb3JjZSBwYWNrYWdlIHJvb3Qgb2JqZWN0IGluIGNvbnRleHQuXG4gICAgY29udGV4dC5qc2ZvcmNlID0ganNmb3JjZTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVByb3h5RnVuYyhwcm9wOiBzdHJpbmcpIHtcbiAgICAgIHJldHVybiAoLi4uYXJnczogYW55W10pID0+IHtcbiAgICAgICAgY29uc3QgY29ubiA9IGNsaS5nZXRDdXJyZW50Q29ubmVjdGlvbigpO1xuICAgICAgICByZXR1cm4gKGNvbm4gYXMgYW55KVtwcm9wXSguLi5hcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlUHJveHlBY2Nlc3Nvcihwcm9wOiBzdHJpbmcpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbm4gPSBjbGkuZ2V0Q3VycmVudENvbm5lY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIChjb25uIGFzIGFueSlbcHJvcF07XG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IGNvbm4gPSBjbGkuZ2V0Q3VycmVudENvbm5lY3Rpb24oKTtcbiAgICAvLyBsaXN0IGFsbCBwcm9wcyBpbiBjb25uZWN0aW9uIGluc3RhbmNlLCBvdGhlciB0aGFuIEV2ZW50RW1pdHRlciBvciBvYmplY3QgYnVpbHQtaW4gbWV0aG9kc1xuICAgIGNvbnN0IHByb3BzOiB7IFtwcm9wOiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcbiAgICBsZXQgbzogb2JqZWN0ID0gY29ubjtcbiAgICB3aGlsZSAobyAmJiBvICE9PSBFdmVudEVtaXR0ZXIucHJvdG90eXBlICYmIG8gIT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgIGZvciAoY29uc3QgcCBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvKSkge1xuICAgICAgICBpZiAocCAhPT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICAgIHByb3BzW3BdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIE9iamVjdC5rZXlzKHByb3BzKSkge1xuICAgICAgaWYgKHR5cGVvZiAoZ2xvYmFsIGFzIGFueSlbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIGF2b2lkIGdsb2JhbCBvdmVycmlkZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wLmluZGV4T2YoJ18nKSA9PT0gMCkge1xuICAgICAgICAvLyBpZ25vcmUgcHJpdmF0ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Z1bmN0aW9uKChjb25uIGFzIGFueSlbcHJvcF0pKSB7XG4gICAgICAgIGNvbnRleHRbcHJvcF0gPSBjcmVhdGVQcm94eUZ1bmMocHJvcCk7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KChjb25uIGFzIGFueSlbcHJvcF0pKSB7XG4gICAgICAgIGRlZmluZVByb3AoY29udGV4dCwgcHJvcCwgY3JlYXRlUHJveHlBY2Nlc3Nvcihwcm9wKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZXhwb3NlIGRlZmF1bHQgY29ubmVjdGlvbiBhcyBcIiRjb25uXCJcbiAgICBkZWZpbmVQcm9wKGNvbnRleHQsICckY29ubicsICgpID0+IHtcbiAgICAgIHJldHVybiBjbGkuZ2V0Q3VycmVudENvbm5lY3Rpb24oKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZXBsO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU0EsWUFBWSxRQUFRLFFBQVE7QUFDckMsU0FBcUJDLEtBQUssSUFBSUMsU0FBUyxRQUFRLE1BQU07QUFDckQsU0FBU0MsU0FBUyxRQUFRLFFBQVE7QUFDbEMsT0FBT0MsT0FBTyxNQUFNLElBQUk7QUFDeEIsU0FDRUMsYUFBYSxFQUNiQyxRQUFRLEVBQ1JDLFVBQVUsRUFDVkMsUUFBUSxRQUNILGtCQUFrQjtBQUd6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNDLFlBQVlBLENBQ25CQyxVQUFzQixFQUN0QkMsTUFBYyxFQUNkQyxRQUFrQixFQUNsQjtFQUNBLElBQU1DLEtBQWUsR0FBSUgsVUFBVSxDQUFTQyxNQUFNLENBQUM7RUFDbERELFVBQVUsQ0FBU0MsTUFBTSxDQUFDLEdBQUcsWUFBb0I7SUFBQSxTQUFBRyxJQUFBLEdBQUFDLFNBQUEsQ0FBQUMsTUFBQSxFQUFoQkMsSUFBSSxPQUFBQyxLQUFBLENBQUFKLElBQUEsR0FBQUssSUFBQSxNQUFBQSxJQUFBLEdBQUFMLElBQUEsRUFBQUssSUFBQTtNQUFKRixJQUFJLENBQUFFLElBQUEsSUFBQUosU0FBQSxDQUFBSSxJQUFBO0lBQUE7SUFDcEMsSUFBTUMsUUFBUSxHQUFHSCxJQUFJLENBQUNJLEdBQUcsQ0FBQyxDQUFDO0lBQzNCVCxRQUFRLENBQUNVLEtBQUssQ0FDWixJQUFJLEVBQ0pDLHVCQUFBLENBQUFOLElBQUksRUFBQU8sSUFBQSxDQUFKUCxJQUFJLEVBQVEsVUFBQ1EsR0FBUSxFQUFFQyxHQUFRLEVBQUs7TUFDbEMsSUFBSUQsR0FBRyxJQUFJQyxHQUFHLEVBQUU7UUFDZE4sUUFBUSxDQUFDSyxHQUFHLEVBQUVDLEdBQUcsQ0FBQztNQUNwQixDQUFDLE1BQU07UUFDTGIsS0FBSyxDQUFDUyxLQUFLLENBQUNaLFVBQVUsRUFBRWEsdUJBQUEsQ0FBQU4sSUFBSSxFQUFBTyxJQUFBLENBQUpQLElBQUksRUFBUUcsUUFBUSxDQUFDLENBQUM7TUFDaEQ7SUFDRixDQUFDLENBQ0gsQ0FBQztFQUNILENBQUM7RUFDRCxPQUFPVixVQUFVO0FBQ25COztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVNpQixXQUFXQSxDQUNsQmpCLFVBQXNCLEVBQ3RCQyxNQUFjLEVBQ2RpQixPQUFpQixFQUNqQjtFQUNBLElBQU1mLEtBQWUsR0FBSUgsVUFBVSxDQUFTQyxNQUFNLENBQUM7RUFDbERELFVBQVUsQ0FBU0MsTUFBTSxDQUFDLEdBQUcsWUFBb0I7SUFBQSxTQUFBa0IsS0FBQSxHQUFBZCxTQUFBLENBQUFDLE1BQUEsRUFBaEJDLElBQUksT0FBQUMsS0FBQSxDQUFBVyxLQUFBLEdBQUFDLEtBQUEsTUFBQUEsS0FBQSxHQUFBRCxLQUFBLEVBQUFDLEtBQUE7TUFBSmIsSUFBSSxDQUFBYSxLQUFBLElBQUFmLFNBQUEsQ0FBQWUsS0FBQTtJQUFBO0lBQ3BDLElBQU1WLFFBQVEsR0FBR0gsSUFBSSxDQUFDSSxHQUFHLENBQUMsQ0FBQztJQUMzQlIsS0FBSyxDQUFDUyxLQUFLLENBQ1RaLFVBQVUsRUFDVmEsdUJBQUEsQ0FBQU4sSUFBSSxFQUFBTyxJQUFBLENBQUpQLElBQUksRUFBUSxZQUFvQjtNQUM5QixJQUFJO1FBQUEsU0FBQWMsS0FBQSxHQUFBaEIsU0FBQSxDQUFBQyxNQUFBLEVBRFVDLElBQUksT0FBQUMsS0FBQSxDQUFBYSxLQUFBLEdBQUFDLEtBQUEsTUFBQUEsS0FBQSxHQUFBRCxLQUFBLEVBQUFDLEtBQUE7VUFBSmYsSUFBSSxDQUFBZSxLQUFBLElBQUFqQixTQUFBLENBQUFpQixLQUFBO1FBQUE7UUFFaEJKLE9BQU8sQ0FBQ04sS0FBSyxDQUFDLElBQUksRUFBRUMsdUJBQUEsQ0FBQU4sSUFBSSxFQUFBTyxJQUFBLENBQUpQLElBQUksRUFBUUcsUUFBUSxDQUFDLENBQUM7TUFDNUMsQ0FBQyxDQUFDLE9BQU9hLENBQUMsRUFBRTtRQUNWYixRQUFRLENBQUNhLENBQUMsQ0FBQztNQUNiO0lBQ0YsQ0FBQyxDQUNILENBQUM7RUFDSCxDQUFDO0VBQ0QsT0FBT3ZCLFVBQVU7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTd0IsU0FBU0EsQ0FDaEJULEdBQTZCLEVBQzdCVSxLQUFVLEVBQ1ZmLFFBQWtCLEVBQ2xCO0VBQ0E7RUFDQSxJQUFJLENBQUNBLFFBQVEsSUFBSWIsVUFBVSxDQUFDNEIsS0FBSyxDQUFDLEVBQUU7SUFDbENmLFFBQVEsR0FBR2UsS0FBSztJQUNoQixPQUFPZixRQUFRLENBQUMsQ0FBQztFQUNuQjtFQUNBLElBQUlLLEdBQUcsRUFBRTtJQUNQLE1BQU1BLEdBQUc7RUFDWDtFQUNBLElBQUlwQixhQUFhLENBQUM4QixLQUFLLENBQUMsRUFBRTtJQUN4QkEsS0FBSyxDQUFDQyxJQUFJLENBQ1IsVUFBQ0MsQ0FBTSxFQUFLO01BQ1ZqQixRQUFRLENBQUMsSUFBSSxFQUFFaUIsQ0FBQyxDQUFDO0lBQ25CLENBQUMsRUFDRCxVQUFDWixHQUFRLEVBQUs7TUFDWkwsUUFBUSxDQUFDSyxHQUFHLENBQUM7SUFDZixDQUNGLENBQUM7RUFDSCxDQUFDLE1BQU07SUFDTEwsUUFBUSxDQUFDLElBQUksRUFBRWUsS0FBSyxDQUFDO0VBQ3ZCO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTRyxjQUFjQSxDQUFDQyxXQUE2QixFQUFFO0VBQ3JELElBQUlBLFdBQVcsSUFBSSxDQUFDakMsUUFBUSxDQUFDaUMsV0FBVyxDQUFDLEVBQUU7SUFDekNBLFdBQVcsR0FBRyxDQUFDO0VBQ2pCO0VBQ0EsT0FBTyxVQUFDZCxHQUFRLEVBQUVVLEtBQVUsRUFBRWYsUUFBa0IsRUFBSztJQUNuRCxJQUFJSyxHQUFHLEVBQUU7TUFDUGUsT0FBTyxDQUFDQyxLQUFLLENBQUNoQixHQUFHLENBQUM7SUFDcEIsQ0FBQyxNQUFNO01BQ0wsSUFBTWlCLEdBQUcsR0FBR0MsZUFBQSxDQUFlUixLQUFLLEVBQUUsSUFBSSxFQUFFSSxXQUFXLENBQUM7TUFDcERDLE9BQU8sQ0FBQ0ksR0FBRyxDQUFDRixHQUFHLENBQUM7SUFDbEI7SUFDQXRCLFFBQVEsQ0FBQ0ssR0FBRyxFQUFFVSxLQUFLLENBQUM7RUFDdEIsQ0FBQztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU1UsVUFBVUEsQ0FBQ0MsR0FBVyxFQUFFQyxJQUFZLEVBQUVDLE1BQWlCLEVBQUU7RUFDaEUsSUFBQUMsc0JBQUEsRUFBMkI7SUFDekJBLHNCQUFBLENBQXNCSCxHQUFHLEVBQUVDLElBQUksRUFBRTtNQUFFRyxHQUFHLEVBQUVGO0lBQU8sQ0FBQyxDQUFDO0VBQ25EO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBYUcsSUFBSTtFQVFmLFNBQUFBLEtBQVlDLEdBQVEsRUFBRTtJQUFBLElBQUFDLEtBQUE7SUFBQUMsZUFBQSxPQUFBSCxJQUFBO0lBQUFJLGVBQUE7SUFBQUEsZUFBQTtJQUFBQSxlQUFBO0lBQUFBLGVBQUEsdUJBSkUsSUFBSTtJQUFBQSxlQUFBLGtCQUNULEtBQUs7SUFBQUEsZUFBQSxzQkFDY0MsU0FBUztJQUc3QyxJQUFJLENBQUNDLElBQUksR0FBR0wsR0FBRztJQUNmLElBQUksQ0FBQ00sR0FBRyxHQUFHLElBQUl2RCxTQUFTLENBQUMsQ0FBQztJQUMxQixJQUFJLENBQUN3RCxJQUFJLEdBQUcsSUFBSXhELFNBQVMsQ0FBQyxDQUFDO0lBQzNCLElBQUksQ0FBQ3VELEdBQUcsQ0FBQ0UsVUFBVSxHQUFHLFVBQUNDLEtBQUssRUFBRUMsUUFBUSxFQUFFMUMsUUFBUSxFQUFLO01BQ25ELElBQUksQ0FBQ2lDLEtBQUksQ0FBQ1UsT0FBTyxFQUFFO1FBQ2pCVixLQUFJLENBQUNLLEdBQUcsQ0FBQ00sSUFBSSxDQUFDSCxLQUFLLENBQUM7TUFDdEI7TUFDQXpDLFFBQVEsQ0FBQyxDQUFDO0lBQ1osQ0FBQztJQUNELElBQUksQ0FBQ3VDLElBQUksQ0FBQ0MsVUFBVSxHQUFHLFVBQUNDLEtBQUssRUFBRUMsUUFBUSxFQUFFMUMsUUFBUSxFQUFLO01BQ3BELElBQUksQ0FBQ2lDLEtBQUksQ0FBQ1UsT0FBTyxJQUFJVixLQUFJLENBQUNZLFlBQVksS0FBSyxLQUFLLEVBQUU7UUFDaERaLEtBQUksQ0FBQ00sSUFBSSxDQUFDSyxJQUFJLENBQUNILEtBQUssQ0FBQztNQUN2QjtNQUNBekMsUUFBUSxDQUFDLENBQUM7SUFDWixDQUFDO0VBQ0g7O0VBRUE7QUFDRjtBQUNBO0VBRkU4QyxZQUFBLENBQUFmLElBQUE7SUFBQWdCLEdBQUE7SUFBQWhDLEtBQUEsV0FBQWxDLE1BQUEsRUFTRTtNQUFBLElBQUFtRSxNQUFBO01BQUEsSUFMQUMsT0FJQyxHQUFBdEQsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQXlDLFNBQUEsR0FBQXpDLFNBQUEsTUFBRyxDQUFDLENBQUM7TUFFTixJQUFJLENBQUNrRCxZQUFZLEdBQUdJLE9BQU8sQ0FBQ0MsV0FBVyxLQUFLLEtBQUs7TUFFakRDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDQyxNQUFNLENBQUMsQ0FBQztNQUN0QixJQUFJRixPQUFPLENBQUNDLEtBQUssQ0FBQ0UsVUFBVSxFQUFFO1FBQzVCSCxPQUFPLENBQUNDLEtBQUssQ0FBQ0UsVUFBVSxDQUFDLElBQUksQ0FBQztNQUNoQztNQUNBSCxPQUFPLENBQUNDLEtBQUssQ0FBQ0csSUFBSSxDQUFDLElBQUksQ0FBQ2pCLEdBQUcsQ0FBQztNQUU1QixJQUFJLENBQUNDLElBQUksQ0FBQ2dCLElBQUksQ0FBQ0osT0FBTyxDQUFDSyxNQUFNLENBQUM7TUFFOUIvQixVQUFVLENBQUMsSUFBSSxDQUFDYyxJQUFJLEVBQUUsU0FBUyxFQUFFO1FBQUEsT0FBTVksT0FBTyxDQUFDSyxNQUFNLENBQUNDLE9BQU87TUFBQSxFQUFDO01BRTlELElBQUksQ0FBQ0MsV0FBVyxHQUFHNUUsU0FBUyxDQUFDO1FBQzNCNkUsS0FBSyxFQUFFLElBQUksQ0FBQ3JCLEdBQUc7UUFDZnNCLE1BQU0sRUFBRSxJQUFJLENBQUNyQixJQUFJO1FBQ2pCc0IsUUFBUSxFQUFFO01BQ1osQ0FBQyxDQUFDO01BRUYsSUFBSSxDQUFDQyx5QkFBeUIsQ0FBQyxDQUFDO01BRWhDLElBQUksQ0FBQ0osV0FBVyxHQUFHckUsWUFBWSxDQUM3QixJQUFJLENBQUNxRSxXQUFXLEVBQ2hCLFdBQVcsRUFDWCxVQUFDSyxJQUFZLEVBQUUvRCxRQUFrQixFQUFLO1FBQ3BDZ0QsTUFBSSxDQUFDZ0IsUUFBUSxDQUFDRCxJQUFJLENBQUMsQ0FDaEIvQyxJQUFJLENBQUMsVUFBQ2lELElBQUksRUFBSztVQUNkakUsUUFBUSxDQUFDLElBQUksRUFBRWlFLElBQUksQ0FBQztRQUN0QixDQUFDLENBQUMsQ0FDREMsS0FBSyxDQUFDLFVBQUM3RCxHQUFHLEVBQUs7VUFDZEwsUUFBUSxDQUFDSyxHQUFHLENBQUM7UUFDZixDQUFDLENBQUM7TUFDTixDQUNGLENBQUM7TUFDRCxJQUFJLENBQUNxRCxXQUFXLEdBQUduRCxXQUFXLENBQUMsSUFBSSxDQUFDbUQsV0FBVyxFQUFFLE1BQU0sRUFBRTVDLFNBQVMsQ0FBQztNQUVuRSxJQUFJbUMsT0FBTyxDQUFDQyxXQUFXLEtBQUssS0FBSyxFQUFFO1FBQ2pDLElBQUksQ0FBQ1EsV0FBVyxHQUFHbkQsV0FBVyxDQUM1QixJQUFJLENBQUNtRCxXQUFXLEVBQ2hCLE1BQU0sRUFDTnhDLGNBQWMsQ0FBQytCLE9BQU8sQ0FBQzlCLFdBQVcsQ0FDcEMsQ0FBQztRQUNELElBQUksQ0FBQ3VDLFdBQVcsR0FBR25ELFdBQVcsQ0FBQyxJQUFJLENBQUNtRCxXQUFXLEVBQUUsTUFBTSxFQUFFLFlBQVk7VUFDbkVQLE9BQU8sQ0FBQ2dCLElBQUksQ0FBQyxDQUFDO1FBQ2hCLENBQUMsQ0FBQztNQUNKO01BQ0EsSUFBSSxDQUFDVCxXQUFXLENBQUNVLEVBQUUsQ0FBQyxNQUFNLEVBQUU7UUFBQSxPQUFNakIsT0FBTyxDQUFDZ0IsSUFBSSxDQUFDLENBQUM7TUFBQSxFQUFDO01BRWpELElBQUksQ0FBQ0Usa0JBQWtCLENBQUMsSUFBSSxDQUFDWCxXQUFXLENBQUNZLE9BQU8sQ0FBQztNQUVqRCxJQUFJckIsT0FBTyxDQUFDc0IsVUFBVSxFQUFFO1FBQ3RCLElBQUksQ0FBQ2pDLEdBQUcsQ0FBQ2tDLEtBQUssQ0FBQ3ZCLE9BQU8sQ0FBQ3NCLFVBQVUsR0FBRyxJQUFJLEVBQUUsT0FBTyxDQUFDO01BQ3BEO01BRUEsT0FBTyxJQUFJO0lBQ2I7SUFFQTtBQUNGO0FBQ0E7RUFGRTtJQUFBeEIsR0FBQTtJQUFBaEMsS0FBQSxXQUFBK0MsMEJBQUEsRUFHNEI7TUFDMUIsSUFBTTlCLEdBQUcsR0FBRyxJQUFJLENBQUNLLElBQUk7TUFDckIsSUFBTS9DLFVBQVUsR0FBRyxJQUFJLENBQUNvRSxXQUFXO01BQ25DLElBQUksQ0FBQ3BFLFVBQVUsRUFBRTtRQUNmO01BQ0Y7TUFDQUEsVUFBVSxDQUFDbUYsYUFBYSxDQUFDLGFBQWEsRUFBRTtRQUN0Q0MsSUFBSSxFQUFFLGlEQUFpRDtRQUN2REMsTUFBTTtVQUFBLElBQUFDLE9BQUEsR0FBQUMsaUJBQUEsZUFBQUMsbUJBQUEsQ0FBQUMsSUFBQSxDQUFFLFNBQUFDLFFBQUE7WUFBQSxPQUFBRixtQkFBQSxDQUFBRyxJQUFBLFVBQUFDLFNBQUFDLFFBQUE7Y0FBQTtnQkFBQSxRQUFBQSxRQUFBLENBQUFDLElBQUEsR0FBQUQsUUFBQSxDQUFBRSxJQUFBO2tCQUFBO29CQUFBRixRQUFBLENBQUFFLElBQUE7b0JBQUEsT0FDQXJELEdBQUcsQ0FBQ3NELGVBQWUsQ0FBQyxDQUFDO2tCQUFBO29CQUMzQmhHLFVBQVUsQ0FBQ2lHLGFBQWEsQ0FBQyxDQUFDO2tCQUFDO2tCQUFBO29CQUFBLE9BQUFKLFFBQUEsQ0FBQUssSUFBQTtnQkFBQTtjQUFBO1lBQUEsR0FBQVIsT0FBQTtVQUFBLENBQzVCO1VBQUEsU0FBQUwsT0FBQTtZQUFBLE9BQUFDLE9BQUEsQ0FBQTFFLEtBQUEsT0FBQVAsU0FBQTtVQUFBO1VBQUEsT0FBQWdGLE1BQUE7UUFBQTtNQUNILENBQUMsQ0FBQztNQUNGckYsVUFBVSxDQUFDbUYsYUFBYSxDQUFDLFNBQVMsRUFBRTtRQUNsQ0MsSUFBSSxFQUFFLGdDQUFnQztRQUN0Q0MsTUFBTTtVQUFBLElBQUFjLFFBQUEsR0FBQVosaUJBQUEsZUFBQUMsbUJBQUEsQ0FBQUMsSUFBQSxDQUFFLFNBQUFXLFNBQUE7WUFBQSxJQUFBQyxLQUFBO2NBQUE5RixJQUFBO2NBQUErRixLQUFBO2NBQUFDLElBQUE7Y0FBQUMsUUFBQTtjQUFBQyxNQUFBO2NBQUFDLE1BQUEsR0FBQXJHLFNBQUE7WUFBQSxPQUFBbUYsbUJBQUEsQ0FBQUcsSUFBQSxVQUFBZ0IsVUFBQUMsU0FBQTtjQUFBO2dCQUFBLFFBQUFBLFNBQUEsQ0FBQWQsSUFBQSxHQUFBYyxTQUFBLENBQUFiLElBQUE7a0JBQUE7b0JBQUEsS0FBQU0sS0FBQSxHQUFBSyxNQUFBLENBQUFwRyxNQUFBLEVBQVVDLElBQUksT0FBQUMsS0FBQSxDQUFBNkYsS0FBQSxHQUFBQyxLQUFBLE1BQUFBLEtBQUEsR0FBQUQsS0FBQSxFQUFBQyxLQUFBO3NCQUFKL0YsSUFBSSxDQUFBK0YsS0FBQSxJQUFBSSxNQUFBLENBQUFKLEtBQUE7b0JBQUE7b0JBQ2JDLElBQUksR0FBY2hHLElBQUksS0FBaEJpRyxRQUFRLEdBQUlqRyxJQUFJO29CQUN2QmtHLE1BQU0sR0FBR0QsUUFBUSxHQUNuQjtzQkFBRUssVUFBVSxFQUFFTixJQUFJO3NCQUFFTyxRQUFRLEVBQUVQLElBQUk7c0JBQUVDLFFBQVEsRUFBRUE7b0JBQVMsQ0FBQyxHQUN4RDtzQkFBRUssVUFBVSxFQUFFTixJQUFJO3NCQUFFTyxRQUFRLEVBQUVQO29CQUFLLENBQUM7b0JBQUFLLFNBQUEsQ0FBQWQsSUFBQTtvQkFBQWMsU0FBQSxDQUFBYixJQUFBO29CQUFBLE9BRWhDckQsR0FBRyxDQUFDcUUsT0FBTyxDQUFDTixNQUFNLENBQUM7a0JBQUE7b0JBQUFHLFNBQUEsQ0FBQWIsSUFBQTtvQkFBQTtrQkFBQTtvQkFBQWEsU0FBQSxDQUFBZCxJQUFBO29CQUFBYyxTQUFBLENBQUFJLEVBQUEsR0FBQUosU0FBQTtvQkFFekIsSUFBSUEsU0FBQSxDQUFBSSxFQUFBLFlBQWVDLEtBQUssRUFBRTtzQkFDeEJuRixPQUFPLENBQUNDLEtBQUssQ0FBQzZFLFNBQUEsQ0FBQUksRUFBQSxDQUFJRSxPQUFPLENBQUM7b0JBQzVCO2tCQUFDO29CQUVIbEgsVUFBVSxDQUFDaUcsYUFBYSxDQUFDLENBQUM7a0JBQUM7a0JBQUE7b0JBQUEsT0FBQVcsU0FBQSxDQUFBVixJQUFBO2dCQUFBO2NBQUE7WUFBQSxHQUFBRSxRQUFBO1VBQUEsQ0FDNUI7VUFBQSxTQUFBZixPQUFBO1lBQUEsT0FBQWMsUUFBQSxDQUFBdkYsS0FBQSxPQUFBUCxTQUFBO1VBQUE7VUFBQSxPQUFBZ0YsTUFBQTtRQUFBO01BQ0gsQ0FBQyxDQUFDO01BQ0ZyRixVQUFVLENBQUNtRixhQUFhLENBQUMsWUFBWSxFQUFFO1FBQ3JDQyxJQUFJLEVBQUUsa0RBQWtEO1FBQ3hEQyxNQUFNLEVBQUUsU0FBQUEsT0FBQ2tCLElBQUksRUFBSztVQUNoQjdELEdBQUcsQ0FBQ3lFLFVBQVUsQ0FBQ1osSUFBSSxDQUFDO1VBQ3BCdkcsVUFBVSxDQUFDaUcsYUFBYSxDQUFDLENBQUM7UUFDNUI7TUFDRixDQUFDLENBQUM7TUFDRmpHLFVBQVUsQ0FBQ21GLGFBQWEsQ0FBQyxLQUFLLEVBQUU7UUFDOUJDLElBQUksRUFBRSw4Q0FBOEM7UUFDcERDLE1BQU0sRUFBRSxTQUFBQSxPQUFDK0IsV0FBVyxFQUFLO1VBQ3ZCMUUsR0FBRyxDQUFDMkUsY0FBYyxDQUFDRCxXQUFXLENBQUM7VUFDL0JwSCxVQUFVLENBQUNpRyxhQUFhLENBQUMsQ0FBQztRQUM1QjtNQUNGLENBQUMsQ0FBQztNQUNGakcsVUFBVSxDQUFDbUYsYUFBYSxDQUFDLFdBQVcsRUFBRTtRQUNwQ0MsSUFBSSxFQUFFLHVEQUF1RDtRQUM3REMsTUFBTTtVQUFBLElBQUFpQyxRQUFBLEdBQUEvQixpQkFBQSxlQUFBQyxtQkFBQSxDQUFBQyxJQUFBLENBQUUsU0FBQThCLFNBQU9DLFVBQVU7WUFBQSxPQUFBaEMsbUJBQUEsQ0FBQUcsSUFBQSxVQUFBOEIsVUFBQUMsU0FBQTtjQUFBO2dCQUFBLFFBQUFBLFNBQUEsQ0FBQTVCLElBQUEsR0FBQTRCLFNBQUEsQ0FBQTNCLElBQUE7a0JBQUE7b0JBQUEyQixTQUFBLENBQUE1QixJQUFBO29CQUFBNEIsU0FBQSxDQUFBM0IsSUFBQTtvQkFBQSxPQUVmckQsR0FBRyxDQUFDaUYsU0FBUyxDQUFDSCxVQUFVLENBQUM7a0JBQUE7b0JBQUFFLFNBQUEsQ0FBQTNCLElBQUE7b0JBQUE7a0JBQUE7b0JBQUEyQixTQUFBLENBQUE1QixJQUFBO29CQUFBNEIsU0FBQSxDQUFBVixFQUFBLEdBQUFVLFNBQUE7b0JBRS9CLElBQUlBLFNBQUEsQ0FBQVYsRUFBQSxZQUFlQyxLQUFLLEVBQUU7c0JBQ3hCbkYsT0FBTyxDQUFDQyxLQUFLLENBQUMyRixTQUFBLENBQUFWLEVBQUEsQ0FBSUUsT0FBTyxDQUFDO29CQUM1QjtrQkFBQztvQkFFSGxILFVBQVUsQ0FBQ2lHLGFBQWEsQ0FBQyxDQUFDO2tCQUFDO2tCQUFBO29CQUFBLE9BQUF5QixTQUFBLENBQUF4QixJQUFBO2dCQUFBO2NBQUE7WUFBQSxHQUFBcUIsUUFBQTtVQUFBLENBQzVCO1VBQUEsU0FBQWxDLE9BQUF1QyxFQUFBO1lBQUEsT0FBQU4sUUFBQSxDQUFBMUcsS0FBQSxPQUFBUCxTQUFBO1VBQUE7VUFBQSxPQUFBZ0YsTUFBQTtRQUFBO01BQ0gsQ0FBQyxDQUFDO01BQ0ZyRixVQUFVLENBQUNtRixhQUFhLENBQUMsVUFBVSxFQUFFO1FBQ25DQyxJQUFJLEVBQUUsb0NBQW9DO1FBQzFDQyxNQUFNO1VBQUEsSUFBQXdDLFFBQUEsR0FBQXRDLGlCQUFBLGVBQUFDLG1CQUFBLENBQUFDLElBQUEsQ0FBRSxTQUFBcUMsU0FBQTtZQUFBLElBQUFDLEtBQUE7Y0FBQXhILElBQUE7Y0FBQXlILEtBQUE7Y0FBQVIsVUFBQTtjQUFBUyxRQUFBO2NBQUFDLFlBQUE7Y0FBQUMsV0FBQTtjQUFBQyxRQUFBO2NBQUFDLE1BQUE7Y0FBQUMsTUFBQSxHQUFBakksU0FBQTtZQUFBLE9BQUFtRixtQkFBQSxDQUFBRyxJQUFBLFVBQUE0QyxVQUFBQyxTQUFBO2NBQUE7Z0JBQUEsUUFBQUEsU0FBQSxDQUFBMUMsSUFBQSxHQUFBMEMsU0FBQSxDQUFBekMsSUFBQTtrQkFBQTtvQkFBQSxLQUFBZ0MsS0FBQSxHQUFBTyxNQUFBLENBQUFoSSxNQUFBLEVBQVVDLElBQUksT0FBQUMsS0FBQSxDQUFBdUgsS0FBQSxHQUFBQyxLQUFBLE1BQUFBLEtBQUEsR0FBQUQsS0FBQSxFQUFBQyxLQUFBO3NCQUFKekgsSUFBSSxDQUFBeUgsS0FBQSxJQUFBTSxNQUFBLENBQUFOLEtBQUE7b0JBQUE7b0JBRWxCUixVQUFVLEdBS1JqSCxJQUFJLEtBSk4wSCxRQUFRLEdBSU4xSCxJQUFJLEtBSE4ySCxZQUFZLEdBR1YzSCxJQUFJLEtBRk40SCxXQUFXLEdBRVQ1SCxJQUFJLEtBRE42SCxRQUFRLEdBQ043SCxJQUFJO29CQUNGOEgsTUFBTSxHQUFHO3NCQUFFSixRQUFRLEVBQVJBLFFBQVE7c0JBQUVDLFlBQVksRUFBWkEsWUFBWTtzQkFBRUMsV0FBVyxFQUFYQSxXQUFXO3NCQUFFQyxRQUFRLEVBQVJBO29CQUFTLENBQUM7b0JBQUFJLFNBQUEsQ0FBQTFDLElBQUE7b0JBQUEwQyxTQUFBLENBQUF6QyxJQUFBO29CQUFBLE9BRXhEckQsR0FBRyxDQUFDK0YsUUFBUSxDQUFDakIsVUFBVSxFQUFFYSxNQUFNLENBQUM7a0JBQUE7b0JBQUFHLFNBQUEsQ0FBQXpDLElBQUE7b0JBQUE7a0JBQUE7b0JBQUF5QyxTQUFBLENBQUExQyxJQUFBO29CQUFBMEMsU0FBQSxDQUFBeEIsRUFBQSxHQUFBd0IsU0FBQTtvQkFFdEMsSUFBSUEsU0FBQSxDQUFBeEIsRUFBQSxZQUFlQyxLQUFLLEVBQUU7c0JBQ3hCbkYsT0FBTyxDQUFDQyxLQUFLLENBQUN5RyxTQUFBLENBQUF4QixFQUFBLENBQUlFLE9BQU8sQ0FBQztvQkFDNUI7a0JBQUM7b0JBRUhsSCxVQUFVLENBQUNpRyxhQUFhLENBQUMsQ0FBQztrQkFBQztrQkFBQTtvQkFBQSxPQUFBdUMsU0FBQSxDQUFBdEMsSUFBQTtnQkFBQTtjQUFBO1lBQUEsR0FBQTRCLFFBQUE7VUFBQSxDQUM1QjtVQUFBLFNBQUF6QyxPQUFBO1lBQUEsT0FBQXdDLFFBQUEsQ0FBQWpILEtBQUEsT0FBQVAsU0FBQTtVQUFBO1VBQUEsT0FBQWdGLE1BQUE7UUFBQTtNQUNILENBQUMsQ0FBQztNQUNGckYsVUFBVSxDQUFDbUYsYUFBYSxDQUFDLE1BQU0sRUFBRTtRQUMvQkMsSUFBSSxFQUFFLHVEQUF1RDtRQUM3REMsTUFBTSxFQUFFLFNBQUFBLE9BQUNxRCxHQUFHLEVBQUs7VUFDZmhHLEdBQUcsQ0FBQ2lHLG1CQUFtQixDQUFDRCxHQUFHLENBQUM7VUFDNUIxSSxVQUFVLENBQUNpRyxhQUFhLENBQUMsQ0FBQztRQUM1QjtNQUNGLENBQUMsQ0FBQztJQUNKO0lBRUE7QUFDRjtBQUNBO0VBRkU7SUFBQXhDLEdBQUE7SUFBQWhDLEtBQUEsV0FBQW1ILE1BQUEsRUFHUTtNQUNOLElBQUksQ0FBQ3ZGLE9BQU8sR0FBRyxJQUFJO01BQ25CLElBQUlRLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDRSxVQUFVLEVBQUU7UUFDNUJILE9BQU8sQ0FBQ0MsS0FBSyxDQUFDRSxVQUFVLENBQUMsS0FBSyxDQUFDO01BQ2pDO0lBQ0Y7SUFFQTtBQUNGO0FBQ0E7RUFGRTtJQUFBUCxHQUFBO0lBQUFoQyxLQUFBLFdBQUFzQyxPQUFBLEVBR1M7TUFDUCxJQUFJLENBQUNWLE9BQU8sR0FBRyxLQUFLO01BQ3BCUSxPQUFPLENBQUNDLEtBQUssQ0FBQ0MsTUFBTSxDQUFDLENBQUM7TUFDdEIsSUFBSUYsT0FBTyxDQUFDQyxLQUFLLENBQUNFLFVBQVUsRUFBRTtRQUM1QkgsT0FBTyxDQUFDQyxLQUFLLENBQUNFLFVBQVUsQ0FBQyxJQUFJLENBQUM7TUFDaEM7SUFDRjtJQUVBO0FBQ0Y7QUFDQTtFQUZFO0lBQUFQLEdBQUE7SUFBQWhDLEtBQUE7TUFBQSxJQUFBb0gsU0FBQSxHQUFBdEQsaUJBQUEsZUFBQUMsbUJBQUEsQ0FBQUMsSUFBQSxVQUFBcUQsU0FHZXJFLElBQVk7UUFBQSxJQUFBc0UsTUFBQSxFQUFBQyxPQUFBLEVBQUFDLE9BQUEsRUFBQUMsUUFBQSxFQUFBQyxPQUFBLEVBQUFDLFVBQUE7UUFBQSxPQUFBNUQsbUJBQUEsQ0FBQUcsSUFBQSxVQUFBMEQsVUFBQUMsU0FBQTtVQUFBO1lBQUEsUUFBQUEsU0FBQSxDQUFBeEQsSUFBQSxHQUFBd0QsU0FBQSxDQUFBdkQsSUFBQTtjQUFBO2dCQUNuQmdELE1BQU0sR0FBR3RFLElBQUksQ0FBQzhFLE9BQU8sQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUNDLEtBQUssQ0FBQyxLQUFLLENBQUM7Z0JBQUFSLE9BQUEsR0FBQVMsY0FBQSxDQUNwQlYsTUFBTSxNQUEvQkUsT0FBTyxHQUFBRCxPQUFBLEtBQUFFLFFBQUEsR0FBQUYsT0FBQSxLQUFFRyxPQUFPLEdBQUFELFFBQUEsY0FBRyxFQUFFLEdBQUFBLFFBQUE7Z0JBQUEsTUFDeEJELE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQUlGLE1BQU0sQ0FBQ3pJLE1BQU0sS0FBSyxDQUFDO2tCQUFBZ0osU0FBQSxDQUFBdkQsSUFBQTtrQkFBQTtnQkFBQTtnQkFDdkNxRCxVQUFvQixHQUFHLEVBQUU7Z0JBQUEsTUFDekJILE9BQU8sS0FBSyxVQUFVLElBQUlBLE9BQU8sS0FBSyxhQUFhO2tCQUFBSyxTQUFBLENBQUF2RCxJQUFBO2tCQUFBO2dCQUFBO2dCQUFBdUQsU0FBQSxDQUFBdkQsSUFBQTtnQkFBQSxPQUNsQyxJQUFJLENBQUNoRCxJQUFJLENBQUMyRyxrQkFBa0IsQ0FBQyxDQUFDO2NBQUE7Z0JBQWpETixVQUFVLEdBQUFFLFNBQUEsQ0FBQUssSUFBQTtnQkFBQUwsU0FBQSxDQUFBdkQsSUFBQTtnQkFBQTtjQUFBO2dCQUFBLE1BQ0RrRCxPQUFPLEtBQUssWUFBWTtrQkFBQUssU0FBQSxDQUFBdkQsSUFBQTtrQkFBQTtnQkFBQTtnQkFBQXVELFNBQUEsQ0FBQXZELElBQUE7Z0JBQUEsT0FDZCxJQUFJLENBQUNoRCxJQUFJLENBQUM2RyxjQUFjLENBQUMsQ0FBQztjQUFBO2dCQUE3Q1IsVUFBVSxHQUFBRSxTQUFBLENBQUFLLElBQUE7Z0JBQUFMLFNBQUEsQ0FBQXZELElBQUE7Z0JBQUE7Y0FBQTtnQkFDTCxJQUFJa0QsT0FBTyxLQUFLLE1BQU0sRUFBRTtrQkFDN0JHLFVBQVUsR0FBRyxDQUFDLFlBQVksRUFBRSxTQUFTLENBQUM7Z0JBQ3hDO2NBQUM7Z0JBQ0RBLFVBQVUsR0FBR1MsdUJBQUEsQ0FBQVQsVUFBVSxFQUFBdEksSUFBQSxDQUFWc0ksVUFBVSxFQUFRLFVBQUM3QyxJQUFJO2tCQUFBLE9BQUt1RCx3QkFBQSxDQUFBdkQsSUFBSSxFQUFBekYsSUFBQSxDQUFKeUYsSUFBSSxFQUFTNEMsT0FBTyxDQUFDLEtBQUssQ0FBQztnQkFBQSxFQUFDO2dCQUFDLE9BQUFHLFNBQUEsQ0FBQVMsTUFBQSxXQUMvRCxDQUFDWCxVQUFVLEVBQUVELE9BQU8sQ0FBQztjQUFBO2NBQUE7Z0JBQUEsT0FBQUcsU0FBQSxDQUFBcEQsSUFBQTtZQUFBO1VBQUE7UUFBQSxHQUFBNEMsUUFBQTtNQUFBO01BQUEsU0FBQXBFLFNBQUFzRixHQUFBO1FBQUEsT0FBQW5CLFNBQUEsQ0FBQWpJLEtBQUEsT0FBQVAsU0FBQTtNQUFBO01BQUEsT0FBQXFFLFFBQUE7SUFBQTtJQUloQztBQUNGO0FBQ0E7QUFDQTtFQUhFO0lBQUFqQixHQUFBO0lBQUFoQyxLQUFBLFdBQUFzRCxtQkFJbUJDLE9BQW1DLEVBQUU7TUFDdEQsSUFBTXRDLEdBQUcsR0FBRyxJQUFJLENBQUNLLElBQUk7O01BRXJCO01BQ0EsS0FBSyxJQUFNVSxHQUFHLElBQUkvRCxPQUFPLEVBQUU7UUFDekIsSUFDRXVLLE1BQU0sQ0FBQ0MsU0FBUyxDQUFDQyxjQUFjLENBQUNySixJQUFJLENBQUNwQixPQUFPLEVBQUUrRCxHQUFHLENBQUMsSUFDbEQsQ0FBRTJHLE1BQU0sQ0FBUzNHLEdBQUcsQ0FBQyxFQUNyQjtVQUNBdUIsT0FBTyxDQUFDdkIsR0FBRyxDQUFDLEdBQUkvRCxPQUFPLENBQVMrRCxHQUFHLENBQUM7UUFDdEM7TUFDRjtNQUNBO01BQ0F1QixPQUFPLENBQUN0RixPQUFPLEdBQUdBLE9BQU87TUFFekIsU0FBUzJLLGVBQWVBLENBQUNoSSxJQUFZLEVBQUU7UUFDckMsT0FBTyxZQUFvQjtVQUFBLElBQUFpSSxJQUFBO1VBQ3pCLElBQU1DLElBQUksR0FBRzdILEdBQUcsQ0FBQzhILG9CQUFvQixDQUFDLENBQUM7VUFDdkMsT0FBTyxDQUFBRixJQUFBLEdBQUNDLElBQUksRUFBU2xJLElBQUksQ0FBQyxDQUFBekIsS0FBQSxDQUFBMEosSUFBQSxFQUFBakssU0FBUSxDQUFDO1FBQ3JDLENBQUM7TUFDSDtNQUVBLFNBQVNvSyxtQkFBbUJBLENBQUNwSSxJQUFZLEVBQUU7UUFDekMsT0FBTyxZQUFNO1VBQ1gsSUFBTWtJLElBQUksR0FBRzdILEdBQUcsQ0FBQzhILG9CQUFvQixDQUFDLENBQUM7VUFDdkMsT0FBUUQsSUFBSSxDQUFTbEksSUFBSSxDQUFDO1FBQzVCLENBQUM7TUFDSDtNQUVBLElBQU1rSSxJQUFJLEdBQUc3SCxHQUFHLENBQUM4SCxvQkFBb0IsQ0FBQyxDQUFDO01BQ3ZDO01BQ0EsSUFBTUUsS0FBa0MsR0FBRyxDQUFDLENBQUM7TUFDN0MsSUFBSUMsQ0FBUyxHQUFHSixJQUFJO01BQ3BCLE9BQU9JLENBQUMsSUFBSUEsQ0FBQyxLQUFLckwsWUFBWSxDQUFDNEssU0FBUyxJQUFJUyxDQUFDLEtBQUtWLE1BQU0sQ0FBQ0MsU0FBUyxFQUFFO1FBQUEsSUFBQVUsU0FBQSxHQUFBQywwQkFBQSxDQUNsREMsMkJBQUEsQ0FBMkJILENBQUMsQ0FBQztVQUFBSSxLQUFBO1FBQUE7VUFBN0MsS0FBQUgsU0FBQSxDQUFBSSxDQUFBLE1BQUFELEtBQUEsR0FBQUgsU0FBQSxDQUFBSyxDQUFBLElBQUFDLElBQUEsR0FBK0M7WUFBQSxJQUFwQ0MsQ0FBQyxHQUFBSixLQUFBLENBQUF0SixLQUFBO1lBQ1YsSUFBSTBKLENBQUMsS0FBSyxhQUFhLEVBQUU7Y0FDdkJULEtBQUssQ0FBQ1MsQ0FBQyxDQUFDLEdBQUcsSUFBSTtZQUNqQjtVQUNGO1FBQUMsU0FBQXBLLEdBQUE7VUFBQTZKLFNBQUEsQ0FBQXJKLENBQUEsQ0FBQVIsR0FBQTtRQUFBO1VBQUE2SixTQUFBLENBQUFRLENBQUE7UUFBQTtRQUNEVCxDQUFDLEdBQUdVLHNCQUFBLENBQXNCVixDQUFDLENBQUM7TUFDOUI7TUFDQSxTQUFBVyxFQUFBLE1BQUFDLFlBQUEsR0FBbUJDLGFBQUEsQ0FBWWQsS0FBSyxDQUFDLEVBQUFZLEVBQUEsR0FBQUMsWUFBQSxDQUFBakwsTUFBQSxFQUFBZ0wsRUFBQSxJQUFFO1FBQWxDLElBQU1qSixLQUFJLEdBQUFrSixZQUFBLENBQUFELEVBQUE7UUFDYixJQUFJLE9BQVFsQixNQUFNLENBQVMvSCxLQUFJLENBQUMsS0FBSyxXQUFXLEVBQUU7VUFDaEQ7VUFDQTtRQUNGO1FBQ0EsSUFBSXlILHdCQUFBLENBQUF6SCxLQUFJLEVBQUF2QixJQUFBLENBQUp1QixLQUFJLEVBQVMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFO1VBQzNCO1VBQ0E7UUFDRjtRQUNBLElBQUl4QyxVQUFVLENBQUUwSyxJQUFJLENBQVNsSSxLQUFJLENBQUMsQ0FBQyxFQUFFO1VBQ25DMkMsT0FBTyxDQUFDM0MsS0FBSSxDQUFDLEdBQUdnSSxlQUFlLENBQUNoSSxLQUFJLENBQUM7UUFDdkMsQ0FBQyxNQUFNLElBQUl2QyxRQUFRLENBQUV5SyxJQUFJLENBQVNsSSxLQUFJLENBQUMsQ0FBQyxFQUFFO1VBQ3hDRixVQUFVLENBQUM2QyxPQUFPLEVBQUUzQyxLQUFJLEVBQUVvSSxtQkFBbUIsQ0FBQ3BJLEtBQUksQ0FBQyxDQUFDO1FBQ3REO01BQ0Y7O01BRUE7TUFDQUYsVUFBVSxDQUFDNkMsT0FBTyxFQUFFLE9BQU8sRUFBRSxZQUFNO1FBQ2pDLE9BQU90QyxHQUFHLENBQUM4SCxvQkFBb0IsQ0FBQyxDQUFDO01BQ25DLENBQUMsQ0FBQztJQUNKO0VBQUM7RUFBQSxPQUFBL0gsSUFBQTtBQUFBO0FBR0gsZUFBZUEsSUFBSSJ9