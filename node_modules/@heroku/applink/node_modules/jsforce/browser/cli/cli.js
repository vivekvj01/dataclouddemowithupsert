import _Object$defineProperty from "@babel/runtime-corejs3/core-js-stable/object/define-property";
import _Object$defineProperties from "@babel/runtime-corejs3/core-js-stable/object/define-properties";
import _Object$getOwnPropertyDescriptors from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors";
import _forEachInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/for-each";
import _Object$getOwnPropertyDescriptor from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor";
import _filterInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/filter";
import _Object$getOwnPropertySymbols from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols";
import "core-js/modules/es.number.constructor";
import "core-js/modules/es.object.to-string";
import "core-js/modules/es.promise";
import _concatInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/concat";
import _Object$keys from "@babel/runtime-corejs3/core-js-stable/object/keys";
import _reduceInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/reduce";
import _Promise from "@babel/runtime-corejs3/core-js-stable/promise";
import _indexOfInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/index-of";
import _regeneratorRuntime from "@babel/runtime-corejs3/regenerator";
import "regenerator-runtime/runtime";
import _asyncToGenerator from "@babel/runtime-corejs3/helpers/asyncToGenerator";
import _classCallCheck from "@babel/runtime-corejs3/helpers/classCallCheck";
import _createClass from "@babel/runtime-corejs3/helpers/createClass";
import _defineProperty from "@babel/runtime-corejs3/helpers/defineProperty";
function ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { var _context19; _forEachInstanceProperty(_context19 = ownKeys(Object(source), true)).call(_context19, function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { var _context20; _forEachInstanceProperty(_context20 = ownKeys(Object(source))).call(_context20, function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }
/**
 * @file Command line interface for JSforce
 * @author Shinichi Tomita <shinichi.tomita@gmail.com>
 */
import http from 'http';
import url from 'url';
import crypto from 'crypto';
import _openUrl from 'open';
import { Command } from 'commander';
import inquirer from 'inquirer';
import request from '../request';
import base64url from 'base64url';
import Repl from './repl';
import jsforce, { Connection, OAuth2 } from '..';
import version from '../VERSION';
var registry = jsforce.registry;
/**
 *
 */
export var Cli = /*#__PURE__*/function () {
  function Cli() {
    _classCallCheck(this, Cli);
    _defineProperty(this, "_repl", new Repl(this));
    _defineProperty(this, "_conn", new Connection());
    _defineProperty(this, "_connName", undefined);
    _defineProperty(this, "_outputEnabled", true);
    _defineProperty(this, "_defaultLoginUrl", undefined);
  }
  _createClass(Cli, [{
    key: "readCommand",
    /**
     *
     */
    value: function readCommand() {
      return new Command().option('-u, --username [username]', 'Salesforce username').option('-p, --password [password]', 'Salesforce password (and security token, if available)').option('-c, --connection [connection]', 'Connection name stored in connection registry').option('-l, --loginUrl [loginUrl]', 'Salesforce login url').option('--sandbox', 'Login to Salesforce sandbox').option('-e, --evalScript [evalScript]', 'Script to evaluate').version(version).parse(process.argv);
    }
  }, {
    key: "start",
    value: function () {
      var _start = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {
        var program;
        return _regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                program = this.readCommand();
                this._outputEnabled = !program.evalScript;
                _context.prev = 2;
                _context.next = 5;
                return this.connect(program);
              case 5:
                if (program.evalScript) {
                  this._repl.start({
                    interactive: false,
                    evalScript: program.evalScript
                  });
                } else {
                  this._repl.start();
                }
                _context.next = 12;
                break;
              case 8:
                _context.prev = 8;
                _context.t0 = _context["catch"](2);
                console.error(_context.t0);
                process.exit();
              case 12:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[2, 8]]);
      }));
      function start() {
        return _start.apply(this, arguments);
      }
      return start;
    }()
  }, {
    key: "getCurrentConnection",
    value: function getCurrentConnection() {
      return this._conn;
    }
  }, {
    key: "print",
    value: function print() {
      if (this._outputEnabled) {
        var _console;
        (_console = console).log.apply(_console, arguments);
      }
    }
  }, {
    key: "saveCurrentConnection",
    value: function saveCurrentConnection() {
      if (this._connName) {
        var conn = this._conn;
        var connName = this._connName;
        var connConfig = {
          oauth2: conn.oauth2 ? {
            clientId: conn.oauth2.clientId || undefined,
            clientSecret: conn.oauth2.clientSecret || undefined,
            redirectUri: conn.oauth2.redirectUri || undefined,
            loginUrl: conn.oauth2.loginUrl || undefined
          } : undefined,
          accessToken: conn.accessToken || undefined,
          instanceUrl: conn.instanceUrl || undefined,
          refreshToken: conn.refreshToken || undefined
        };
        registry.saveConnectionConfig(connName, connConfig);
      }
    }
  }, {
    key: "setLoginServer",
    value: function setLoginServer(loginServer) {
      if (!loginServer) {
        return;
      }
      if (loginServer === 'production') {
        this._defaultLoginUrl = 'https://login.salesforce.com';
      } else if (loginServer === 'sandbox') {
        this._defaultLoginUrl = 'https://test.salesforce.com';
      } else if (_indexOfInstanceProperty(loginServer).call(loginServer, 'https://') !== 0) {
        this._defaultLoginUrl = 'https://' + loginServer;
      } else {
        this._defaultLoginUrl = loginServer;
      }
      this.print("Using \"".concat(this._defaultLoginUrl, "\" as default login URL."));
    }
    /**
     *
     */
  }, {
    key: "connect",
    value: function () {
      var _connect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(options) {
        var _this = this;
        var loginServer, connConfig, username, password, identity;
        return _regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                loginServer = options.loginUrl ? options.loginUrl : options.sandbox ? 'sandbox' : null;
                this.setLoginServer(loginServer);
                this._connName = options.connection;
                _context2.next = 5;
                return registry.getConnectionConfig(options.connection);
              case 5:
                connConfig = _context2.sent;
                username = options.username;
                if (!connConfig) {
                  connConfig = {};
                  if (this._defaultLoginUrl) {
                    connConfig.loginUrl = this._defaultLoginUrl;
                  }
                  username = username || options.connection;
                }
                this._conn = new Connection(connConfig);
                password = options.password;
                if (!username) {
                  _context2.next = 16;
                  break;
                }
                _context2.next = 13;
                return this.startPasswordAuth(username, password);
              case 13:
                this.saveCurrentConnection();
                _context2.next = 34;
                break;
              case 16:
                if (!(this._connName && this._conn.accessToken)) {
                  _context2.next = 34;
                  break;
                }
                this._conn.on('refresh', function () {
                  _this.print('Refreshing access token ... ');
                  _this.saveCurrentConnection();
                });
                _context2.prev = 18;
                _context2.next = 21;
                return this._conn.identity();
              case 21:
                identity = _context2.sent;
                this.print("Logged in as : ".concat(identity.username));
                _context2.next = 34;
                break;
              case 25:
                _context2.prev = 25;
                _context2.t0 = _context2["catch"](18);
                if (_context2.t0 instanceof Error) {
                  this.print(_context2.t0.message);
                }
                if (!this._conn.oauth2) {
                  _context2.next = 32;
                  break;
                }
                throw new Error('Please re-authorize connection.');
              case 32:
                _context2.next = 34;
                return this.startPasswordAuth(this._connName);
              case 34:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[18, 25]]);
      }));
      function connect(_x) {
        return _connect.apply(this, arguments);
      }
      return connect;
    }()
    /**
     *
     */
  }, {
    key: "startPasswordAuth",
    value: function () {
      var _startPasswordAuth = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(username, password) {
        return _regeneratorRuntime.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.prev = 0;
                _context3.next = 3;
                return this.loginByPassword(username, password, 2);
              case 3:
                _context3.next = 12;
                break;
              case 5:
                _context3.prev = 5;
                _context3.t0 = _context3["catch"](0);
                if (!(_context3.t0 instanceof Error && _context3.t0.message === 'canceled')) {
                  _context3.next = 11;
                  break;
                }
                console.error('Password authentication canceled: Not logged in');
                _context3.next = 12;
                break;
              case 11:
                throw _context3.t0;
              case 12:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this, [[0, 5]]);
      }));
      function startPasswordAuth(_x2, _x3) {
        return _startPasswordAuth.apply(this, arguments);
      }
      return startPasswordAuth;
    }()
    /**
     *
     */
  }, {
    key: "loginByPassword",
    value: function () {
      var _loginByPassword = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(username, password, retryCount) {
        var pass, result;
        return _regeneratorRuntime.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (!(password === '')) {
                  _context4.next = 2;
                  break;
                }
                throw new Error('canceled');
              case 2:
                if (!(password == null)) {
                  _context4.next = 7;
                  break;
                }
                _context4.next = 5;
                return this.promptPassword('Password: ');
              case 5:
                pass = _context4.sent;
                return _context4.abrupt("return", this.loginByPassword(username, pass, retryCount));
              case 7:
                _context4.prev = 7;
                _context4.next = 10;
                return this._conn.login(username, password);
              case 10:
                result = _context4.sent;
                this.print("Logged in as : ".concat(username));
                return _context4.abrupt("return", result);
              case 15:
                _context4.prev = 15;
                _context4.t0 = _context4["catch"](7);
                if (_context4.t0 instanceof Error) {
                  console.error(_context4.t0.message);
                }
                if (!(retryCount > 0)) {
                  _context4.next = 22;
                  break;
                }
                return _context4.abrupt("return", this.loginByPassword(username, undefined, retryCount - 1));
              case 22:
                throw new Error('canceled');
              case 23:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this, [[7, 15]]);
      }));
      function loginByPassword(_x4, _x5, _x6) {
        return _loginByPassword.apply(this, arguments);
      }
      return loginByPassword;
    }()
    /**
     *
     */
  }, {
    key: "disconnect",
    value: function disconnect(connName) {
      var name = connName || this._connName;
      if (name && registry.getConnectionConfig(name)) {
        registry.removeConnectionConfig(name);
        this.print("Disconnect connection '".concat(name, "'"));
      }
      this._connName = undefined;
      this._conn = new Connection();
    }
    /**
     *
     */
  }, {
    key: "authorize",
    value: function () {
      var _authorize = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(clientName) {
        var name, oauth2Config, oauth2, verifier, challenge, state, authzUrl, params, identity;
        return _regeneratorRuntime.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                name = clientName || 'default';
                _context5.next = 3;
                return registry.getClientConfig(name);
              case 3:
                oauth2Config = _context5.sent;
                if (!(!oauth2Config || !oauth2Config.clientId)) {
                  _context5.next = 9;
                  break;
                }
                if (!(name === 'default' || name === 'sandbox')) {
                  _context5.next = 8;
                  break;
                }
                this.print('No client information registered. Downloading JSforce default client information...');
                return _context5.abrupt("return", this.downloadDefaultClientInfo(name));
              case 8:
                throw new Error("No OAuth2 client information registered : '".concat(name, "'. Please register client info first."));
              case 9:
                oauth2 = new OAuth2(oauth2Config);
                verifier = base64url.encode(crypto.randomBytes(32));
                challenge = base64url.encode(crypto.createHash('sha256').update(verifier).digest());
                state = base64url.encode(crypto.randomBytes(32));
                authzUrl = oauth2.getAuthorizationUrl({
                  code_challenge: challenge,
                  state: state
                });
                this.print('Opening authorization page in browser...');
                this.print("URL: ".concat(authzUrl));
                this.openUrl(authzUrl);
                _context5.next = 19;
                return this.waitCallback(oauth2Config.redirectUri, state);
              case 19:
                params = _context5.sent;
                if (params.code) {
                  _context5.next = 22;
                  break;
                }
                throw new Error('No authorization code returned.');
              case 22:
                if (!(params.state !== state)) {
                  _context5.next = 24;
                  break;
                }
                throw new Error('Invalid state parameter returned.');
              case 24:
                this._conn = new Connection({
                  oauth2: oauth2
                });
                this.print('Received authorization code. Please close the opened browser window.');
                _context5.next = 28;
                return this._conn.authorize(params.code, {
                  code_verifier: verifier
                });
              case 28:
                this.print('Authorized. Fetching user info...');
                _context5.next = 31;
                return this._conn.identity();
              case 31:
                identity = _context5.sent;
                this.print("Logged in as : ".concat(identity.username));
                this._connName = identity.username;
                this.saveCurrentConnection();
              case 35:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));
      function authorize(_x7) {
        return _authorize.apply(this, arguments);
      }
      return authorize;
    }()
    /**
     *
     */
  }, {
    key: "downloadDefaultClientInfo",
    value: function () {
      var _downloadDefaultClientInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(clientName) {
        var configUrl, res, clientConfig;
        return _regeneratorRuntime.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                configUrl = 'https://jsforce.github.io/client-config/default.json';
                _context6.next = 3;
                return new _Promise(function (resolve, reject) {
                  request({
                    method: 'GET',
                    url: configUrl
                  }).on('complete', resolve).on('error', reject);
                });
              case 3:
                res = _context6.sent;
                clientConfig = JSON.parse(res.body);
                if (clientName === 'sandbox') {
                  clientConfig.loginUrl = 'https://test.salesforce.com';
                }
                _context6.next = 8;
                return registry.registerClientConfig(clientName, clientConfig);
              case 8:
                this.print('Client information downloaded successfully.');
                return _context6.abrupt("return", this.authorize(clientName));
              case 10:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));
      function downloadDefaultClientInfo(_x8) {
        return _downloadDefaultClientInfo.apply(this, arguments);
      }
      return downloadDefaultClientInfo;
    }()
  }, {
    key: "waitCallback",
    value: function () {
      var _waitCallback = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(serverUrl, state) {
        var code;
        return _regeneratorRuntime.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                if (!(serverUrl && _indexOfInstanceProperty(serverUrl).call(serverUrl, 'http://localhost:') === 0)) {
                  _context7.next = 4;
                  break;
                }
                return _context7.abrupt("return", new _Promise(function (resolve, reject) {
                  var server = http.createServer(function (req, res) {
                    if (!req.url) {
                      return;
                    }
                    var qparams = url.parse(req.url, true).query;
                    res.writeHead(200, {
                      'Content-Type': 'text/html'
                    });
                    res.write('<html><script>location.href="about:blank";</script></html>');
                    res.end();
                    if (qparams.error) {
                      reject(new Error(qparams.error));
                    } else {
                      resolve(qparams);
                    }
                    server.close();
                    req.connection.end();
                    req.connection.destroy();
                  });
                  var port = Number(url.parse(serverUrl).port);
                  server.listen(port, 'localhost');
                }));
              case 4:
                _context7.next = 6;
                return this.promptMessage('Copy & paste authz code passed in redirected URL: ');
              case 6:
                code = _context7.sent;
                return _context7.abrupt("return", {
                  code: decodeURIComponent(code),
                  state: state
                });
              case 8:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));
      function waitCallback(_x9, _x10) {
        return _waitCallback.apply(this, arguments);
      }
      return waitCallback;
    }()
    /**
     *
     */
  }, {
    key: "register",
    value: function () {
      var _register = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(clientName, clientConfig) {
        var _context8,
          _this2 = this;
        var name, prompts, registered, msg, ok;
        return _regeneratorRuntime.wrap(function _callee9$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                name = clientName || 'default';
                prompts = {
                  clientId: 'Input client ID : ',
                  clientSecret: 'Input client secret (optional) : ',
                  redirectUri: 'Input redirect URI : ',
                  loginUrl: 'Input login URL (default is https://login.salesforce.com) : '
                };
                _context10.next = 4;
                return registry.getClientConfig(name);
              case 4:
                registered = _context10.sent;
                if (!registered) {
                  _context10.next = 12;
                  break;
                }
                msg = "Client '".concat(name, "' is already registered. Are you sure you want to override ? [yN] : ");
                _context10.next = 9;
                return this.promptConfirm(msg);
              case 9:
                ok = _context10.sent;
                if (ok) {
                  _context10.next = 12;
                  break;
                }
                throw new Error('Registration canceled.');
              case 12:
                _context10.next = 14;
                return _reduceInstanceProperty(_context8 = _Object$keys(prompts)).call(_context8, /*#__PURE__*/function () {
                  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(promise, name) {
                    var cconfig, promptName, message, value;
                    return _regeneratorRuntime.wrap(function _callee8$(_context9) {
                      while (1) {
                        switch (_context9.prev = _context9.next) {
                          case 0:
                            _context9.next = 2;
                            return promise;
                          case 2:
                            cconfig = _context9.sent;
                            promptName = name;
                            message = prompts[promptName];
                            if (cconfig[promptName]) {
                              _context9.next = 11;
                              break;
                            }
                            _context9.next = 8;
                            return _this2.promptMessage(message);
                          case 8:
                            value = _context9.sent;
                            if (!value) {
                              _context9.next = 11;
                              break;
                            }
                            return _context9.abrupt("return", _objectSpread(_objectSpread({}, cconfig), {}, _defineProperty({}, promptName, value)));
                          case 11:
                            return _context9.abrupt("return", cconfig);
                          case 12:
                          case "end":
                            return _context9.stop();
                        }
                      }
                    }, _callee8);
                  }));
                  return function (_x13, _x14) {
                    return _ref.apply(this, arguments);
                  };
                }(), _Promise.resolve(clientConfig));
              case 14:
                clientConfig = _context10.sent;
                _context10.next = 17;
                return registry.registerClientConfig(name, clientConfig);
              case 17:
                this.print('Client registered successfully.');
              case 18:
              case "end":
                return _context10.stop();
            }
          }
        }, _callee9, this);
      }));
      function register(_x11, _x12) {
        return _register.apply(this, arguments);
      }
      return register;
    }()
    /**
     *
     */
  }, {
    key: "listConnections",
    value: function () {
      var _listConnections = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {
        var names, i, name;
        return _regeneratorRuntime.wrap(function _callee10$(_context11) {
          while (1) {
            switch (_context11.prev = _context11.next) {
              case 0:
                _context11.next = 2;
                return registry.getConnectionNames();
              case 2:
                names = _context11.sent;
                for (i = 0; i < names.length; i++) {
                  name = names[i];
                  this.print((name === this._connName ? '* ' : '  ') + name);
                }
              case 4:
              case "end":
                return _context11.stop();
            }
          }
        }, _callee10, this);
      }));
      function listConnections() {
        return _listConnections.apply(this, arguments);
      }
      return listConnections;
    }()
    /**
     *
     */
  }, {
    key: "getConnectionNames",
    value: function () {
      var _getConnectionNames = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11() {
        return _regeneratorRuntime.wrap(function _callee11$(_context12) {
          while (1) {
            switch (_context12.prev = _context12.next) {
              case 0:
                return _context12.abrupt("return", registry.getConnectionNames());
              case 1:
              case "end":
                return _context12.stop();
            }
          }
        }, _callee11);
      }));
      function getConnectionNames() {
        return _getConnectionNames.apply(this, arguments);
      }
      return getConnectionNames;
    }()
    /**
     *
     */
  }, {
    key: "getClientNames",
    value: function () {
      var _getClientNames = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12() {
        return _regeneratorRuntime.wrap(function _callee12$(_context13) {
          while (1) {
            switch (_context13.prev = _context13.next) {
              case 0:
                return _context13.abrupt("return", registry.getClientNames());
              case 1:
              case "end":
                return _context13.stop();
            }
          }
        }, _callee12);
      }));
      function getClientNames() {
        return _getClientNames.apply(this, arguments);
      }
      return getClientNames;
    }()
    /**
     *
     */
  }, {
    key: "prompt",
    value: function () {
      var _prompt = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(type, message) {
        var answer;
        return _regeneratorRuntime.wrap(function _callee13$(_context14) {
          while (1) {
            switch (_context14.prev = _context14.next) {
              case 0:
                this._repl.pause();
                _context14.next = 3;
                return inquirer.prompt([{
                  type: type,
                  name: 'value',
                  message: message
                }]);
              case 3:
                answer = _context14.sent;
                this._repl.resume();
                return _context14.abrupt("return", answer.value);
              case 6:
              case "end":
                return _context14.stop();
            }
          }
        }, _callee13, this);
      }));
      function prompt(_x15, _x16) {
        return _prompt.apply(this, arguments);
      }
      return prompt;
    }()
    /**
     *
     */
  }, {
    key: "promptMessage",
    value: function () {
      var _promptMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(message) {
        return _regeneratorRuntime.wrap(function _callee14$(_context15) {
          while (1) {
            switch (_context15.prev = _context15.next) {
              case 0:
                return _context15.abrupt("return", this.prompt('input', message));
              case 1:
              case "end":
                return _context15.stop();
            }
          }
        }, _callee14, this);
      }));
      function promptMessage(_x17) {
        return _promptMessage.apply(this, arguments);
      }
      return promptMessage;
    }()
  }, {
    key: "promptPassword",
    value: function () {
      var _promptPassword = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(message) {
        return _regeneratorRuntime.wrap(function _callee15$(_context16) {
          while (1) {
            switch (_context16.prev = _context16.next) {
              case 0:
                return _context16.abrupt("return", this.prompt('password', message));
              case 1:
              case "end":
                return _context16.stop();
            }
          }
        }, _callee15, this);
      }));
      function promptPassword(_x18) {
        return _promptPassword.apply(this, arguments);
      }
      return promptPassword;
    }()
    /**
     *
     */
  }, {
    key: "promptConfirm",
    value: function () {
      var _promptConfirm = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(message) {
        return _regeneratorRuntime.wrap(function _callee16$(_context17) {
          while (1) {
            switch (_context17.prev = _context17.next) {
              case 0:
                return _context17.abrupt("return", this.prompt('confirm', message));
              case 1:
              case "end":
                return _context17.stop();
            }
          }
        }, _callee16, this);
      }));
      function promptConfirm(_x19) {
        return _promptConfirm.apply(this, arguments);
      }
      return promptConfirm;
    }()
    /**
     *
     */
  }, {
    key: "openUrl",
    value: function openUrl(url) {
      _openUrl(url);
    }
    /**
     *
     */
  }, {
    key: "openUrlUsingSession",
    value: function openUrlUsingSession(url) {
      var _context18;
      var frontdoorUrl = _concatInstanceProperty(_context18 = "".concat(this._conn.instanceUrl, "/secur/frontdoor.jsp?sid=")).call(_context18, this._conn.accessToken);
      if (url) {
        frontdoorUrl += '&retURL=' + encodeURIComponent(url);
      }
      this.openUrl(frontdoorUrl);
    }
  }]);
  return Cli;
}();

/* ------------------------------------------------------------------------- */

var cli = new Cli();
export default cli;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwIiwidXJsIiwiY3J5cHRvIiwib3BlblVybCIsIkNvbW1hbmQiLCJpbnF1aXJlciIsInJlcXVlc3QiLCJiYXNlNjR1cmwiLCJSZXBsIiwianNmb3JjZSIsIkNvbm5lY3Rpb24iLCJPQXV0aDIiLCJ2ZXJzaW9uIiwicmVnaXN0cnkiLCJDbGkiLCJfY2xhc3NDYWxsQ2hlY2siLCJfZGVmaW5lUHJvcGVydHkiLCJ1bmRlZmluZWQiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsInJlYWRDb21tYW5kIiwib3B0aW9uIiwicGFyc2UiLCJwcm9jZXNzIiwiYXJndiIsIl9zdGFydCIsIl9hc3luY1RvR2VuZXJhdG9yIiwiX3JlZ2VuZXJhdG9yUnVudGltZSIsIm1hcmsiLCJfY2FsbGVlIiwicHJvZ3JhbSIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJfb3V0cHV0RW5hYmxlZCIsImV2YWxTY3JpcHQiLCJjb25uZWN0IiwiX3JlcGwiLCJzdGFydCIsImludGVyYWN0aXZlIiwidDAiLCJjb25zb2xlIiwiZXJyb3IiLCJleGl0Iiwic3RvcCIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ2V0Q3VycmVudENvbm5lY3Rpb24iLCJfY29ubiIsInByaW50IiwiX2NvbnNvbGUiLCJsb2ciLCJzYXZlQ3VycmVudENvbm5lY3Rpb24iLCJfY29ubk5hbWUiLCJjb25uIiwiY29ubk5hbWUiLCJjb25uQ29uZmlnIiwib2F1dGgyIiwiY2xpZW50SWQiLCJjbGllbnRTZWNyZXQiLCJyZWRpcmVjdFVyaSIsImxvZ2luVXJsIiwiYWNjZXNzVG9rZW4iLCJpbnN0YW5jZVVybCIsInJlZnJlc2hUb2tlbiIsInNhdmVDb25uZWN0aW9uQ29uZmlnIiwic2V0TG9naW5TZXJ2ZXIiLCJsb2dpblNlcnZlciIsIl9kZWZhdWx0TG9naW5VcmwiLCJfaW5kZXhPZkluc3RhbmNlUHJvcGVydHkiLCJjYWxsIiwiY29uY2F0IiwiX2Nvbm5lY3QiLCJfY2FsbGVlMiIsIm9wdGlvbnMiLCJfdGhpcyIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJpZGVudGl0eSIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsInNhbmRib3giLCJjb25uZWN0aW9uIiwiZ2V0Q29ubmVjdGlvbkNvbmZpZyIsInNlbnQiLCJzdGFydFBhc3N3b3JkQXV0aCIsIm9uIiwiRXJyb3IiLCJtZXNzYWdlIiwiX3giLCJfc3RhcnRQYXNzd29yZEF1dGgiLCJfY2FsbGVlMyIsIl9jYWxsZWUzJCIsIl9jb250ZXh0MyIsImxvZ2luQnlQYXNzd29yZCIsIl94MiIsIl94MyIsIl9sb2dpbkJ5UGFzc3dvcmQiLCJfY2FsbGVlNCIsInJldHJ5Q291bnQiLCJwYXNzIiwicmVzdWx0IiwiX2NhbGxlZTQkIiwiX2NvbnRleHQ0IiwicHJvbXB0UGFzc3dvcmQiLCJhYnJ1cHQiLCJsb2dpbiIsIl94NCIsIl94NSIsIl94NiIsImRpc2Nvbm5lY3QiLCJuYW1lIiwicmVtb3ZlQ29ubmVjdGlvbkNvbmZpZyIsIl9hdXRob3JpemUiLCJfY2FsbGVlNSIsImNsaWVudE5hbWUiLCJvYXV0aDJDb25maWciLCJ2ZXJpZmllciIsImNoYWxsZW5nZSIsInN0YXRlIiwiYXV0aHpVcmwiLCJwYXJhbXMiLCJfY2FsbGVlNSQiLCJfY29udGV4dDUiLCJnZXRDbGllbnRDb25maWciLCJkb3dubG9hZERlZmF1bHRDbGllbnRJbmZvIiwiZW5jb2RlIiwicmFuZG9tQnl0ZXMiLCJjcmVhdGVIYXNoIiwidXBkYXRlIiwiZGlnZXN0IiwiZ2V0QXV0aG9yaXphdGlvblVybCIsImNvZGVfY2hhbGxlbmdlIiwid2FpdENhbGxiYWNrIiwiY29kZSIsImF1dGhvcml6ZSIsImNvZGVfdmVyaWZpZXIiLCJfeDciLCJfZG93bmxvYWREZWZhdWx0Q2xpZW50SW5mbyIsIl9jYWxsZWU2IiwiY29uZmlnVXJsIiwicmVzIiwiY2xpZW50Q29uZmlnIiwiX2NhbGxlZTYkIiwiX2NvbnRleHQ2IiwiX1Byb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibWV0aG9kIiwiSlNPTiIsImJvZHkiLCJyZWdpc3RlckNsaWVudENvbmZpZyIsIl94OCIsIl93YWl0Q2FsbGJhY2siLCJfY2FsbGVlNyIsInNlcnZlclVybCIsIl9jYWxsZWU3JCIsIl9jb250ZXh0NyIsInNlcnZlciIsImNyZWF0ZVNlcnZlciIsInJlcSIsInFwYXJhbXMiLCJxdWVyeSIsIndyaXRlSGVhZCIsIndyaXRlIiwiZW5kIiwiY2xvc2UiLCJkZXN0cm95IiwicG9ydCIsIk51bWJlciIsImxpc3RlbiIsInByb21wdE1lc3NhZ2UiLCJkZWNvZGVVUklDb21wb25lbnQiLCJfeDkiLCJfeDEwIiwiX3JlZ2lzdGVyIiwiX2NhbGxlZTkiLCJfY29udGV4dDgiLCJfdGhpczIiLCJwcm9tcHRzIiwicmVnaXN0ZXJlZCIsIm1zZyIsIm9rIiwiX2NhbGxlZTkkIiwiX2NvbnRleHQxMCIsInByb21wdENvbmZpcm0iLCJfcmVkdWNlSW5zdGFuY2VQcm9wZXJ0eSIsIl9PYmplY3Qka2V5cyIsIl9yZWYiLCJfY2FsbGVlOCIsInByb21pc2UiLCJjY29uZmlnIiwicHJvbXB0TmFtZSIsIl9jYWxsZWU4JCIsIl9jb250ZXh0OSIsIl9vYmplY3RTcHJlYWQiLCJfeDEzIiwiX3gxNCIsInJlZ2lzdGVyIiwiX3gxMSIsIl94MTIiLCJfbGlzdENvbm5lY3Rpb25zIiwiX2NhbGxlZTEwIiwibmFtZXMiLCJpIiwiX2NhbGxlZTEwJCIsIl9jb250ZXh0MTEiLCJnZXRDb25uZWN0aW9uTmFtZXMiLCJsZW5ndGgiLCJsaXN0Q29ubmVjdGlvbnMiLCJfZ2V0Q29ubmVjdGlvbk5hbWVzIiwiX2NhbGxlZTExIiwiX2NhbGxlZTExJCIsIl9jb250ZXh0MTIiLCJfZ2V0Q2xpZW50TmFtZXMiLCJfY2FsbGVlMTIiLCJfY2FsbGVlMTIkIiwiX2NvbnRleHQxMyIsImdldENsaWVudE5hbWVzIiwiX3Byb21wdCIsIl9jYWxsZWUxMyIsInR5cGUiLCJhbnN3ZXIiLCJfY2FsbGVlMTMkIiwiX2NvbnRleHQxNCIsInBhdXNlIiwicHJvbXB0IiwicmVzdW1lIiwiX3gxNSIsIl94MTYiLCJfcHJvbXB0TWVzc2FnZSIsIl9jYWxsZWUxNCIsIl9jYWxsZWUxNCQiLCJfY29udGV4dDE1IiwiX3gxNyIsIl9wcm9tcHRQYXNzd29yZCIsIl9jYWxsZWUxNSIsIl9jYWxsZWUxNSQiLCJfY29udGV4dDE2IiwiX3gxOCIsIl9wcm9tcHRDb25maXJtIiwiX2NhbGxlZTE2IiwiX2NhbGxlZTE2JCIsIl9jb250ZXh0MTciLCJfeDE5Iiwib3BlblVybFVzaW5nU2Vzc2lvbiIsIl9jb250ZXh0MTgiLCJmcm9udGRvb3JVcmwiLCJfY29uY2F0SW5zdGFuY2VQcm9wZXJ0eSIsImVuY29kZVVSSUNvbXBvbmVudCIsImNsaSJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jbGkvY2xpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgQ29tbWFuZCBsaW5lIGludGVyZmFjZSBmb3IgSlNmb3JjZVxuICogQGF1dGhvciBTaGluaWNoaSBUb21pdGEgPHNoaW5pY2hpLnRvbWl0YUBnbWFpbC5jb20+XG4gKi9cbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuaW1wb3J0IHVybCBmcm9tICd1cmwnO1xuaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuaW1wb3J0IG9wZW5VcmwgZnJvbSAnb3Blbic7XG5pbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnY29tbWFuZGVyJztcbmltcG9ydCBpbnF1aXJlciBmcm9tICdpbnF1aXJlcic7XG5pbXBvcnQgcmVxdWVzdCBmcm9tICcuLi9yZXF1ZXN0JztcbmltcG9ydCBiYXNlNjR1cmwgZnJvbSAnYmFzZTY0dXJsJztcbmltcG9ydCBSZXBsIGZyb20gJy4vcmVwbCc7XG5pbXBvcnQganNmb3JjZSwgeyBDb25uZWN0aW9uLCBPQXV0aDIgfSBmcm9tICcuLic7XG5pbXBvcnQgdmVyc2lvbiBmcm9tICcuLi9WRVJTSU9OJztcbmltcG9ydCB7IE9wdGlvbmFsIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgQ2xpZW50Q29uZmlnIH0gZnJvbSAnLi4vcmVnaXN0cnkvdHlwZXMnO1xuXG5jb25zdCByZWdpc3RyeSA9IGpzZm9yY2UucmVnaXN0cnk7XG5cbmludGVyZmFjZSBDbGlDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbm5lY3Rpb24/OiBzdHJpbmc7XG4gIHVzZXJuYW1lPzogc3RyaW5nO1xuICBwYXNzd29yZD86IHN0cmluZztcbiAgbG9naW5Vcmw/OiBzdHJpbmc7XG4gIHNhbmRib3g/OiBib29sZWFuO1xuICBldmFsU2NyaXB0Pzogc3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBDbGkge1xuICBfcmVwbDogUmVwbCA9IG5ldyBSZXBsKHRoaXMpO1xuICBfY29ubjogQ29ubmVjdGlvbiA9IG5ldyBDb25uZWN0aW9uKCk7XG4gIF9jb25uTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBfb3V0cHV0RW5hYmxlZDogYm9vbGVhbiA9IHRydWU7XG4gIF9kZWZhdWx0TG9naW5Vcmw6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICpcbiAgICovXG4gIHJlYWRDb21tYW5kKCk6IENsaUNvbW1hbmQge1xuICAgIHJldHVybiBuZXcgQ29tbWFuZCgpXG4gICAgICAub3B0aW9uKCctdSwgLS11c2VybmFtZSBbdXNlcm5hbWVdJywgJ1NhbGVzZm9yY2UgdXNlcm5hbWUnKVxuICAgICAgLm9wdGlvbihcbiAgICAgICAgJy1wLCAtLXBhc3N3b3JkIFtwYXNzd29yZF0nLFxuICAgICAgICAnU2FsZXNmb3JjZSBwYXNzd29yZCAoYW5kIHNlY3VyaXR5IHRva2VuLCBpZiBhdmFpbGFibGUpJyxcbiAgICAgIClcbiAgICAgIC5vcHRpb24oXG4gICAgICAgICctYywgLS1jb25uZWN0aW9uIFtjb25uZWN0aW9uXScsXG4gICAgICAgICdDb25uZWN0aW9uIG5hbWUgc3RvcmVkIGluIGNvbm5lY3Rpb24gcmVnaXN0cnknLFxuICAgICAgKVxuICAgICAgLm9wdGlvbignLWwsIC0tbG9naW5VcmwgW2xvZ2luVXJsXScsICdTYWxlc2ZvcmNlIGxvZ2luIHVybCcpXG4gICAgICAub3B0aW9uKCctLXNhbmRib3gnLCAnTG9naW4gdG8gU2FsZXNmb3JjZSBzYW5kYm94JylcbiAgICAgIC5vcHRpb24oJy1lLCAtLWV2YWxTY3JpcHQgW2V2YWxTY3JpcHRdJywgJ1NjcmlwdCB0byBldmFsdWF0ZScpXG4gICAgICAudmVyc2lvbih2ZXJzaW9uKVxuICAgICAgLnBhcnNlKHByb2Nlc3MuYXJndik7XG4gIH1cblxuICBhc3luYyBzdGFydCgpIHtcbiAgICBjb25zdCBwcm9ncmFtID0gdGhpcy5yZWFkQ29tbWFuZCgpO1xuICAgIHRoaXMuX291dHB1dEVuYWJsZWQgPSAhcHJvZ3JhbS5ldmFsU2NyaXB0O1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmNvbm5lY3QocHJvZ3JhbSk7XG4gICAgICBpZiAocHJvZ3JhbS5ldmFsU2NyaXB0KSB7XG4gICAgICAgIHRoaXMuX3JlcGwuc3RhcnQoe1xuICAgICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICBldmFsU2NyaXB0OiBwcm9ncmFtLmV2YWxTY3JpcHQsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVwbC5zdGFydCgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgcHJvY2Vzcy5leGl0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q3VycmVudENvbm5lY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Nvbm47XG4gIH1cblxuICBwcmludCguLi5hcmdzOiBhbnlbXSkge1xuICAgIGlmICh0aGlzLl9vdXRwdXRFbmFibGVkKSB7XG4gICAgICBjb25zb2xlLmxvZyguLi5hcmdzKTtcbiAgICB9XG4gIH1cblxuICBzYXZlQ3VycmVudENvbm5lY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2Nvbm5OYW1lKSB7XG4gICAgICBjb25zdCBjb25uID0gdGhpcy5fY29ubjtcbiAgICAgIGNvbnN0IGNvbm5OYW1lID0gdGhpcy5fY29ubk5hbWU7XG4gICAgICBjb25zdCBjb25uQ29uZmlnID0ge1xuICAgICAgICBvYXV0aDI6IGNvbm4ub2F1dGgyXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIGNsaWVudElkOiBjb25uLm9hdXRoMi5jbGllbnRJZCB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIGNsaWVudFNlY3JldDogY29ubi5vYXV0aDIuY2xpZW50U2VjcmV0IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgcmVkaXJlY3RVcmk6IGNvbm4ub2F1dGgyLnJlZGlyZWN0VXJpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgbG9naW5Vcmw6IGNvbm4ub2F1dGgyLmxvZ2luVXJsIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgYWNjZXNzVG9rZW46IGNvbm4uYWNjZXNzVG9rZW4gfHwgdW5kZWZpbmVkLFxuICAgICAgICBpbnN0YW5jZVVybDogY29ubi5pbnN0YW5jZVVybCB8fCB1bmRlZmluZWQsXG4gICAgICAgIHJlZnJlc2hUb2tlbjogY29ubi5yZWZyZXNoVG9rZW4gfHwgdW5kZWZpbmVkLFxuICAgICAgfTtcbiAgICAgIHJlZ2lzdHJ5LnNhdmVDb25uZWN0aW9uQ29uZmlnKGNvbm5OYW1lLCBjb25uQ29uZmlnKTtcbiAgICB9XG4gIH1cblxuICBzZXRMb2dpblNlcnZlcihsb2dpblNlcnZlcjogT3B0aW9uYWw8c3RyaW5nPikge1xuICAgIGlmICghbG9naW5TZXJ2ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGxvZ2luU2VydmVyID09PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHRoaXMuX2RlZmF1bHRMb2dpblVybCA9ICdodHRwczovL2xvZ2luLnNhbGVzZm9yY2UuY29tJztcbiAgICB9IGVsc2UgaWYgKGxvZ2luU2VydmVyID09PSAnc2FuZGJveCcpIHtcbiAgICAgIHRoaXMuX2RlZmF1bHRMb2dpblVybCA9ICdodHRwczovL3Rlc3Quc2FsZXNmb3JjZS5jb20nO1xuICAgIH0gZWxzZSBpZiAobG9naW5TZXJ2ZXIuaW5kZXhPZignaHR0cHM6Ly8nKSAhPT0gMCkge1xuICAgICAgdGhpcy5fZGVmYXVsdExvZ2luVXJsID0gJ2h0dHBzOi8vJyArIGxvZ2luU2VydmVyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kZWZhdWx0TG9naW5VcmwgPSBsb2dpblNlcnZlcjtcbiAgICB9XG4gICAgdGhpcy5wcmludChgVXNpbmcgXCIke3RoaXMuX2RlZmF1bHRMb2dpblVybH1cIiBhcyBkZWZhdWx0IGxvZ2luIFVSTC5gKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgYXN5bmMgY29ubmVjdChvcHRpb25zOiB7XG4gICAgdXNlcm5hbWU/OiBzdHJpbmc7XG4gICAgcGFzc3dvcmQ/OiBzdHJpbmc7XG4gICAgY29ubmVjdGlvbj86IHN0cmluZztcbiAgICBsb2dpblVybD86IHN0cmluZztcbiAgICBzYW5kYm94PzogYm9vbGVhbjtcbiAgfSkge1xuICAgIGNvbnN0IGxvZ2luU2VydmVyID0gb3B0aW9ucy5sb2dpblVybFxuICAgICAgPyBvcHRpb25zLmxvZ2luVXJsXG4gICAgICA6IG9wdGlvbnMuc2FuZGJveFxuICAgICAgPyAnc2FuZGJveCdcbiAgICAgIDogbnVsbDtcbiAgICB0aGlzLnNldExvZ2luU2VydmVyKGxvZ2luU2VydmVyKTtcbiAgICB0aGlzLl9jb25uTmFtZSA9IG9wdGlvbnMuY29ubmVjdGlvbjtcbiAgICBsZXQgY29ubkNvbmZpZyA9IGF3YWl0IHJlZ2lzdHJ5LmdldENvbm5lY3Rpb25Db25maWcob3B0aW9ucy5jb25uZWN0aW9uKTtcbiAgICBsZXQgdXNlcm5hbWUgPSBvcHRpb25zLnVzZXJuYW1lO1xuICAgIGlmICghY29ubkNvbmZpZykge1xuICAgICAgY29ubkNvbmZpZyA9IHt9O1xuICAgICAgaWYgKHRoaXMuX2RlZmF1bHRMb2dpblVybCkge1xuICAgICAgICBjb25uQ29uZmlnLmxvZ2luVXJsID0gdGhpcy5fZGVmYXVsdExvZ2luVXJsO1xuICAgICAgfVxuICAgICAgdXNlcm5hbWUgPSB1c2VybmFtZSB8fCBvcHRpb25zLmNvbm5lY3Rpb247XG4gICAgfVxuICAgIHRoaXMuX2Nvbm4gPSBuZXcgQ29ubmVjdGlvbihjb25uQ29uZmlnKTtcbiAgICBjb25zdCBwYXNzd29yZCA9IG9wdGlvbnMucGFzc3dvcmQ7XG4gICAgaWYgKHVzZXJuYW1lKSB7XG4gICAgICBhd2FpdCB0aGlzLnN0YXJ0UGFzc3dvcmRBdXRoKHVzZXJuYW1lLCBwYXNzd29yZCk7XG4gICAgICB0aGlzLnNhdmVDdXJyZW50Q29ubmVjdGlvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5fY29ubk5hbWUgJiYgdGhpcy5fY29ubi5hY2Nlc3NUb2tlbikge1xuICAgICAgICB0aGlzLl9jb25uLm9uKCdyZWZyZXNoJywgKCkgPT4ge1xuICAgICAgICAgIHRoaXMucHJpbnQoJ1JlZnJlc2hpbmcgYWNjZXNzIHRva2VuIC4uLiAnKTtcbiAgICAgICAgICB0aGlzLnNhdmVDdXJyZW50Q29ubmVjdGlvbigpO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBpZGVudGl0eSA9IGF3YWl0IHRoaXMuX2Nvbm4uaWRlbnRpdHkoKTtcbiAgICAgICAgICB0aGlzLnByaW50KGBMb2dnZWQgaW4gYXMgOiAke2lkZW50aXR5LnVzZXJuYW1lfWApO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMucHJpbnQoZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5fY29ubi5vYXV0aDIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHJlLWF1dGhvcml6ZSBjb25uZWN0aW9uLicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0UGFzc3dvcmRBdXRoKHRoaXMuX2Nvbm5OYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIGFzeW5jIHN0YXJ0UGFzc3dvcmRBdXRoKHVzZXJuYW1lOiBzdHJpbmcsIHBhc3N3b3JkPzogc3RyaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMubG9naW5CeVBhc3N3b3JkKHVzZXJuYW1lLCBwYXNzd29yZCwgMik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyLm1lc3NhZ2UgPT09ICdjYW5jZWxlZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUGFzc3dvcmQgYXV0aGVudGljYXRpb24gY2FuY2VsZWQ6IE5vdCBsb2dnZWQgaW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIGFzeW5jIGxvZ2luQnlQYXNzd29yZChcbiAgICB1c2VybmFtZTogc3RyaW5nLFxuICAgIHBhc3N3b3JkOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgcmV0cnlDb3VudDogbnVtYmVyLFxuICApOiBQcm9taXNlPHsgaWQ6IHN0cmluZyB9PiB7XG4gICAgaWYgKHBhc3N3b3JkID09PSAnJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxlZCcpO1xuICAgIH1cbiAgICBpZiAocGFzc3dvcmQgPT0gbnVsbCkge1xuICAgICAgY29uc3QgcGFzcyA9IGF3YWl0IHRoaXMucHJvbXB0UGFzc3dvcmQoJ1Bhc3N3b3JkOiAnKTtcbiAgICAgIHJldHVybiB0aGlzLmxvZ2luQnlQYXNzd29yZCh1c2VybmFtZSwgcGFzcywgcmV0cnlDb3VudCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9jb25uLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCk7XG4gICAgICB0aGlzLnByaW50KGBMb2dnZWQgaW4gYXMgOiAke3VzZXJuYW1lfWApO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXRyeUNvdW50ID4gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2dpbkJ5UGFzc3dvcmQodXNlcm5hbWUsIHVuZGVmaW5lZCwgcmV0cnlDb3VudCAtIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZGlzY29ubmVjdChjb25uTmFtZT86IHN0cmluZykge1xuICAgIGNvbnN0IG5hbWUgPSBjb25uTmFtZSB8fCB0aGlzLl9jb25uTmFtZTtcbiAgICBpZiAobmFtZSAmJiByZWdpc3RyeS5nZXRDb25uZWN0aW9uQ29uZmlnKG5hbWUpKSB7XG4gICAgICByZWdpc3RyeS5yZW1vdmVDb25uZWN0aW9uQ29uZmlnKG5hbWUpO1xuICAgICAgdGhpcy5wcmludChgRGlzY29ubmVjdCBjb25uZWN0aW9uICcke25hbWV9J2ApO1xuICAgIH1cbiAgICB0aGlzLl9jb25uTmFtZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9jb25uID0gbmV3IENvbm5lY3Rpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgYXN5bmMgYXV0aG9yaXplKGNsaWVudE5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IG5hbWUgPSBjbGllbnROYW1lIHx8ICdkZWZhdWx0JztcbiAgICB2YXIgb2F1dGgyQ29uZmlnID0gYXdhaXQgcmVnaXN0cnkuZ2V0Q2xpZW50Q29uZmlnKG5hbWUpO1xuICAgIGlmICghb2F1dGgyQ29uZmlnIHx8ICFvYXV0aDJDb25maWcuY2xpZW50SWQpIHtcbiAgICAgIGlmIChuYW1lID09PSAnZGVmYXVsdCcgfHwgbmFtZSA9PT0gJ3NhbmRib3gnKSB7XG4gICAgICAgIHRoaXMucHJpbnQoXG4gICAgICAgICAgJ05vIGNsaWVudCBpbmZvcm1hdGlvbiByZWdpc3RlcmVkLiBEb3dubG9hZGluZyBKU2ZvcmNlIGRlZmF1bHQgY2xpZW50IGluZm9ybWF0aW9uLi4uJyxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG93bmxvYWREZWZhdWx0Q2xpZW50SW5mbyhuYW1lKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYE5vIE9BdXRoMiBjbGllbnQgaW5mb3JtYXRpb24gcmVnaXN0ZXJlZCA6ICcke25hbWV9Jy4gUGxlYXNlIHJlZ2lzdGVyIGNsaWVudCBpbmZvIGZpcnN0LmAsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBvYXV0aDIgPSBuZXcgT0F1dGgyKG9hdXRoMkNvbmZpZyk7XG4gICAgY29uc3QgdmVyaWZpZXIgPSBiYXNlNjR1cmwuZW5jb2RlKGNyeXB0by5yYW5kb21CeXRlcygzMikpO1xuICAgIGNvbnN0IGNoYWxsZW5nZSA9IGJhc2U2NHVybC5lbmNvZGUoXG4gICAgICBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMjU2JykudXBkYXRlKHZlcmlmaWVyKS5kaWdlc3QoKSxcbiAgICApO1xuICAgIGNvbnN0IHN0YXRlID0gYmFzZTY0dXJsLmVuY29kZShjcnlwdG8ucmFuZG9tQnl0ZXMoMzIpKTtcbiAgICBjb25zdCBhdXRoelVybCA9IG9hdXRoMi5nZXRBdXRob3JpemF0aW9uVXJsKHtcbiAgICAgIGNvZGVfY2hhbGxlbmdlOiBjaGFsbGVuZ2UsXG4gICAgICBzdGF0ZSxcbiAgICB9KTtcbiAgICB0aGlzLnByaW50KCdPcGVuaW5nIGF1dGhvcml6YXRpb24gcGFnZSBpbiBicm93c2VyLi4uJyk7XG4gICAgdGhpcy5wcmludChgVVJMOiAke2F1dGh6VXJsfWApO1xuICAgIHRoaXMub3BlblVybChhdXRoelVybCk7XG4gICAgY29uc3QgcGFyYW1zID0gYXdhaXQgdGhpcy53YWl0Q2FsbGJhY2sob2F1dGgyQ29uZmlnLnJlZGlyZWN0VXJpLCBzdGF0ZSk7XG4gICAgaWYgKCFwYXJhbXMuY29kZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhdXRob3JpemF0aW9uIGNvZGUgcmV0dXJuZWQuJyk7XG4gICAgfVxuICAgIGlmIChwYXJhbXMuc3RhdGUgIT09IHN0YXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RhdGUgcGFyYW1ldGVyIHJldHVybmVkLicpO1xuICAgIH1cbiAgICB0aGlzLl9jb25uID0gbmV3IENvbm5lY3Rpb24oeyBvYXV0aDIgfSk7XG4gICAgdGhpcy5wcmludChcbiAgICAgICdSZWNlaXZlZCBhdXRob3JpemF0aW9uIGNvZGUuIFBsZWFzZSBjbG9zZSB0aGUgb3BlbmVkIGJyb3dzZXIgd2luZG93LicsXG4gICAgKTtcbiAgICBhd2FpdCB0aGlzLl9jb25uLmF1dGhvcml6ZShwYXJhbXMuY29kZSwgeyBjb2RlX3ZlcmlmaWVyOiB2ZXJpZmllciB9KTtcbiAgICB0aGlzLnByaW50KCdBdXRob3JpemVkLiBGZXRjaGluZyB1c2VyIGluZm8uLi4nKTtcbiAgICBjb25zdCBpZGVudGl0eSA9IGF3YWl0IHRoaXMuX2Nvbm4uaWRlbnRpdHkoKTtcbiAgICB0aGlzLnByaW50KGBMb2dnZWQgaW4gYXMgOiAke2lkZW50aXR5LnVzZXJuYW1lfWApO1xuICAgIHRoaXMuX2Nvbm5OYW1lID0gaWRlbnRpdHkudXNlcm5hbWU7XG4gICAgdGhpcy5zYXZlQ3VycmVudENvbm5lY3Rpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgYXN5bmMgZG93bmxvYWREZWZhdWx0Q2xpZW50SW5mbyhjbGllbnROYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjb25maWdVcmwgPSAnaHR0cHM6Ly9qc2ZvcmNlLmdpdGh1Yi5pby9jbGllbnQtY29uZmlnL2RlZmF1bHQuanNvbic7XG4gICAgY29uc3QgcmVzOiB7IGJvZHk6IHN0cmluZyB9ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgcmVxdWVzdCh7IG1ldGhvZDogJ0dFVCcsIHVybDogY29uZmlnVXJsIH0pXG4gICAgICAgIC5vbignY29tcGxldGUnLCByZXNvbHZlKVxuICAgICAgICAub24oJ2Vycm9yJywgcmVqZWN0KTtcbiAgICB9KTtcbiAgICBjb25zdCBjbGllbnRDb25maWcgPSBKU09OLnBhcnNlKHJlcy5ib2R5KTtcbiAgICBpZiAoY2xpZW50TmFtZSA9PT0gJ3NhbmRib3gnKSB7XG4gICAgICBjbGllbnRDb25maWcubG9naW5VcmwgPSAnaHR0cHM6Ly90ZXN0LnNhbGVzZm9yY2UuY29tJztcbiAgICB9XG4gICAgYXdhaXQgcmVnaXN0cnkucmVnaXN0ZXJDbGllbnRDb25maWcoY2xpZW50TmFtZSwgY2xpZW50Q29uZmlnKTtcbiAgICB0aGlzLnByaW50KCdDbGllbnQgaW5mb3JtYXRpb24gZG93bmxvYWRlZCBzdWNjZXNzZnVsbHkuJyk7XG4gICAgcmV0dXJuIHRoaXMuYXV0aG9yaXplKGNsaWVudE5hbWUpO1xuICB9XG5cbiAgYXN5bmMgd2FpdENhbGxiYWNrKFxuICAgIHNlcnZlclVybDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIHN0YXRlOiBzdHJpbmcsXG4gICk6IFByb21pc2U8eyBjb2RlOiBzdHJpbmc7IHN0YXRlOiBzdHJpbmcgfT4ge1xuICAgIGlmIChzZXJ2ZXJVcmwgJiYgc2VydmVyVXJsLmluZGV4T2YoJ2h0dHA6Ly9sb2NhbGhvc3Q6JykgPT09IDApIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKChyZXEsIHJlcykgPT4ge1xuICAgICAgICAgIGlmICghcmVxLnVybCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBxcGFyYW1zID0gdXJsLnBhcnNlKHJlcS51cmwsIHRydWUpLnF1ZXJ5O1xuICAgICAgICAgIHJlcy53cml0ZUhlYWQoMjAwLCB7ICdDb250ZW50LVR5cGUnOiAndGV4dC9odG1sJyB9KTtcbiAgICAgICAgICByZXMud3JpdGUoXG4gICAgICAgICAgICAnPGh0bWw+PHNjcmlwdD5sb2NhdGlvbi5ocmVmPVwiYWJvdXQ6YmxhbmtcIjs8L3NjcmlwdD48L2h0bWw+JyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlcy5lbmQoKTtcbiAgICAgICAgICBpZiAocXBhcmFtcy5lcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihxcGFyYW1zLmVycm9yIGFzIHN0cmluZykpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHFwYXJhbXMgYXMgeyBjb2RlOiBzdHJpbmc7IHN0YXRlOiBzdHJpbmcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlcnZlci5jbG9zZSgpO1xuICAgICAgICAgIHJlcS5jb25uZWN0aW9uLmVuZCgpO1xuICAgICAgICAgIHJlcS5jb25uZWN0aW9uLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHBvcnQgPSBOdW1iZXIodXJsLnBhcnNlKHNlcnZlclVybCkucG9ydCk7XG4gICAgICAgIHNlcnZlci5saXN0ZW4ocG9ydCwgJ2xvY2FsaG9zdCcpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvZGUgPSBhd2FpdCB0aGlzLnByb21wdE1lc3NhZ2UoXG4gICAgICAgICdDb3B5ICYgcGFzdGUgYXV0aHogY29kZSBwYXNzZWQgaW4gcmVkaXJlY3RlZCBVUkw6ICcsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHsgY29kZTogZGVjb2RlVVJJQ29tcG9uZW50KGNvZGUpLCBzdGF0ZSB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgYXN5bmMgcmVnaXN0ZXIoY2xpZW50TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBjbGllbnRDb25maWc6IENsaWVudENvbmZpZykge1xuICAgIGNvbnN0IG5hbWUgPSBjbGllbnROYW1lIHx8ICdkZWZhdWx0JztcbiAgICBjb25zdCBwcm9tcHRzID0ge1xuICAgICAgY2xpZW50SWQ6ICdJbnB1dCBjbGllbnQgSUQgOiAnLFxuICAgICAgY2xpZW50U2VjcmV0OiAnSW5wdXQgY2xpZW50IHNlY3JldCAob3B0aW9uYWwpIDogJyxcbiAgICAgIHJlZGlyZWN0VXJpOiAnSW5wdXQgcmVkaXJlY3QgVVJJIDogJyxcbiAgICAgIGxvZ2luVXJsOiAnSW5wdXQgbG9naW4gVVJMIChkZWZhdWx0IGlzIGh0dHBzOi8vbG9naW4uc2FsZXNmb3JjZS5jb20pIDogJyxcbiAgICB9O1xuICAgIGNvbnN0IHJlZ2lzdGVyZWQgPSBhd2FpdCByZWdpc3RyeS5nZXRDbGllbnRDb25maWcobmFtZSk7XG4gICAgaWYgKHJlZ2lzdGVyZWQpIHtcbiAgICAgIGNvbnN0IG1zZyA9IGBDbGllbnQgJyR7bmFtZX0nIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIG92ZXJyaWRlID8gW3lOXSA6IGA7XG4gICAgICBjb25zdCBvayA9IGF3YWl0IHRoaXMucHJvbXB0Q29uZmlybShtc2cpO1xuICAgICAgaWYgKCFvaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZ2lzdHJhdGlvbiBjYW5jZWxlZC4nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2xpZW50Q29uZmlnID0gYXdhaXQgT2JqZWN0LmtleXMocHJvbXB0cykucmVkdWNlKGFzeW5jIChwcm9taXNlLCBuYW1lKSA9PiB7XG4gICAgICBjb25zdCBjY29uZmlnID0gYXdhaXQgcHJvbWlzZTtcbiAgICAgIGNvbnN0IHByb21wdE5hbWUgPSBuYW1lIGFzIGtleW9mIHR5cGVvZiBwcm9tcHRzO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IHByb21wdHNbcHJvbXB0TmFtZV07XG4gICAgICBpZiAoIWNjb25maWdbcHJvbXB0TmFtZV0pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCB0aGlzLnByb21wdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jY29uZmlnLFxuICAgICAgICAgICAgW3Byb21wdE5hbWVdOiB2YWx1ZSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY2NvbmZpZztcbiAgICB9LCBQcm9taXNlLnJlc29sdmUoY2xpZW50Q29uZmlnKSk7XG4gICAgYXdhaXQgcmVnaXN0cnkucmVnaXN0ZXJDbGllbnRDb25maWcobmFtZSwgY2xpZW50Q29uZmlnKTtcbiAgICB0aGlzLnByaW50KCdDbGllbnQgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHkuJyk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIGFzeW5jIGxpc3RDb25uZWN0aW9ucygpIHtcbiAgICBjb25zdCBuYW1lcyA9IGF3YWl0IHJlZ2lzdHJ5LmdldENvbm5lY3Rpb25OYW1lcygpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBuYW1lID0gbmFtZXNbaV07XG4gICAgICB0aGlzLnByaW50KChuYW1lID09PSB0aGlzLl9jb25uTmFtZSA/ICcqICcgOiAnICAnKSArIG5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgYXN5bmMgZ2V0Q29ubmVjdGlvbk5hbWVzKCkge1xuICAgIHJldHVybiByZWdpc3RyeS5nZXRDb25uZWN0aW9uTmFtZXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgYXN5bmMgZ2V0Q2xpZW50TmFtZXMoKSB7XG4gICAgcmV0dXJuIHJlZ2lzdHJ5LmdldENsaWVudE5hbWVzKCk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIGFzeW5jIHByb21wdCh0eXBlOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZykge1xuICAgIHRoaXMuX3JlcGwucGF1c2UoKTtcbiAgICBjb25zdCBhbnN3ZXI6IHsgdmFsdWU6IHN0cmluZyB9ID0gYXdhaXQgaW5xdWlyZXIucHJvbXB0KFtcbiAgICAgIHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAgbmFtZTogJ3ZhbHVlJyxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gICAgdGhpcy5fcmVwbC5yZXN1bWUoKTtcbiAgICByZXR1cm4gYW5zd2VyLnZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBhc3luYyBwcm9tcHRNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLnByb21wdCgnaW5wdXQnLCBtZXNzYWdlKTtcbiAgfVxuXG4gIGFzeW5jIHByb21wdFBhc3N3b3JkKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLnByb21wdCgncGFzc3dvcmQnLCBtZXNzYWdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgYXN5bmMgcHJvbXB0Q29uZmlybShtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9tcHQoJ2NvbmZpcm0nLCBtZXNzYWdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgb3BlblVybCh1cmw6IHN0cmluZykge1xuICAgIG9wZW5VcmwodXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgb3BlblVybFVzaW5nU2Vzc2lvbih1cmw/OiBzdHJpbmcpIHtcbiAgICBsZXQgZnJvbnRkb29yVXJsID0gYCR7dGhpcy5fY29ubi5pbnN0YW5jZVVybH0vc2VjdXIvZnJvbnRkb29yLmpzcD9zaWQ9JHt0aGlzLl9jb25uLmFjY2Vzc1Rva2VufWA7XG4gICAgaWYgKHVybCkge1xuICAgICAgZnJvbnRkb29yVXJsICs9ICcmcmV0VVJMPScgKyBlbmNvZGVVUklDb21wb25lbnQodXJsKTtcbiAgICB9XG4gICAgdGhpcy5vcGVuVXJsKGZyb250ZG9vclVybCk7XG4gIH1cbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCBjbGkgPSBuZXcgQ2xpKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsaTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU9BLElBQUksTUFBTSxNQUFNO0FBQ3ZCLE9BQU9DLEdBQUcsTUFBTSxLQUFLO0FBQ3JCLE9BQU9DLE1BQU0sTUFBTSxRQUFRO0FBQzNCLE9BQU9DLFFBQU8sTUFBTSxNQUFNO0FBQzFCLFNBQVNDLE9BQU8sUUFBUSxXQUFXO0FBQ25DLE9BQU9DLFFBQVEsTUFBTSxVQUFVO0FBQy9CLE9BQU9DLE9BQU8sTUFBTSxZQUFZO0FBQ2hDLE9BQU9DLFNBQVMsTUFBTSxXQUFXO0FBQ2pDLE9BQU9DLElBQUksTUFBTSxRQUFRO0FBQ3pCLE9BQU9DLE9BQU8sSUFBSUMsVUFBVSxFQUFFQyxNQUFNLFFBQVEsSUFBSTtBQUNoRCxPQUFPQyxPQUFPLE1BQU0sWUFBWTtBQUloQyxJQUFNQyxRQUFRLEdBQUdKLE9BQU8sQ0FBQ0ksUUFBUTtBQVdqQztBQUNBO0FBQ0E7QUFDQSxXQUFhQyxHQUFHO0VBQUEsU0FBQUEsSUFBQTtJQUFBQyxlQUFBLE9BQUFELEdBQUE7SUFBQUUsZUFBQSxnQkFDQSxJQUFJUixJQUFJLENBQUMsSUFBSSxDQUFDO0lBQUFRLGVBQUEsZ0JBQ1IsSUFBSU4sVUFBVSxDQUFDLENBQUM7SUFBQU0sZUFBQSxvQkFDSkMsU0FBUztJQUFBRCxlQUFBLHlCQUNmLElBQUk7SUFBQUEsZUFBQSwyQkFDU0MsU0FBUztFQUFBO0VBQUFDLFlBQUEsQ0FBQUosR0FBQTtJQUFBSyxHQUFBO0lBRWhEO0FBQ0Y7QUFDQTtJQUZFQyxLQUFBLFdBQUFDLFlBQUEsRUFHMEI7TUFDeEIsT0FBTyxJQUFJakIsT0FBTyxDQUFDLENBQUMsQ0FDakJrQixNQUFNLENBQUMsMkJBQTJCLEVBQUUscUJBQXFCLENBQUMsQ0FDMURBLE1BQU0sQ0FDTCwyQkFBMkIsRUFDM0Isd0RBQ0YsQ0FBQyxDQUNBQSxNQUFNLENBQ0wsK0JBQStCLEVBQy9CLCtDQUNGLENBQUMsQ0FDQUEsTUFBTSxDQUFDLDJCQUEyQixFQUFFLHNCQUFzQixDQUFDLENBQzNEQSxNQUFNLENBQUMsV0FBVyxFQUFFLDZCQUE2QixDQUFDLENBQ2xEQSxNQUFNLENBQUMsK0JBQStCLEVBQUUsb0JBQW9CLENBQUMsQ0FDN0RWLE9BQU8sQ0FBQ0EsT0FBTyxDQUFDLENBQ2hCVyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDO0lBQ3hCO0VBQUM7SUFBQU4sR0FBQTtJQUFBQyxLQUFBO01BQUEsSUFBQU0sTUFBQSxHQUFBQyxpQkFBQSxlQUFBQyxtQkFBQSxDQUFBQyxJQUFBLFVBQUFDLFFBQUE7UUFBQSxJQUFBQyxPQUFBO1FBQUEsT0FBQUgsbUJBQUEsQ0FBQUksSUFBQSxVQUFBQyxTQUFBQyxRQUFBO1VBQUE7WUFBQSxRQUFBQSxRQUFBLENBQUFDLElBQUEsR0FBQUQsUUFBQSxDQUFBRSxJQUFBO2NBQUE7Z0JBR09MLE9BQU8sR0FBRyxJQUFJLENBQUNWLFdBQVcsQ0FBQyxDQUFDO2dCQUNsQyxJQUFJLENBQUNnQixjQUFjLEdBQUcsQ0FBQ04sT0FBTyxDQUFDTyxVQUFVO2dCQUFDSixRQUFBLENBQUFDLElBQUE7Z0JBQUFELFFBQUEsQ0FBQUUsSUFBQTtnQkFBQSxPQUVsQyxJQUFJLENBQUNHLE9BQU8sQ0FBQ1IsT0FBTyxDQUFDO2NBQUE7Z0JBQzNCLElBQUlBLE9BQU8sQ0FBQ08sVUFBVSxFQUFFO2tCQUN0QixJQUFJLENBQUNFLEtBQUssQ0FBQ0MsS0FBSyxDQUFDO29CQUNmQyxXQUFXLEVBQUUsS0FBSztvQkFDbEJKLFVBQVUsRUFBRVAsT0FBTyxDQUFDTztrQkFDdEIsQ0FBQyxDQUFDO2dCQUNKLENBQUMsTUFBTTtrQkFDTCxJQUFJLENBQUNFLEtBQUssQ0FBQ0MsS0FBSyxDQUFDLENBQUM7Z0JBQ3BCO2dCQUFDUCxRQUFBLENBQUFFLElBQUE7Z0JBQUE7Y0FBQTtnQkFBQUYsUUFBQSxDQUFBQyxJQUFBO2dCQUFBRCxRQUFBLENBQUFTLEVBQUEsR0FBQVQsUUFBQTtnQkFFRFUsT0FBTyxDQUFDQyxLQUFLLENBQUFYLFFBQUEsQ0FBQVMsRUFBSSxDQUFDO2dCQUNsQm5CLE9BQU8sQ0FBQ3NCLElBQUksQ0FBQyxDQUFDO2NBQUM7Y0FBQTtnQkFBQSxPQUFBWixRQUFBLENBQUFhLElBQUE7WUFBQTtVQUFBO1FBQUEsR0FBQWpCLE9BQUE7TUFBQTtNQUFBLFNBQUFXLE1BQUE7UUFBQSxPQUFBZixNQUFBLENBQUFzQixLQUFBLE9BQUFDLFNBQUE7TUFBQTtNQUFBLE9BQUFSLEtBQUE7SUFBQTtFQUFBO0lBQUF0QixHQUFBO0lBQUFDLEtBQUEsV0FBQThCLHFCQUFBLEVBSUk7TUFDckIsT0FBTyxJQUFJLENBQUNDLEtBQUs7SUFDbkI7RUFBQztJQUFBaEMsR0FBQTtJQUFBQyxLQUFBLFdBQUFnQyxNQUFBLEVBRXFCO01BQ3BCLElBQUksSUFBSSxDQUFDZixjQUFjLEVBQUU7UUFBQSxJQUFBZ0IsUUFBQTtRQUN2QixDQUFBQSxRQUFBLEdBQUFULE9BQU8sRUFBQ1UsR0FBRyxDQUFBTixLQUFBLENBQUFLLFFBQUEsRUFBQUosU0FBUSxDQUFDO01BQ3RCO0lBQ0Y7RUFBQztJQUFBOUIsR0FBQTtJQUFBQyxLQUFBLFdBQUFtQyxzQkFBQSxFQUV1QjtNQUN0QixJQUFJLElBQUksQ0FBQ0MsU0FBUyxFQUFFO1FBQ2xCLElBQU1DLElBQUksR0FBRyxJQUFJLENBQUNOLEtBQUs7UUFDdkIsSUFBTU8sUUFBUSxHQUFHLElBQUksQ0FBQ0YsU0FBUztRQUMvQixJQUFNRyxVQUFVLEdBQUc7VUFDakJDLE1BQU0sRUFBRUgsSUFBSSxDQUFDRyxNQUFNLEdBQ2Y7WUFDRUMsUUFBUSxFQUFFSixJQUFJLENBQUNHLE1BQU0sQ0FBQ0MsUUFBUSxJQUFJNUMsU0FBUztZQUMzQzZDLFlBQVksRUFBRUwsSUFBSSxDQUFDRyxNQUFNLENBQUNFLFlBQVksSUFBSTdDLFNBQVM7WUFDbkQ4QyxXQUFXLEVBQUVOLElBQUksQ0FBQ0csTUFBTSxDQUFDRyxXQUFXLElBQUk5QyxTQUFTO1lBQ2pEK0MsUUFBUSxFQUFFUCxJQUFJLENBQUNHLE1BQU0sQ0FBQ0ksUUFBUSxJQUFJL0M7VUFDcEMsQ0FBQyxHQUNEQSxTQUFTO1VBQ2JnRCxXQUFXLEVBQUVSLElBQUksQ0FBQ1EsV0FBVyxJQUFJaEQsU0FBUztVQUMxQ2lELFdBQVcsRUFBRVQsSUFBSSxDQUFDUyxXQUFXLElBQUlqRCxTQUFTO1VBQzFDa0QsWUFBWSxFQUFFVixJQUFJLENBQUNVLFlBQVksSUFBSWxEO1FBQ3JDLENBQUM7UUFDREosUUFBUSxDQUFDdUQsb0JBQW9CLENBQUNWLFFBQVEsRUFBRUMsVUFBVSxDQUFDO01BQ3JEO0lBQ0Y7RUFBQztJQUFBeEMsR0FBQTtJQUFBQyxLQUFBLFdBQUFpRCxlQUVjQyxXQUE2QixFQUFFO01BQzVDLElBQUksQ0FBQ0EsV0FBVyxFQUFFO1FBQ2hCO01BQ0Y7TUFDQSxJQUFJQSxXQUFXLEtBQUssWUFBWSxFQUFFO1FBQ2hDLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUcsOEJBQThCO01BQ3hELENBQUMsTUFBTSxJQUFJRCxXQUFXLEtBQUssU0FBUyxFQUFFO1FBQ3BDLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUcsNkJBQTZCO01BQ3ZELENBQUMsTUFBTSxJQUFJQyx3QkFBQSxDQUFBRixXQUFXLEVBQUFHLElBQUEsQ0FBWEgsV0FBVyxFQUFTLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNoRCxJQUFJLENBQUNDLGdCQUFnQixHQUFHLFVBQVUsR0FBR0QsV0FBVztNQUNsRCxDQUFDLE1BQU07UUFDTCxJQUFJLENBQUNDLGdCQUFnQixHQUFHRCxXQUFXO01BQ3JDO01BQ0EsSUFBSSxDQUFDbEIsS0FBSyxZQUFBc0IsTUFBQSxDQUFXLElBQUksQ0FBQ0gsZ0JBQWdCLDZCQUF5QixDQUFDO0lBQ3RFO0lBRUE7QUFDRjtBQUNBO0VBRkU7SUFBQXBELEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUF1RCxRQUFBLEdBQUFoRCxpQkFBQSxlQUFBQyxtQkFBQSxDQUFBQyxJQUFBLFVBQUErQyxTQUdjQyxPQU1iO1FBQUEsSUFBQUMsS0FBQTtRQUFBLElBQUFSLFdBQUEsRUFBQVgsVUFBQSxFQUFBb0IsUUFBQSxFQUFBQyxRQUFBLEVBQUFDLFFBQUE7UUFBQSxPQUFBckQsbUJBQUEsQ0FBQUksSUFBQSxVQUFBa0QsVUFBQUMsU0FBQTtVQUFBO1lBQUEsUUFBQUEsU0FBQSxDQUFBaEQsSUFBQSxHQUFBZ0QsU0FBQSxDQUFBL0MsSUFBQTtjQUFBO2dCQUNPa0MsV0FBVyxHQUFHTyxPQUFPLENBQUNiLFFBQVEsR0FDaENhLE9BQU8sQ0FBQ2IsUUFBUSxHQUNoQmEsT0FBTyxDQUFDTyxPQUFPLEdBQ2YsU0FBUyxHQUNULElBQUk7Z0JBQ1IsSUFBSSxDQUFDZixjQUFjLENBQUNDLFdBQVcsQ0FBQztnQkFDaEMsSUFBSSxDQUFDZCxTQUFTLEdBQUdxQixPQUFPLENBQUNRLFVBQVU7Z0JBQUNGLFNBQUEsQ0FBQS9DLElBQUE7Z0JBQUEsT0FDYnZCLFFBQVEsQ0FBQ3lFLG1CQUFtQixDQUFDVCxPQUFPLENBQUNRLFVBQVUsQ0FBQztjQUFBO2dCQUFuRTFCLFVBQVUsR0FBQXdCLFNBQUEsQ0FBQUksSUFBQTtnQkFDVlIsUUFBUSxHQUFHRixPQUFPLENBQUNFLFFBQVE7Z0JBQy9CLElBQUksQ0FBQ3BCLFVBQVUsRUFBRTtrQkFDZkEsVUFBVSxHQUFHLENBQUMsQ0FBQztrQkFDZixJQUFJLElBQUksQ0FBQ1ksZ0JBQWdCLEVBQUU7b0JBQ3pCWixVQUFVLENBQUNLLFFBQVEsR0FBRyxJQUFJLENBQUNPLGdCQUFnQjtrQkFDN0M7a0JBQ0FRLFFBQVEsR0FBR0EsUUFBUSxJQUFJRixPQUFPLENBQUNRLFVBQVU7Z0JBQzNDO2dCQUNBLElBQUksQ0FBQ2xDLEtBQUssR0FBRyxJQUFJekMsVUFBVSxDQUFDaUQsVUFBVSxDQUFDO2dCQUNqQ3FCLFFBQVEsR0FBR0gsT0FBTyxDQUFDRyxRQUFRO2dCQUFBLEtBQzdCRCxRQUFRO2tCQUFBSSxTQUFBLENBQUEvQyxJQUFBO2tCQUFBO2dCQUFBO2dCQUFBK0MsU0FBQSxDQUFBL0MsSUFBQTtnQkFBQSxPQUNKLElBQUksQ0FBQ29ELGlCQUFpQixDQUFDVCxRQUFRLEVBQUVDLFFBQVEsQ0FBQztjQUFBO2dCQUNoRCxJQUFJLENBQUN6QixxQkFBcUIsQ0FBQyxDQUFDO2dCQUFDNEIsU0FBQSxDQUFBL0MsSUFBQTtnQkFBQTtjQUFBO2dCQUFBLE1BRXpCLElBQUksQ0FBQ29CLFNBQVMsSUFBSSxJQUFJLENBQUNMLEtBQUssQ0FBQ2MsV0FBVztrQkFBQWtCLFNBQUEsQ0FBQS9DLElBQUE7a0JBQUE7Z0JBQUE7Z0JBQzFDLElBQUksQ0FBQ2UsS0FBSyxDQUFDc0MsRUFBRSxDQUFDLFNBQVMsRUFBRSxZQUFNO2tCQUM3QlgsS0FBSSxDQUFDMUIsS0FBSyxDQUFDLDhCQUE4QixDQUFDO2tCQUMxQzBCLEtBQUksQ0FBQ3ZCLHFCQUFxQixDQUFDLENBQUM7Z0JBQzlCLENBQUMsQ0FBQztnQkFBQzRCLFNBQUEsQ0FBQWhELElBQUE7Z0JBQUFnRCxTQUFBLENBQUEvQyxJQUFBO2dCQUFBLE9BRXNCLElBQUksQ0FBQ2UsS0FBSyxDQUFDOEIsUUFBUSxDQUFDLENBQUM7Y0FBQTtnQkFBdENBLFFBQVEsR0FBQUUsU0FBQSxDQUFBSSxJQUFBO2dCQUNkLElBQUksQ0FBQ25DLEtBQUssbUJBQUFzQixNQUFBLENBQW1CTyxRQUFRLENBQUNGLFFBQVEsQ0FBRSxDQUFDO2dCQUFDSSxTQUFBLENBQUEvQyxJQUFBO2dCQUFBO2NBQUE7Z0JBQUErQyxTQUFBLENBQUFoRCxJQUFBO2dCQUFBZ0QsU0FBQSxDQUFBeEMsRUFBQSxHQUFBd0MsU0FBQTtnQkFFbEQsSUFBSUEsU0FBQSxDQUFBeEMsRUFBQSxZQUFlK0MsS0FBSyxFQUFFO2tCQUN4QixJQUFJLENBQUN0QyxLQUFLLENBQUMrQixTQUFBLENBQUF4QyxFQUFBLENBQUlnRCxPQUFPLENBQUM7Z0JBQ3pCO2dCQUFDLEtBQ0csSUFBSSxDQUFDeEMsS0FBSyxDQUFDUyxNQUFNO2tCQUFBdUIsU0FBQSxDQUFBL0MsSUFBQTtrQkFBQTtnQkFBQTtnQkFBQSxNQUNiLElBQUlzRCxLQUFLLENBQUMsaUNBQWlDLENBQUM7Y0FBQTtnQkFBQVAsU0FBQSxDQUFBL0MsSUFBQTtnQkFBQSxPQUU1QyxJQUFJLENBQUNvRCxpQkFBaUIsQ0FBQyxJQUFJLENBQUNoQyxTQUFTLENBQUM7Y0FBQTtjQUFBO2dCQUFBLE9BQUEyQixTQUFBLENBQUFwQyxJQUFBO1lBQUE7VUFBQTtRQUFBLEdBQUE2QixRQUFBO01BQUE7TUFBQSxTQUFBckMsUUFBQXFELEVBQUE7UUFBQSxPQUFBakIsUUFBQSxDQUFBM0IsS0FBQSxPQUFBQyxTQUFBO01BQUE7TUFBQSxPQUFBVixPQUFBO0lBQUE7SUFPdEQ7QUFDRjtBQUNBO0VBRkU7SUFBQXBCLEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUF5RSxrQkFBQSxHQUFBbEUsaUJBQUEsZUFBQUMsbUJBQUEsQ0FBQUMsSUFBQSxVQUFBaUUsU0FHd0JmLFFBQWdCLEVBQUVDLFFBQWlCO1FBQUEsT0FBQXBELG1CQUFBLENBQUFJLElBQUEsVUFBQStELFVBQUFDLFNBQUE7VUFBQTtZQUFBLFFBQUFBLFNBQUEsQ0FBQTdELElBQUEsR0FBQTZELFNBQUEsQ0FBQTVELElBQUE7Y0FBQTtnQkFBQTRELFNBQUEsQ0FBQTdELElBQUE7Z0JBQUE2RCxTQUFBLENBQUE1RCxJQUFBO2dCQUFBLE9BRWpELElBQUksQ0FBQzZELGVBQWUsQ0FBQ2xCLFFBQVEsRUFBRUMsUUFBUSxFQUFFLENBQUMsQ0FBQztjQUFBO2dCQUFBZ0IsU0FBQSxDQUFBNUQsSUFBQTtnQkFBQTtjQUFBO2dCQUFBNEQsU0FBQSxDQUFBN0QsSUFBQTtnQkFBQTZELFNBQUEsQ0FBQXJELEVBQUEsR0FBQXFELFNBQUE7Z0JBQUEsTUFFN0NBLFNBQUEsQ0FBQXJELEVBQUEsWUFBZStDLEtBQUssSUFBSU0sU0FBQSxDQUFBckQsRUFBQSxDQUFJZ0QsT0FBTyxLQUFLLFVBQVU7a0JBQUFLLFNBQUEsQ0FBQTVELElBQUE7a0JBQUE7Z0JBQUE7Z0JBQ3BEUSxPQUFPLENBQUNDLEtBQUssQ0FBQyxpREFBaUQsQ0FBQztnQkFBQ21ELFNBQUEsQ0FBQTVELElBQUE7Z0JBQUE7Y0FBQTtnQkFBQSxNQUFBNEQsU0FBQSxDQUFBckQsRUFBQTtjQUFBO2NBQUE7Z0JBQUEsT0FBQXFELFNBQUEsQ0FBQWpELElBQUE7WUFBQTtVQUFBO1FBQUEsR0FBQStDLFFBQUE7TUFBQTtNQUFBLFNBQUFOLGtCQUFBVSxHQUFBLEVBQUFDLEdBQUE7UUFBQSxPQUFBTixrQkFBQSxDQUFBN0MsS0FBQSxPQUFBQyxTQUFBO01BQUE7TUFBQSxPQUFBdUMsaUJBQUE7SUFBQTtJQU92RTtBQUNGO0FBQ0E7RUFGRTtJQUFBckUsR0FBQTtJQUFBQyxLQUFBO01BQUEsSUFBQWdGLGdCQUFBLEdBQUF6RSxpQkFBQSxlQUFBQyxtQkFBQSxDQUFBQyxJQUFBLFVBQUF3RSxTQUlFdEIsUUFBZ0IsRUFDaEJDLFFBQTRCLEVBQzVCc0IsVUFBa0I7UUFBQSxJQUFBQyxJQUFBLEVBQUFDLE1BQUE7UUFBQSxPQUFBNUUsbUJBQUEsQ0FBQUksSUFBQSxVQUFBeUUsVUFBQUMsU0FBQTtVQUFBO1lBQUEsUUFBQUEsU0FBQSxDQUFBdkUsSUFBQSxHQUFBdUUsU0FBQSxDQUFBdEUsSUFBQTtjQUFBO2dCQUFBLE1BRWQ0QyxRQUFRLEtBQUssRUFBRTtrQkFBQTBCLFNBQUEsQ0FBQXRFLElBQUE7a0JBQUE7Z0JBQUE7Z0JBQUEsTUFDWCxJQUFJc0QsS0FBSyxDQUFDLFVBQVUsQ0FBQztjQUFBO2dCQUFBLE1BRXpCVixRQUFRLElBQUksSUFBSTtrQkFBQTBCLFNBQUEsQ0FBQXRFLElBQUE7a0JBQUE7Z0JBQUE7Z0JBQUFzRSxTQUFBLENBQUF0RSxJQUFBO2dCQUFBLE9BQ0MsSUFBSSxDQUFDdUUsY0FBYyxDQUFDLFlBQVksQ0FBQztjQUFBO2dCQUE5Q0osSUFBSSxHQUFBRyxTQUFBLENBQUFuQixJQUFBO2dCQUFBLE9BQUFtQixTQUFBLENBQUFFLE1BQUEsV0FDSCxJQUFJLENBQUNYLGVBQWUsQ0FBQ2xCLFFBQVEsRUFBRXdCLElBQUksRUFBRUQsVUFBVSxDQUFDO2NBQUE7Z0JBQUFJLFNBQUEsQ0FBQXZFLElBQUE7Z0JBQUF1RSxTQUFBLENBQUF0RSxJQUFBO2dCQUFBLE9BR2xDLElBQUksQ0FBQ2UsS0FBSyxDQUFDMEQsS0FBSyxDQUFDOUIsUUFBUSxFQUFFQyxRQUFRLENBQUM7Y0FBQTtnQkFBbkR3QixNQUFNLEdBQUFFLFNBQUEsQ0FBQW5CLElBQUE7Z0JBQ1osSUFBSSxDQUFDbkMsS0FBSyxtQkFBQXNCLE1BQUEsQ0FBbUJLLFFBQVEsQ0FBRSxDQUFDO2dCQUFDLE9BQUEyQixTQUFBLENBQUFFLE1BQUEsV0FDbENKLE1BQU07Y0FBQTtnQkFBQUUsU0FBQSxDQUFBdkUsSUFBQTtnQkFBQXVFLFNBQUEsQ0FBQS9ELEVBQUEsR0FBQStELFNBQUE7Z0JBRWIsSUFBSUEsU0FBQSxDQUFBL0QsRUFBQSxZQUFlK0MsS0FBSyxFQUFFO2tCQUN4QjlDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDNkQsU0FBQSxDQUFBL0QsRUFBQSxDQUFJZ0QsT0FBTyxDQUFDO2dCQUM1QjtnQkFBQyxNQUNHVyxVQUFVLEdBQUcsQ0FBQztrQkFBQUksU0FBQSxDQUFBdEUsSUFBQTtrQkFBQTtnQkFBQTtnQkFBQSxPQUFBc0UsU0FBQSxDQUFBRSxNQUFBLFdBQ1QsSUFBSSxDQUFDWCxlQUFlLENBQUNsQixRQUFRLEVBQUU5RCxTQUFTLEVBQUVxRixVQUFVLEdBQUcsQ0FBQyxDQUFDO2NBQUE7Z0JBQUEsTUFFMUQsSUFBSVosS0FBSyxDQUFDLFVBQVUsQ0FBQztjQUFBO2NBQUE7Z0JBQUEsT0FBQWdCLFNBQUEsQ0FBQTNELElBQUE7WUFBQTtVQUFBO1FBQUEsR0FBQXNELFFBQUE7TUFBQTtNQUFBLFNBQUFKLGdCQUFBYSxHQUFBLEVBQUFDLEdBQUEsRUFBQUMsR0FBQTtRQUFBLE9BQUFaLGdCQUFBLENBQUFwRCxLQUFBLE9BQUFDLFNBQUE7TUFBQTtNQUFBLE9BQUFnRCxlQUFBO0lBQUE7SUFLakM7QUFDRjtBQUNBO0VBRkU7SUFBQTlFLEdBQUE7SUFBQUMsS0FBQSxXQUFBNkYsV0FHV3ZELFFBQWlCLEVBQUU7TUFDNUIsSUFBTXdELElBQUksR0FBR3hELFFBQVEsSUFBSSxJQUFJLENBQUNGLFNBQVM7TUFDdkMsSUFBSTBELElBQUksSUFBSXJHLFFBQVEsQ0FBQ3lFLG1CQUFtQixDQUFDNEIsSUFBSSxDQUFDLEVBQUU7UUFDOUNyRyxRQUFRLENBQUNzRyxzQkFBc0IsQ0FBQ0QsSUFBSSxDQUFDO1FBQ3JDLElBQUksQ0FBQzlELEtBQUssMkJBQUFzQixNQUFBLENBQTJCd0MsSUFBSSxNQUFHLENBQUM7TUFDL0M7TUFDQSxJQUFJLENBQUMxRCxTQUFTLEdBQUd2QyxTQUFTO01BQzFCLElBQUksQ0FBQ2tDLEtBQUssR0FBRyxJQUFJekMsVUFBVSxDQUFDLENBQUM7SUFDL0I7SUFFQTtBQUNGO0FBQ0E7RUFGRTtJQUFBUyxHQUFBO0lBQUFDLEtBQUE7TUFBQSxJQUFBZ0csVUFBQSxHQUFBekYsaUJBQUEsZUFBQUMsbUJBQUEsQ0FBQUMsSUFBQSxVQUFBd0YsU0FHZ0JDLFVBQWtCO1FBQUEsSUFBQUosSUFBQSxFQUFBSyxZQUFBLEVBQUEzRCxNQUFBLEVBQUE0RCxRQUFBLEVBQUFDLFNBQUEsRUFBQUMsS0FBQSxFQUFBQyxRQUFBLEVBQUFDLE1BQUEsRUFBQTNDLFFBQUE7UUFBQSxPQUFBckQsbUJBQUEsQ0FBQUksSUFBQSxVQUFBNkYsVUFBQUMsU0FBQTtVQUFBO1lBQUEsUUFBQUEsU0FBQSxDQUFBM0YsSUFBQSxHQUFBMkYsU0FBQSxDQUFBMUYsSUFBQTtjQUFBO2dCQUMxQjhFLElBQUksR0FBR0ksVUFBVSxJQUFJLFNBQVM7Z0JBQUFRLFNBQUEsQ0FBQTFGLElBQUE7Z0JBQUEsT0FDWHZCLFFBQVEsQ0FBQ2tILGVBQWUsQ0FBQ2IsSUFBSSxDQUFDO2NBQUE7Z0JBQW5ESyxZQUFZLEdBQUFPLFNBQUEsQ0FBQXZDLElBQUE7Z0JBQUEsTUFDWixDQUFDZ0MsWUFBWSxJQUFJLENBQUNBLFlBQVksQ0FBQzFELFFBQVE7a0JBQUFpRSxTQUFBLENBQUExRixJQUFBO2tCQUFBO2dCQUFBO2dCQUFBLE1BQ3JDOEUsSUFBSSxLQUFLLFNBQVMsSUFBSUEsSUFBSSxLQUFLLFNBQVM7a0JBQUFZLFNBQUEsQ0FBQTFGLElBQUE7a0JBQUE7Z0JBQUE7Z0JBQzFDLElBQUksQ0FBQ2dCLEtBQUssQ0FDUixxRkFDRixDQUFDO2dCQUFDLE9BQUEwRSxTQUFBLENBQUFsQixNQUFBLFdBQ0ssSUFBSSxDQUFDb0IseUJBQXlCLENBQUNkLElBQUksQ0FBQztjQUFBO2dCQUFBLE1BRXZDLElBQUl4QixLQUFLLCtDQUFBaEIsTUFBQSxDQUNpQ3dDLElBQUksMENBQ3BELENBQUM7Y0FBQTtnQkFFR3RELE1BQU0sR0FBRyxJQUFJakQsTUFBTSxDQUFDNEcsWUFBWSxDQUFDO2dCQUNqQ0MsUUFBUSxHQUFHakgsU0FBUyxDQUFDMEgsTUFBTSxDQUFDL0gsTUFBTSxDQUFDZ0ksV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUNuRFQsU0FBUyxHQUFHbEgsU0FBUyxDQUFDMEgsTUFBTSxDQUNoQy9ILE1BQU0sQ0FBQ2lJLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQ0MsTUFBTSxDQUFDWixRQUFRLENBQUMsQ0FBQ2EsTUFBTSxDQUFDLENBQ3RELENBQUM7Z0JBQ0tYLEtBQUssR0FBR25ILFNBQVMsQ0FBQzBILE1BQU0sQ0FBQy9ILE1BQU0sQ0FBQ2dJLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDaERQLFFBQVEsR0FBRy9ELE1BQU0sQ0FBQzBFLG1CQUFtQixDQUFDO2tCQUMxQ0MsY0FBYyxFQUFFZCxTQUFTO2tCQUN6QkMsS0FBSyxFQUFMQTtnQkFDRixDQUFDLENBQUM7Z0JBQ0YsSUFBSSxDQUFDdEUsS0FBSyxDQUFDLDBDQUEwQyxDQUFDO2dCQUN0RCxJQUFJLENBQUNBLEtBQUssU0FBQXNCLE1BQUEsQ0FBU2lELFFBQVEsQ0FBRSxDQUFDO2dCQUM5QixJQUFJLENBQUN4SCxPQUFPLENBQUN3SCxRQUFRLENBQUM7Z0JBQUNHLFNBQUEsQ0FBQTFGLElBQUE7Z0JBQUEsT0FDRixJQUFJLENBQUNvRyxZQUFZLENBQUNqQixZQUFZLENBQUN4RCxXQUFXLEVBQUUyRCxLQUFLLENBQUM7Y0FBQTtnQkFBakVFLE1BQU0sR0FBQUUsU0FBQSxDQUFBdkMsSUFBQTtnQkFBQSxJQUNQcUMsTUFBTSxDQUFDYSxJQUFJO2tCQUFBWCxTQUFBLENBQUExRixJQUFBO2tCQUFBO2dCQUFBO2dCQUFBLE1BQ1IsSUFBSXNELEtBQUssQ0FBQyxpQ0FBaUMsQ0FBQztjQUFBO2dCQUFBLE1BRWhEa0MsTUFBTSxDQUFDRixLQUFLLEtBQUtBLEtBQUs7a0JBQUFJLFNBQUEsQ0FBQTFGLElBQUE7a0JBQUE7Z0JBQUE7Z0JBQUEsTUFDbEIsSUFBSXNELEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQztjQUFBO2dCQUV0RCxJQUFJLENBQUN2QyxLQUFLLEdBQUcsSUFBSXpDLFVBQVUsQ0FBQztrQkFBRWtELE1BQU0sRUFBTkE7Z0JBQU8sQ0FBQyxDQUFDO2dCQUN2QyxJQUFJLENBQUNSLEtBQUssQ0FDUixzRUFDRixDQUFDO2dCQUFDMEUsU0FBQSxDQUFBMUYsSUFBQTtnQkFBQSxPQUNJLElBQUksQ0FBQ2UsS0FBSyxDQUFDdUYsU0FBUyxDQUFDZCxNQUFNLENBQUNhLElBQUksRUFBRTtrQkFBRUUsYUFBYSxFQUFFbkI7Z0JBQVMsQ0FBQyxDQUFDO2NBQUE7Z0JBQ3BFLElBQUksQ0FBQ3BFLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQztnQkFBQzBFLFNBQUEsQ0FBQTFGLElBQUE7Z0JBQUEsT0FDekIsSUFBSSxDQUFDZSxLQUFLLENBQUM4QixRQUFRLENBQUMsQ0FBQztjQUFBO2dCQUF0Q0EsUUFBUSxHQUFBNkMsU0FBQSxDQUFBdkMsSUFBQTtnQkFDZCxJQUFJLENBQUNuQyxLQUFLLG1CQUFBc0IsTUFBQSxDQUFtQk8sUUFBUSxDQUFDRixRQUFRLENBQUUsQ0FBQztnQkFDakQsSUFBSSxDQUFDdkIsU0FBUyxHQUFHeUIsUUFBUSxDQUFDRixRQUFRO2dCQUNsQyxJQUFJLENBQUN4QixxQkFBcUIsQ0FBQyxDQUFDO2NBQUM7Y0FBQTtnQkFBQSxPQUFBdUUsU0FBQSxDQUFBL0UsSUFBQTtZQUFBO1VBQUE7UUFBQSxHQUFBc0UsUUFBQTtNQUFBO01BQUEsU0FBQXFCLFVBQUFFLEdBQUE7UUFBQSxPQUFBeEIsVUFBQSxDQUFBcEUsS0FBQSxPQUFBQyxTQUFBO01BQUE7TUFBQSxPQUFBeUYsU0FBQTtJQUFBO0lBRy9CO0FBQ0Y7QUFDQTtFQUZFO0lBQUF2SCxHQUFBO0lBQUFDLEtBQUE7TUFBQSxJQUFBeUgsMEJBQUEsR0FBQWxILGlCQUFBLGVBQUFDLG1CQUFBLENBQUFDLElBQUEsVUFBQWlILFNBR2dDeEIsVUFBa0I7UUFBQSxJQUFBeUIsU0FBQSxFQUFBQyxHQUFBLEVBQUFDLFlBQUE7UUFBQSxPQUFBckgsbUJBQUEsQ0FBQUksSUFBQSxVQUFBa0gsVUFBQUMsU0FBQTtVQUFBO1lBQUEsUUFBQUEsU0FBQSxDQUFBaEgsSUFBQSxHQUFBZ0gsU0FBQSxDQUFBL0csSUFBQTtjQUFBO2dCQUMxQzJHLFNBQVMsR0FBRyxzREFBc0Q7Z0JBQUFJLFNBQUEsQ0FBQS9HLElBQUE7Z0JBQUEsT0FDcEMsSUFBQWdILFFBQUEsQ0FBWSxVQUFDQyxPQUFPLEVBQUVDLE1BQU0sRUFBSztrQkFDbkVoSixPQUFPLENBQUM7b0JBQUVpSixNQUFNLEVBQUUsS0FBSztvQkFBRXRKLEdBQUcsRUFBRThJO2tCQUFVLENBQUMsQ0FBQyxDQUN2Q3RELEVBQUUsQ0FBQyxVQUFVLEVBQUU0RCxPQUFPLENBQUMsQ0FDdkI1RCxFQUFFLENBQUMsT0FBTyxFQUFFNkQsTUFBTSxDQUFDO2dCQUN4QixDQUFDLENBQUM7Y0FBQTtnQkFKSU4sR0FBcUIsR0FBQUcsU0FBQSxDQUFBNUQsSUFBQTtnQkFLckIwRCxZQUFZLEdBQUdPLElBQUksQ0FBQ2pJLEtBQUssQ0FBQ3lILEdBQUcsQ0FBQ1MsSUFBSSxDQUFDO2dCQUN6QyxJQUFJbkMsVUFBVSxLQUFLLFNBQVMsRUFBRTtrQkFDNUIyQixZQUFZLENBQUNqRixRQUFRLEdBQUcsNkJBQTZCO2dCQUN2RDtnQkFBQ21GLFNBQUEsQ0FBQS9HLElBQUE7Z0JBQUEsT0FDS3ZCLFFBQVEsQ0FBQzZJLG9CQUFvQixDQUFDcEMsVUFBVSxFQUFFMkIsWUFBWSxDQUFDO2NBQUE7Z0JBQzdELElBQUksQ0FBQzdGLEtBQUssQ0FBQyw2Q0FBNkMsQ0FBQztnQkFBQyxPQUFBK0YsU0FBQSxDQUFBdkMsTUFBQSxXQUNuRCxJQUFJLENBQUM4QixTQUFTLENBQUNwQixVQUFVLENBQUM7Y0FBQTtjQUFBO2dCQUFBLE9BQUE2QixTQUFBLENBQUFwRyxJQUFBO1lBQUE7VUFBQTtRQUFBLEdBQUErRixRQUFBO01BQUE7TUFBQSxTQUFBZCwwQkFBQTJCLEdBQUE7UUFBQSxPQUFBZCwwQkFBQSxDQUFBN0YsS0FBQSxPQUFBQyxTQUFBO01BQUE7TUFBQSxPQUFBK0UseUJBQUE7SUFBQTtFQUFBO0lBQUE3RyxHQUFBO0lBQUFDLEtBQUE7TUFBQSxJQUFBd0ksYUFBQSxHQUFBakksaUJBQUEsZUFBQUMsbUJBQUEsQ0FBQUMsSUFBQSxVQUFBZ0ksU0FJakNDLFNBQTZCLEVBQzdCcEMsS0FBYTtRQUFBLElBQUFlLElBQUE7UUFBQSxPQUFBN0csbUJBQUEsQ0FBQUksSUFBQSxVQUFBK0gsVUFBQUMsU0FBQTtVQUFBO1lBQUEsUUFBQUEsU0FBQSxDQUFBN0gsSUFBQSxHQUFBNkgsU0FBQSxDQUFBNUgsSUFBQTtjQUFBO2dCQUFBLE1BRVQwSCxTQUFTLElBQUl0Rix3QkFBQSxDQUFBc0YsU0FBUyxFQUFBckYsSUFBQSxDQUFUcUYsU0FBUyxFQUFTLG1CQUFtQixDQUFDLEtBQUssQ0FBQztrQkFBQUUsU0FBQSxDQUFBNUgsSUFBQTtrQkFBQTtnQkFBQTtnQkFBQSxPQUFBNEgsU0FBQSxDQUFBcEQsTUFBQSxXQUNwRCxJQUFBd0MsUUFBQSxDQUFZLFVBQUNDLE9BQU8sRUFBRUMsTUFBTSxFQUFLO2tCQUN0QyxJQUFNVyxNQUFNLEdBQUdqSyxJQUFJLENBQUNrSyxZQUFZLENBQUMsVUFBQ0MsR0FBRyxFQUFFbkIsR0FBRyxFQUFLO29CQUM3QyxJQUFJLENBQUNtQixHQUFHLENBQUNsSyxHQUFHLEVBQUU7c0JBQ1o7b0JBQ0Y7b0JBQ0EsSUFBTW1LLE9BQU8sR0FBR25LLEdBQUcsQ0FBQ3NCLEtBQUssQ0FBQzRJLEdBQUcsQ0FBQ2xLLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQ29LLEtBQUs7b0JBQzlDckIsR0FBRyxDQUFDc0IsU0FBUyxDQUFDLEdBQUcsRUFBRTtzQkFBRSxjQUFjLEVBQUU7b0JBQVksQ0FBQyxDQUFDO29CQUNuRHRCLEdBQUcsQ0FBQ3VCLEtBQUssQ0FDUCw0REFDRixDQUFDO29CQUNEdkIsR0FBRyxDQUFDd0IsR0FBRyxDQUFDLENBQUM7b0JBQ1QsSUFBSUosT0FBTyxDQUFDdkgsS0FBSyxFQUFFO3NCQUNqQnlHLE1BQU0sQ0FBQyxJQUFJNUQsS0FBSyxDQUFDMEUsT0FBTyxDQUFDdkgsS0FBZSxDQUFDLENBQUM7b0JBQzVDLENBQUMsTUFBTTtzQkFDTHdHLE9BQU8sQ0FBQ2UsT0FBMEMsQ0FBQztvQkFDckQ7b0JBQ0FILE1BQU0sQ0FBQ1EsS0FBSyxDQUFDLENBQUM7b0JBQ2ROLEdBQUcsQ0FBQzlFLFVBQVUsQ0FBQ21GLEdBQUcsQ0FBQyxDQUFDO29CQUNwQkwsR0FBRyxDQUFDOUUsVUFBVSxDQUFDcUYsT0FBTyxDQUFDLENBQUM7a0JBQzFCLENBQUMsQ0FBQztrQkFDRixJQUFNQyxJQUFJLEdBQUdDLE1BQU0sQ0FBQzNLLEdBQUcsQ0FBQ3NCLEtBQUssQ0FBQ3VJLFNBQVMsQ0FBQyxDQUFDYSxJQUFJLENBQUM7a0JBQzlDVixNQUFNLENBQUNZLE1BQU0sQ0FBQ0YsSUFBSSxFQUFFLFdBQVcsQ0FBQztnQkFDbEMsQ0FBQyxDQUFDO2NBQUE7Z0JBQUFYLFNBQUEsQ0FBQTVILElBQUE7Z0JBQUEsT0FFaUIsSUFBSSxDQUFDMEksYUFBYSxDQUNuQyxvREFDRixDQUFDO2NBQUE7Z0JBRktyQyxJQUFJLEdBQUF1QixTQUFBLENBQUF6RSxJQUFBO2dCQUFBLE9BQUF5RSxTQUFBLENBQUFwRCxNQUFBLFdBR0g7a0JBQUU2QixJQUFJLEVBQUVzQyxrQkFBa0IsQ0FBQ3RDLElBQUksQ0FBQztrQkFBRWYsS0FBSyxFQUFMQTtnQkFBTSxDQUFDO2NBQUE7Y0FBQTtnQkFBQSxPQUFBc0MsU0FBQSxDQUFBakgsSUFBQTtZQUFBO1VBQUE7UUFBQSxHQUFBOEcsUUFBQTtNQUFBO01BQUEsU0FBQXJCLGFBQUF3QyxHQUFBLEVBQUFDLElBQUE7UUFBQSxPQUFBckIsYUFBQSxDQUFBNUcsS0FBQSxPQUFBQyxTQUFBO01BQUE7TUFBQSxPQUFBdUYsWUFBQTtJQUFBO0lBSXBEO0FBQ0Y7QUFDQTtFQUZFO0lBQUFySCxHQUFBO0lBQUFDLEtBQUE7TUFBQSxJQUFBOEosU0FBQSxHQUFBdkosaUJBQUEsZUFBQUMsbUJBQUEsQ0FBQUMsSUFBQSxVQUFBc0osU0FHZTdELFVBQThCLEVBQUUyQixZQUEwQjtRQUFBLElBQUFtQyxTQUFBO1VBQUFDLE1BQUE7UUFBQSxJQUFBbkUsSUFBQSxFQUFBb0UsT0FBQSxFQUFBQyxVQUFBLEVBQUFDLEdBQUEsRUFBQUMsRUFBQTtRQUFBLE9BQUE3SixtQkFBQSxDQUFBSSxJQUFBLFVBQUEwSixVQUFBQyxVQUFBO1VBQUE7WUFBQSxRQUFBQSxVQUFBLENBQUF4SixJQUFBLEdBQUF3SixVQUFBLENBQUF2SixJQUFBO2NBQUE7Z0JBQ2pFOEUsSUFBSSxHQUFHSSxVQUFVLElBQUksU0FBUztnQkFDOUJnRSxPQUFPLEdBQUc7a0JBQ2R6SCxRQUFRLEVBQUUsb0JBQW9CO2tCQUM5QkMsWUFBWSxFQUFFLG1DQUFtQztrQkFDakRDLFdBQVcsRUFBRSx1QkFBdUI7a0JBQ3BDQyxRQUFRLEVBQUU7Z0JBQ1osQ0FBQztnQkFBQTJILFVBQUEsQ0FBQXZKLElBQUE7Z0JBQUEsT0FDd0J2QixRQUFRLENBQUNrSCxlQUFlLENBQUNiLElBQUksQ0FBQztjQUFBO2dCQUFqRHFFLFVBQVUsR0FBQUksVUFBQSxDQUFBcEcsSUFBQTtnQkFBQSxLQUNaZ0csVUFBVTtrQkFBQUksVUFBQSxDQUFBdkosSUFBQTtrQkFBQTtnQkFBQTtnQkFDTm9KLEdBQUcsY0FBQTlHLE1BQUEsQ0FBY3dDLElBQUk7Z0JBQUF5RSxVQUFBLENBQUF2SixJQUFBO2dCQUFBLE9BQ1YsSUFBSSxDQUFDd0osYUFBYSxDQUFDSixHQUFHLENBQUM7Y0FBQTtnQkFBbENDLEVBQUUsR0FBQUUsVUFBQSxDQUFBcEcsSUFBQTtnQkFBQSxJQUNIa0csRUFBRTtrQkFBQUUsVUFBQSxDQUFBdkosSUFBQTtrQkFBQTtnQkFBQTtnQkFBQSxNQUNDLElBQUlzRCxLQUFLLENBQUMsd0JBQXdCLENBQUM7Y0FBQTtnQkFBQWlHLFVBQUEsQ0FBQXZKLElBQUE7Z0JBQUEsT0FHeEJ5Six1QkFBQSxDQUFBVCxTQUFBLEdBQUFVLFlBQUEsQ0FBWVIsT0FBTyxDQUFDLEVBQUE3RyxJQUFBLENBQUEyRyxTQUFBO2tCQUFBLElBQUFXLElBQUEsR0FBQXBLLGlCQUFBLGVBQUFDLG1CQUFBLENBQUFDLElBQUEsQ0FBUSxTQUFBbUssU0FBT0MsT0FBTyxFQUFFL0UsSUFBSTtvQkFBQSxJQUFBZ0YsT0FBQSxFQUFBQyxVQUFBLEVBQUF4RyxPQUFBLEVBQUF2RSxLQUFBO29CQUFBLE9BQUFRLG1CQUFBLENBQUFJLElBQUEsVUFBQW9LLFVBQUFDLFNBQUE7c0JBQUE7d0JBQUEsUUFBQUEsU0FBQSxDQUFBbEssSUFBQSxHQUFBa0ssU0FBQSxDQUFBakssSUFBQTswQkFBQTs0QkFBQWlLLFNBQUEsQ0FBQWpLLElBQUE7NEJBQUEsT0FDN0M2SixPQUFPOzBCQUFBOzRCQUF2QkMsT0FBTyxHQUFBRyxTQUFBLENBQUE5RyxJQUFBOzRCQUNQNEcsVUFBVSxHQUFHakYsSUFBSTs0QkFDakJ2QixPQUFPLEdBQUcyRixPQUFPLENBQUNhLFVBQVUsQ0FBQzs0QkFBQSxJQUM5QkQsT0FBTyxDQUFDQyxVQUFVLENBQUM7OEJBQUFFLFNBQUEsQ0FBQWpLLElBQUE7OEJBQUE7NEJBQUE7NEJBQUFpSyxTQUFBLENBQUFqSyxJQUFBOzRCQUFBLE9BQ0ZpSixNQUFJLENBQUNQLGFBQWEsQ0FBQ25GLE9BQU8sQ0FBQzswQkFBQTs0QkFBekN2RSxLQUFLLEdBQUFpTCxTQUFBLENBQUE5RyxJQUFBOzRCQUFBLEtBQ1BuRSxLQUFLOzhCQUFBaUwsU0FBQSxDQUFBakssSUFBQTs4QkFBQTs0QkFBQTs0QkFBQSxPQUFBaUssU0FBQSxDQUFBekYsTUFBQSxXQUFBMEYsYUFBQSxDQUFBQSxhQUFBLEtBRUZKLE9BQU8sT0FBQWxMLGVBQUEsS0FDVG1MLFVBQVUsRUFBRy9LLEtBQUs7MEJBQUE7NEJBQUEsT0FBQWlMLFNBQUEsQ0FBQXpGLE1BQUEsV0FJbEJzRixPQUFPOzBCQUFBOzBCQUFBOzRCQUFBLE9BQUFHLFNBQUEsQ0FBQXRKLElBQUE7d0JBQUE7c0JBQUE7b0JBQUEsR0FBQWlKLFFBQUE7a0JBQUEsQ0FDZjtrQkFBQSxpQkFBQU8sSUFBQSxFQUFBQyxJQUFBO29CQUFBLE9BQUFULElBQUEsQ0FBQS9JLEtBQUEsT0FBQUMsU0FBQTtrQkFBQTtnQkFBQSxLQUFFbUcsUUFBQSxDQUFRQyxPQUFPLENBQUNKLFlBQVksQ0FBQyxDQUFDO2NBQUE7Z0JBZGpDQSxZQUFZLEdBQUEwQyxVQUFBLENBQUFwRyxJQUFBO2dCQUFBb0csVUFBQSxDQUFBdkosSUFBQTtnQkFBQSxPQWVOdkIsUUFBUSxDQUFDNkksb0JBQW9CLENBQUN4QyxJQUFJLEVBQUUrQixZQUFZLENBQUM7Y0FBQTtnQkFDdkQsSUFBSSxDQUFDN0YsS0FBSyxDQUFDLGlDQUFpQyxDQUFDO2NBQUM7Y0FBQTtnQkFBQSxPQUFBdUksVUFBQSxDQUFBNUksSUFBQTtZQUFBO1VBQUE7UUFBQSxHQUFBb0ksUUFBQTtNQUFBO01BQUEsU0FBQXNCLFNBQUFDLElBQUEsRUFBQUMsSUFBQTtRQUFBLE9BQUF6QixTQUFBLENBQUFsSSxLQUFBLE9BQUFDLFNBQUE7TUFBQTtNQUFBLE9BQUF3SixRQUFBO0lBQUE7SUFHaEQ7QUFDRjtBQUNBO0VBRkU7SUFBQXRMLEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUF3TCxnQkFBQSxHQUFBakwsaUJBQUEsZUFBQUMsbUJBQUEsQ0FBQUMsSUFBQSxVQUFBZ0wsVUFBQTtRQUFBLElBQUFDLEtBQUEsRUFBQUMsQ0FBQSxFQUFBN0YsSUFBQTtRQUFBLE9BQUF0RixtQkFBQSxDQUFBSSxJQUFBLFVBQUFnTCxXQUFBQyxVQUFBO1VBQUE7WUFBQSxRQUFBQSxVQUFBLENBQUE5SyxJQUFBLEdBQUE4SyxVQUFBLENBQUE3SyxJQUFBO2NBQUE7Z0JBQUE2SyxVQUFBLENBQUE3SyxJQUFBO2dCQUFBLE9BSXNCdkIsUUFBUSxDQUFDcU0sa0JBQWtCLENBQUMsQ0FBQztjQUFBO2dCQUEzQ0osS0FBSyxHQUFBRyxVQUFBLENBQUExSCxJQUFBO2dCQUNYLEtBQVN3SCxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdELEtBQUssQ0FBQ0ssTUFBTSxFQUFFSixDQUFDLEVBQUUsRUFBRTtrQkFDakM3RixJQUFJLEdBQUc0RixLQUFLLENBQUNDLENBQUMsQ0FBQztrQkFDbkIsSUFBSSxDQUFDM0osS0FBSyxDQUFDLENBQUM4RCxJQUFJLEtBQUssSUFBSSxDQUFDMUQsU0FBUyxHQUFHLElBQUksR0FBRyxJQUFJLElBQUkwRCxJQUFJLENBQUM7Z0JBQzVEO2NBQUM7Y0FBQTtnQkFBQSxPQUFBK0YsVUFBQSxDQUFBbEssSUFBQTtZQUFBO1VBQUE7UUFBQSxHQUFBOEosU0FBQTtNQUFBO01BQUEsU0FBQU8sZ0JBQUE7UUFBQSxPQUFBUixnQkFBQSxDQUFBNUosS0FBQSxPQUFBQyxTQUFBO01BQUE7TUFBQSxPQUFBbUssZUFBQTtJQUFBO0lBR0g7QUFDRjtBQUNBO0VBRkU7SUFBQWpNLEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUFpTSxtQkFBQSxHQUFBMUwsaUJBQUEsZUFBQUMsbUJBQUEsQ0FBQUMsSUFBQSxVQUFBeUwsVUFBQTtRQUFBLE9BQUExTCxtQkFBQSxDQUFBSSxJQUFBLFVBQUF1TCxXQUFBQyxVQUFBO1VBQUE7WUFBQSxRQUFBQSxVQUFBLENBQUFyTCxJQUFBLEdBQUFxTCxVQUFBLENBQUFwTCxJQUFBO2NBQUE7Z0JBQUEsT0FBQW9MLFVBQUEsQ0FBQTVHLE1BQUEsV0FJUy9GLFFBQVEsQ0FBQ3FNLGtCQUFrQixDQUFDLENBQUM7Y0FBQTtjQUFBO2dCQUFBLE9BQUFNLFVBQUEsQ0FBQXpLLElBQUE7WUFBQTtVQUFBO1FBQUEsR0FBQXVLLFNBQUE7TUFBQTtNQUFBLFNBQUFKLG1CQUFBO1FBQUEsT0FBQUcsbUJBQUEsQ0FBQXJLLEtBQUEsT0FBQUMsU0FBQTtNQUFBO01BQUEsT0FBQWlLLGtCQUFBO0lBQUE7SUFHdEM7QUFDRjtBQUNBO0VBRkU7SUFBQS9MLEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUFxTSxlQUFBLEdBQUE5TCxpQkFBQSxlQUFBQyxtQkFBQSxDQUFBQyxJQUFBLFVBQUE2TCxVQUFBO1FBQUEsT0FBQTlMLG1CQUFBLENBQUFJLElBQUEsVUFBQTJMLFdBQUFDLFVBQUE7VUFBQTtZQUFBLFFBQUFBLFVBQUEsQ0FBQXpMLElBQUEsR0FBQXlMLFVBQUEsQ0FBQXhMLElBQUE7Y0FBQTtnQkFBQSxPQUFBd0wsVUFBQSxDQUFBaEgsTUFBQSxXQUlTL0YsUUFBUSxDQUFDZ04sY0FBYyxDQUFDLENBQUM7Y0FBQTtjQUFBO2dCQUFBLE9BQUFELFVBQUEsQ0FBQTdLLElBQUE7WUFBQTtVQUFBO1FBQUEsR0FBQTJLLFNBQUE7TUFBQTtNQUFBLFNBQUFHLGVBQUE7UUFBQSxPQUFBSixlQUFBLENBQUF6SyxLQUFBLE9BQUFDLFNBQUE7TUFBQTtNQUFBLE9BQUE0SyxjQUFBO0lBQUE7SUFHbEM7QUFDRjtBQUNBO0VBRkU7SUFBQTFNLEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUEwTSxPQUFBLEdBQUFuTSxpQkFBQSxlQUFBQyxtQkFBQSxDQUFBQyxJQUFBLFVBQUFrTSxVQUdhQyxJQUFZLEVBQUVySSxPQUFlO1FBQUEsSUFBQXNJLE1BQUE7UUFBQSxPQUFBck0sbUJBQUEsQ0FBQUksSUFBQSxVQUFBa00sV0FBQUMsVUFBQTtVQUFBO1lBQUEsUUFBQUEsVUFBQSxDQUFBaE0sSUFBQSxHQUFBZ00sVUFBQSxDQUFBL0wsSUFBQTtjQUFBO2dCQUN4QyxJQUFJLENBQUNJLEtBQUssQ0FBQzRMLEtBQUssQ0FBQyxDQUFDO2dCQUFDRCxVQUFBLENBQUEvTCxJQUFBO2dCQUFBLE9BQ3FCL0IsUUFBUSxDQUFDZ08sTUFBTSxDQUFDLENBQ3REO2tCQUNFTCxJQUFJLEVBQUpBLElBQUk7a0JBQ0o5RyxJQUFJLEVBQUUsT0FBTztrQkFDYnZCLE9BQU8sRUFBUEE7Z0JBQ0YsQ0FBQyxDQUNGLENBQUM7Y0FBQTtnQkFOSXNJLE1BQXlCLEdBQUFFLFVBQUEsQ0FBQTVJLElBQUE7Z0JBTy9CLElBQUksQ0FBQy9DLEtBQUssQ0FBQzhMLE1BQU0sQ0FBQyxDQUFDO2dCQUFDLE9BQUFILFVBQUEsQ0FBQXZILE1BQUEsV0FDYnFILE1BQU0sQ0FBQzdNLEtBQUs7Y0FBQTtjQUFBO2dCQUFBLE9BQUErTSxVQUFBLENBQUFwTCxJQUFBO1lBQUE7VUFBQTtRQUFBLEdBQUFnTCxTQUFBO01BQUE7TUFBQSxTQUFBTSxPQUFBRSxJQUFBLEVBQUFDLElBQUE7UUFBQSxPQUFBVixPQUFBLENBQUE5SyxLQUFBLE9BQUFDLFNBQUE7TUFBQTtNQUFBLE9BQUFvTCxNQUFBO0lBQUE7SUFHckI7QUFDRjtBQUNBO0VBRkU7SUFBQWxOLEdBQUE7SUFBQUMsS0FBQTtNQUFBLElBQUFxTixjQUFBLEdBQUE5TSxpQkFBQSxlQUFBQyxtQkFBQSxDQUFBQyxJQUFBLFVBQUE2TSxVQUdvQi9JLE9BQWU7UUFBQSxPQUFBL0QsbUJBQUEsQ0FBQUksSUFBQSxVQUFBMk0sV0FBQUMsVUFBQTtVQUFBO1lBQUEsUUFBQUEsVUFBQSxDQUFBek0sSUFBQSxHQUFBeU0sVUFBQSxDQUFBeE0sSUFBQTtjQUFBO2dCQUFBLE9BQUF3TSxVQUFBLENBQUFoSSxNQUFBLFdBQzFCLElBQUksQ0FBQ3lILE1BQU0sQ0FBQyxPQUFPLEVBQUUxSSxPQUFPLENBQUM7Y0FBQTtjQUFBO2dCQUFBLE9BQUFpSixVQUFBLENBQUE3TCxJQUFBO1lBQUE7VUFBQTtRQUFBLEdBQUEyTCxTQUFBO01BQUE7TUFBQSxTQUFBNUQsY0FBQStELElBQUE7UUFBQSxPQUFBSixjQUFBLENBQUF6TCxLQUFBLE9BQUFDLFNBQUE7TUFBQTtNQUFBLE9BQUE2SCxhQUFBO0lBQUE7RUFBQTtJQUFBM0osR0FBQTtJQUFBQyxLQUFBO01BQUEsSUFBQTBOLGVBQUEsR0FBQW5OLGlCQUFBLGVBQUFDLG1CQUFBLENBQUFDLElBQUEsVUFBQWtOLFVBR2pCcEosT0FBZTtRQUFBLE9BQUEvRCxtQkFBQSxDQUFBSSxJQUFBLFVBQUFnTixXQUFBQyxVQUFBO1VBQUE7WUFBQSxRQUFBQSxVQUFBLENBQUE5TSxJQUFBLEdBQUE4TSxVQUFBLENBQUE3TSxJQUFBO2NBQUE7Z0JBQUEsT0FBQTZNLFVBQUEsQ0FBQXJJLE1BQUEsV0FDM0IsSUFBSSxDQUFDeUgsTUFBTSxDQUFDLFVBQVUsRUFBRTFJLE9BQU8sQ0FBQztjQUFBO2NBQUE7Z0JBQUEsT0FBQXNKLFVBQUEsQ0FBQWxNLElBQUE7WUFBQTtVQUFBO1FBQUEsR0FBQWdNLFNBQUE7TUFBQTtNQUFBLFNBQUFwSSxlQUFBdUksSUFBQTtRQUFBLE9BQUFKLGVBQUEsQ0FBQTlMLEtBQUEsT0FBQUMsU0FBQTtNQUFBO01BQUEsT0FBQTBELGNBQUE7SUFBQTtJQUd6QztBQUNGO0FBQ0E7RUFGRTtJQUFBeEYsR0FBQTtJQUFBQyxLQUFBO01BQUEsSUFBQStOLGNBQUEsR0FBQXhOLGlCQUFBLGVBQUFDLG1CQUFBLENBQUFDLElBQUEsVUFBQXVOLFVBR29CekosT0FBZTtRQUFBLE9BQUEvRCxtQkFBQSxDQUFBSSxJQUFBLFVBQUFxTixXQUFBQyxVQUFBO1VBQUE7WUFBQSxRQUFBQSxVQUFBLENBQUFuTixJQUFBLEdBQUFtTixVQUFBLENBQUFsTixJQUFBO2NBQUE7Z0JBQUEsT0FBQWtOLFVBQUEsQ0FBQTFJLE1BQUEsV0FDMUIsSUFBSSxDQUFDeUgsTUFBTSxDQUFDLFNBQVMsRUFBRTFJLE9BQU8sQ0FBQztjQUFBO2NBQUE7Z0JBQUEsT0FBQTJKLFVBQUEsQ0FBQXZNLElBQUE7WUFBQTtVQUFBO1FBQUEsR0FBQXFNLFNBQUE7TUFBQTtNQUFBLFNBQUF4RCxjQUFBMkQsSUFBQTtRQUFBLE9BQUFKLGNBQUEsQ0FBQW5NLEtBQUEsT0FBQUMsU0FBQTtNQUFBO01BQUEsT0FBQTJJLGFBQUE7SUFBQTtJQUd4QztBQUNGO0FBQ0E7RUFGRTtJQUFBekssR0FBQTtJQUFBQyxLQUFBLFdBQUFqQixRQUdRRixHQUFXLEVBQUU7TUFDbkJFLFFBQU8sQ0FBQ0YsR0FBRyxDQUFDO0lBQ2Q7SUFFQTtBQUNGO0FBQ0E7RUFGRTtJQUFBa0IsR0FBQTtJQUFBQyxLQUFBLFdBQUFvTyxvQkFHb0J2UCxHQUFZLEVBQUU7TUFBQSxJQUFBd1AsVUFBQTtNQUNoQyxJQUFJQyxZQUFZLEdBQUFDLHVCQUFBLENBQUFGLFVBQUEsTUFBQS9LLE1BQUEsQ0FBTSxJQUFJLENBQUN2QixLQUFLLENBQUNlLFdBQVcsZ0NBQUFPLElBQUEsQ0FBQWdMLFVBQUEsRUFBNEIsSUFBSSxDQUFDdE0sS0FBSyxDQUFDYyxXQUFXLENBQUU7TUFDaEcsSUFBSWhFLEdBQUcsRUFBRTtRQUNQeVAsWUFBWSxJQUFJLFVBQVUsR0FBR0Usa0JBQWtCLENBQUMzUCxHQUFHLENBQUM7TUFDdEQ7TUFDQSxJQUFJLENBQUNFLE9BQU8sQ0FBQ3VQLFlBQVksQ0FBQztJQUM1QjtFQUFDO0VBQUEsT0FBQTVPLEdBQUE7QUFBQTs7QUFHSDs7QUFFQSxJQUFNK08sR0FBRyxHQUFHLElBQUkvTyxHQUFHLENBQUMsQ0FBQztBQUVyQixlQUFlK08sR0FBRyJ9