import _getIterator from "@babel/runtime-corejs3/core-js/get-iterator";
import _Array$isArray from "@babel/runtime-corejs3/core-js-stable/array/is-array";
import _getIteratorMethod from "@babel/runtime-corejs3/core-js/get-iterator-method";
import _Symbol from "@babel/runtime-corejs3/core-js-stable/symbol";
import _Array$from from "@babel/runtime-corejs3/core-js-stable/array/from";
import _sliceInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/slice";
import _Object$defineProperty from "@babel/runtime-corejs3/core-js-stable/object/define-property";
import _Object$defineProperties from "@babel/runtime-corejs3/core-js-stable/object/define-properties";
import _Object$getOwnPropertyDescriptors from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors";
import _forEachInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/for-each";
import _Object$getOwnPropertyDescriptor from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor";
import _filterInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/filter";
import _Object$getOwnPropertySymbols from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols";
import _Object$keys from "@babel/runtime-corejs3/core-js-stable/object/keys";
import _regeneratorRuntime from "@babel/runtime-corejs3/regenerator";
import _keysInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/keys";
import _objectWithoutProperties from "@babel/runtime-corejs3/helpers/objectWithoutProperties";
import "regenerator-runtime/runtime";
import _defineProperty from "@babel/runtime-corejs3/helpers/defineProperty";
import _asyncToGenerator from "@babel/runtime-corejs3/helpers/asyncToGenerator";
function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof _Symbol === "undefined" || _getIteratorMethod(o) == null) { if (_Array$isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = _getIterator(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
function _unsupportedIterableToArray(o, minLen) { var _context5; if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = _sliceInstanceProperty(_context5 = Object.prototype.toString.call(o)).call(_context5, 8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return _Array$from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }
function ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { var _context3; _forEachInstanceProperty(_context3 = ownKeys(Object(source), true)).call(_context3, function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { var _context4; _forEachInstanceProperty(_context4 = ownKeys(Object(source))).call(_context4, function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }
import fetch from 'node-fetch';
import AbortController from 'abort-controller';
import createHttpsProxyAgent from 'https-proxy-agent';
import { createHttpRequestHandlerStreams, executeWithTimeout, isRedirect, performRedirectRequest } from './request-helper';
/**
 *
 */
var defaults = {};

/**
 *
 */
export function setDefaults(defaults_) {
  defaults = defaults_;
}

/**
 *
 */
function startFetchRequest(_x, _x2, _x3, _x4, _x5) {
  return _startFetchRequest.apply(this, arguments);
}
/**
 *
 */
function _startFetchRequest() {
  _startFetchRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(request, options, input, output, emitter) {
    var _context;
    var counter,
      httpProxy,
      followRedirect,
      agent,
      url,
      body,
      rrequest,
      controller,
      res,
      headers,
      _iterator,
      _step,
      headerName,
      response,
      _args = arguments;
    return _regeneratorRuntime.wrap(function _callee$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            counter = _args.length > 5 && _args[5] !== undefined ? _args[5] : 0;
            httpProxy = options.httpProxy, followRedirect = options.followRedirect;
            agent = httpProxy ? createHttpsProxyAgent(httpProxy) : undefined;
            url = request.url, body = request.body, rrequest = _objectWithoutProperties(request, ["url", "body"]);
            controller = new AbortController();
            _context2.prev = 5;
            _context2.next = 8;
            return executeWithTimeout(function () {
              return fetch(url, _objectSpread(_objectSpread(_objectSpread({}, rrequest), input && /^(post|put|patch)$/i.test(request.method) ? {
                body: input
              } : {}), {}, {
                redirect: 'manual',
                signal: controller.signal,
                agent: agent
              }));
            }, options.timeout, function () {
              return controller.abort();
            });
          case 8:
            res = _context2.sent;
            _context2.next = 15;
            break;
          case 11:
            _context2.prev = 11;
            _context2.t0 = _context2["catch"](5);
            emitter.emit('error', _context2.t0);
            return _context2.abrupt("return");
          case 15:
            headers = {};
            _iterator = _createForOfIteratorHelper(_keysInstanceProperty(_context = res.headers).call(_context));
            try {
              for (_iterator.s(); !(_step = _iterator.n()).done;) {
                headerName = _step.value;
                headers[headerName.toLowerCase()] = res.headers.get(headerName);
              }
            } catch (err) {
              _iterator.e(err);
            } finally {
              _iterator.f();
            }
            response = {
              statusCode: res.status,
              headers: headers
            };
            if (!(followRedirect && isRedirect(response.statusCode))) {
              _context2.next = 22;
              break;
            }
            try {
              performRedirectRequest(request, response, followRedirect, counter, function (req) {
                return startFetchRequest(req, options, undefined, output, emitter, counter + 1);
              });
            } catch (err) {
              emitter.emit('error', err);
            }
            return _context2.abrupt("return");
          case 22:
            emitter.emit('response', response);
            res.body.pipe(output);
          case 24:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee, null, [[5, 11]]);
  }));
  return _startFetchRequest.apply(this, arguments);
}
export default function request(req) {
  var options_ = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var options = _objectSpread(_objectSpread({}, defaults), options_);
  var _createHttpRequestHan = createHttpRequestHandlerStreams(req, options),
    input = _createHttpRequestHan.input,
    output = _createHttpRequestHan.output,
    stream = _createHttpRequestHan.stream;
  startFetchRequest(req, options, input, output, stream);
  return stream;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmZXRjaCIsIkFib3J0Q29udHJvbGxlciIsImNyZWF0ZUh0dHBzUHJveHlBZ2VudCIsImNyZWF0ZUh0dHBSZXF1ZXN0SGFuZGxlclN0cmVhbXMiLCJleGVjdXRlV2l0aFRpbWVvdXQiLCJpc1JlZGlyZWN0IiwicGVyZm9ybVJlZGlyZWN0UmVxdWVzdCIsImRlZmF1bHRzIiwic2V0RGVmYXVsdHMiLCJkZWZhdWx0c18iLCJzdGFydEZldGNoUmVxdWVzdCIsIl94IiwiX3gyIiwiX3gzIiwiX3g0IiwiX3g1IiwiX3N0YXJ0RmV0Y2hSZXF1ZXN0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvciIsIl9yZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsInJlcXVlc3QiLCJvcHRpb25zIiwiaW5wdXQiLCJvdXRwdXQiLCJlbWl0dGVyIiwiX2NvbnRleHQiLCJjb3VudGVyIiwiaHR0cFByb3h5IiwiZm9sbG93UmVkaXJlY3QiLCJhZ2VudCIsInVybCIsImJvZHkiLCJycmVxdWVzdCIsImNvbnRyb2xsZXIiLCJyZXMiLCJoZWFkZXJzIiwiX2l0ZXJhdG9yIiwiX3N0ZXAiLCJoZWFkZXJOYW1lIiwicmVzcG9uc2UiLCJfYXJncyIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0MiIsInByZXYiLCJuZXh0IiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiX29iamVjdFNwcmVhZCIsInRlc3QiLCJtZXRob2QiLCJyZWRpcmVjdCIsInNpZ25hbCIsInRpbWVvdXQiLCJhYm9ydCIsInNlbnQiLCJ0MCIsImVtaXQiLCJhYnJ1cHQiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsIl9rZXlzSW5zdGFuY2VQcm9wZXJ0eSIsImNhbGwiLCJzIiwibiIsImRvbmUiLCJ2YWx1ZSIsInRvTG93ZXJDYXNlIiwiZ2V0IiwiZXJyIiwiZSIsImYiLCJzdGF0dXNDb2RlIiwic3RhdHVzIiwicmVxIiwicGlwZSIsInN0b3AiLCJvcHRpb25zXyIsIl9jcmVhdGVIdHRwUmVxdWVzdEhhbiIsInN0cmVhbSJdLCJzb3VyY2VzIjpbIi4uL3NyYy9yZXF1ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgeyBEdXBsZXgsIFJlYWRhYmxlLCBXcml0YWJsZSB9IGZyb20gJ3N0cmVhbSc7XG5pbXBvcnQgZmV0Y2ggZnJvbSAnbm9kZS1mZXRjaCc7XG5pbXBvcnQgQWJvcnRDb250cm9sbGVyIGZyb20gJ2Fib3J0LWNvbnRyb2xsZXInO1xuaW1wb3J0IGNyZWF0ZUh0dHBzUHJveHlBZ2VudCBmcm9tICdodHRwcy1wcm94eS1hZ2VudCc7XG5pbXBvcnQge1xuICBjcmVhdGVIdHRwUmVxdWVzdEhhbmRsZXJTdHJlYW1zLFxuICBleGVjdXRlV2l0aFRpbWVvdXQsXG4gIGlzUmVkaXJlY3QsXG4gIHBlcmZvcm1SZWRpcmVjdFJlcXVlc3QsXG59IGZyb20gJy4vcmVxdWVzdC1oZWxwZXInO1xuaW1wb3J0IHsgSHR0cFJlcXVlc3QsIEh0dHBSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqXG4gKi9cbmxldCBkZWZhdWx0czogSHR0cFJlcXVlc3RPcHRpb25zID0ge307XG5cbi8qKlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHRzKGRlZmF1bHRzXzogSHR0cFJlcXVlc3RPcHRpb25zKSB7XG4gIGRlZmF1bHRzID0gZGVmYXVsdHNfO1xufVxuXG4vKipcbiAqXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHN0YXJ0RmV0Y2hSZXF1ZXN0KFxuICByZXF1ZXN0OiBIdHRwUmVxdWVzdCxcbiAgb3B0aW9uczogSHR0cFJlcXVlc3RPcHRpb25zLFxuICBpbnB1dDogUmVhZGFibGUgfCB1bmRlZmluZWQsXG4gIG91dHB1dDogV3JpdGFibGUsXG4gIGVtaXR0ZXI6IEV2ZW50RW1pdHRlcixcbiAgY291bnRlcjogbnVtYmVyID0gMCxcbikge1xuICBjb25zdCB7IGh0dHBQcm94eSwgZm9sbG93UmVkaXJlY3QgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGFnZW50ID0gaHR0cFByb3h5ID8gY3JlYXRlSHR0cHNQcm94eUFnZW50KGh0dHBQcm94eSkgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IHsgdXJsLCBib2R5LCAuLi5ycmVxdWVzdCB9ID0gcmVxdWVzdDtcbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgbGV0IHJlcztcbiAgdHJ5IHtcbiAgICByZXMgPSBhd2FpdCBleGVjdXRlV2l0aFRpbWVvdXQoXG4gICAgICAoKSA9PlxuICAgICAgICBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAuLi5ycmVxdWVzdCxcbiAgICAgICAgICAuLi4oaW5wdXQgJiYgL14ocG9zdHxwdXR8cGF0Y2gpJC9pLnRlc3QocmVxdWVzdC5tZXRob2QpXG4gICAgICAgICAgICA/IHsgYm9keTogaW5wdXQgfVxuICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgcmVkaXJlY3Q6ICdtYW51YWwnLFxuICAgICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICAgICAgYWdlbnQsXG4gICAgICAgIH0pLFxuICAgICAgb3B0aW9ucy50aW1lb3V0LFxuICAgICAgKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLFxuICAgICk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGVtaXR0ZXIuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XG4gIGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiByZXMuaGVhZGVycy5rZXlzKCkpIHtcbiAgICBoZWFkZXJzW2hlYWRlck5hbWUudG9Mb3dlckNhc2UoKV0gPSByZXMuaGVhZGVycy5nZXQoaGVhZGVyTmFtZSk7XG4gIH1cbiAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgc3RhdHVzQ29kZTogcmVzLnN0YXR1cyxcbiAgICBoZWFkZXJzLFxuICB9O1xuICBpZiAoZm9sbG93UmVkaXJlY3QgJiYgaXNSZWRpcmVjdChyZXNwb25zZS5zdGF0dXNDb2RlKSkge1xuICAgIHRyeSB7XG4gICAgICBwZXJmb3JtUmVkaXJlY3RSZXF1ZXN0KFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgZm9sbG93UmVkaXJlY3QsXG4gICAgICAgIGNvdW50ZXIsXG4gICAgICAgIChyZXEpID0+XG4gICAgICAgICAgc3RhcnRGZXRjaFJlcXVlc3QoXG4gICAgICAgICAgICByZXEsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgZW1pdHRlcixcbiAgICAgICAgICAgIGNvdW50ZXIgKyAxLFxuICAgICAgICAgICksXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZW1pdHRlci5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBlbWl0dGVyLmVtaXQoJ3Jlc3BvbnNlJywgcmVzcG9uc2UpO1xuICByZXMuYm9keS5waXBlKG91dHB1dCk7XG59XG5cbi8qKlxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWVzdChcbiAgcmVxOiBIdHRwUmVxdWVzdCxcbiAgb3B0aW9uc186IEh0dHBSZXF1ZXN0T3B0aW9ucyA9IHt9LFxuKTogRHVwbGV4IHtcbiAgY29uc3Qgb3B0aW9ucyA9IHsgLi4uZGVmYXVsdHMsIC4uLm9wdGlvbnNfIH07XG4gIGNvbnN0IHsgaW5wdXQsIG91dHB1dCwgc3RyZWFtIH0gPSBjcmVhdGVIdHRwUmVxdWVzdEhhbmRsZXJTdHJlYW1zKFxuICAgIHJlcSxcbiAgICBvcHRpb25zLFxuICApO1xuICBzdGFydEZldGNoUmVxdWVzdChyZXEsIG9wdGlvbnMsIGlucHV0LCBvdXRwdXQs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