import "core-js/modules/es.array.iterator";
import "core-js/modules/es.promise";
import "core-js/modules/es.string.replace";
import _JSON$stringify from "@babel/runtime-corejs3/core-js-stable/json/stringify";
import _Object$keys from "@babel/runtime-corejs3/core-js-stable/object/keys";
import _Array$isArray from "@babel/runtime-corejs3/core-js-stable/array/is-array";
import _Promise from "@babel/runtime-corejs3/core-js-stable/promise";
import fs from 'fs-extra';
import xml2js from 'xml2js';
import { castTypeUsingSchema } from '../../soap';
import { isMapObject } from '../../util/function';

/**
 *
 */
const WSDLRestrictionSchema = {
  $: {
    base: 'string'
  },
  enumeration: [{
    $: {
      value: 'string'
    }
  }],
  'xsd:enumeration': [{
    $: {
      value: 'string'
    }
  }]
};
const WSDLSimpleTypeSchema = {
  $: {
    name: 'string'
  },
  restriction: WSDLRestrictionSchema,
  'xsd:restriction': WSDLRestrictionSchema
};
const WSDLElementSchema = {
  $: {
    name: 'string',
    type: 'string',
    minOccurs: '?number',
    maxOccurs: '?string',
    nillable: '?boolean'
  }
};
const WSDLSequenceSchema = {
  element: ['?', WSDLElementSchema],
  'xsd:element': ['?', WSDLElementSchema]
};
const WSDLExtensionSchema = {
  $: {
    base: 'string'
  },
  sequence: {
    '?': WSDLSequenceSchema
  },
  'xsd:sequence': {
    '?': WSDLSequenceSchema
  }
};
const WSDLComplexContentSchema = {
  extension: {
    '?': WSDLExtensionSchema
  },
  'xsd:extension': {
    '?': WSDLExtensionSchema
  }
};
const WSDLComplexTypeSchema = {
  $: {
    name: 'string'
  },
  sequence: {
    '?': WSDLSequenceSchema
  },
  'xsd:sequence': {
    '?': WSDLSequenceSchema
  },
  complexContent: {
    '?': WSDLComplexContentSchema
  },
  'xsd:complexContent': {
    '?': WSDLComplexContentSchema
  }
};
const WSDLSchemaSchema = {
  $: 'any',
  complexType: ['?', 'any'],
  simpleType: ['?', 'any'],
  'xsd:complexType': ['?', 'any'],
  'xsd:simpleType': ['?', 'any']
};
const WSDLSchema = {
  definitions: {
    $: 'any',
    types: {
      schema: ['?', WSDLSchemaSchema],
      'xsd:schema': ['?', WSDLSchemaSchema]
    },
    message: ['any'],
    portType: {
      $: 'any',
      operation: ['any']
    },
    binding: {
      $: 'any',
      operation: ['any']
    },
    service: {
      $: 'any',
      documentation: 'string',
      operation: ['any']
    }
  }
};

/**
 *
 */

/**
 *
 */
function toJsType(xsdType, simpleTypes) {
  switch (xsdType) {
    case 'xsd:boolean':
      return 'boolean';
    case 'xsd:string':
    case 'xsd:date':
    case 'xsd:dateTime':
    case 'xsd:time':
    case 'xsd:base64Binary':
      return 'string';
    case 'xsd:int':
    case 'xsd:long':
    case 'xsd:double':
      return 'number';
    case 'xsd:anyType':
      return 'any';
    default:
      {
        const [ns, type] = xsdType.split(':');
        if (simpleTypes[type]) {
          return simpleTypes[type];
        }
        if (ns) {
          return type;
        }
        return xsdType;
      }
  }
}

/**
 *
 */
async function readWSDLFile(filePath) {
  const xmlData = await fs.readFile(filePath, 'utf8');
  const json = await xml2js.parseStringPromise(xmlData, {
    explicitArray: false
  });
  return castTypeUsingSchema(json, WSDLSchema);
}

/**
 *
 */
function getTypeInfo(el, simpleTypes) {
  let type = toJsType(el.$.type, simpleTypes);
  const isArray = el.$.maxOccurs === 'unbounded';
  const nillable = !isArray && el.$.minOccurs === 0 || el.$.nillable;
  return isArray ? nillable ? ['?', type] : [type] : nillable ? `?${type}` : type;
}

/**
 *
 */
function extractComplexTypes(wsdl) {
  console.log(wsdl.definitions.types['xsd:schema']);
  let schemas = {};
  const simpleTypes = {};
  const types = wsdl.definitions.types;
  for (const sc of (_ref = (_types$schema = types.schema) !== null && _types$schema !== void 0 ? _types$schema : types['xsd:schema']) !== null && _ref !== void 0 ? _ref : []) {
    var _ref, _types$schema;
    for (const st of (_ref2 = (_sc$simpleType = sc.simpleType) !== null && _sc$simpleType !== void 0 ? _sc$simpleType : sc['xsd:simpleType']) !== null && _ref2 !== void 0 ? _ref2 : []) {
      var _ref2, _sc$simpleType, _simpleType$restricti;
      const simpleType = castTypeUsingSchema(st, WSDLSimpleTypeSchema);
      const rs = (_simpleType$restricti = simpleType.restriction) !== null && _simpleType$restricti !== void 0 ? _simpleType$restricti : simpleType['xsd:restriction'];
      const base = rs.$.base.split(':')[1];
      simpleTypes[simpleType.$.name] = base;
    }
  }
  console.log({
    simpleTypes
  });
  for (const sc of (_ref3 = (_types$schema2 = types.schema) !== null && _types$schema2 !== void 0 ? _types$schema2 : types['xsd:schema']) !== null && _ref3 !== void 0 ? _ref3 : []) {
    var _ref3, _types$schema2;
    for (const ct of (_ref4 = (_sc$complexType = sc.complexType) !== null && _sc$complexType !== void 0 ? _sc$complexType : sc['xsd:complexType']) !== null && _ref4 !== void 0 ? _ref4 : []) {
      var _ref4, _sc$complexType, _complexType$sequence, _seq$element, _complexType$complexC;
      const complexType = castTypeUsingSchema(ct, WSDLComplexTypeSchema);
      const schema = {
        type: complexType.$.name,
        props: {}
      };
      const seq = (_complexType$sequence = complexType.sequence) !== null && _complexType$sequence !== void 0 ? _complexType$sequence : complexType['xsd:sequence'];
      const els = (_seq$element = seq === null || seq === void 0 ? void 0 : seq.element) !== null && _seq$element !== void 0 ? _seq$element : seq === null || seq === void 0 ? void 0 : seq['xsd:element'];
      for (const el of els !== null && els !== void 0 ? els : []) {
        schema.props[el.$.name] = getTypeInfo(el, simpleTypes);
      }
      const cc = (_complexType$complexC = complexType.complexContent) !== null && _complexType$complexC !== void 0 ? _complexType$complexC : complexType['xsd:complexContent'];
      if (cc) {
        var _cc$extension;
        const extension = (_cc$extension = cc.extension) !== null && _cc$extension !== void 0 ? _cc$extension : cc['xsd:extension'];
        if (extension) {
          var _extension$sequence, _seq$element2;
          schema.extends = extension.$.base.split(':')[1];
          const seq = (_extension$sequence = extension.sequence) !== null && _extension$sequence !== void 0 ? _extension$sequence : extension['xsd:sequence'];
          const els = (_seq$element2 = seq === null || seq === void 0 ? void 0 : seq.element) !== null && _seq$element2 !== void 0 ? _seq$element2 : seq === null || seq === void 0 ? void 0 : seq['xsd:element'];
          for (const el of els !== null && els !== void 0 ? els : []) {
            schema.props[el.$.name] = getTypeInfo(el, simpleTypes);
          }
        }
      }
      schemas[complexType.$.name] = schema;
    }
  }
  return schemas;
}

/**
 *
 */
const GENERATED_MESSAGE_COMMENT = `/**
 * This file is generated from WSDL file by wsdl2schema.ts.
 * Do not modify directly.
 * To generate the file, run "ts-node path/to/wsdl2schema.ts path/to/wsdl.xml path/to/schema.ts"
 */
`;

/**
 *
 */
async function dumpSchema(schemas, outFile) {
  const out = fs.createWriteStream(outFile, 'utf8');
  const print = (str, indent = 0) => {
    for (let i = 0; i < indent; i++) {
      out.write(' ');
    }
    out.write(str);
  };
  const println = (str = '', indent = 0) => {
    print(str + '\n', indent);
  };
  return new _Promise((resolve, reject) => {
    out.on('error', reject);
    out.on('finish', () => resolve());
    println(GENERATED_MESSAGE_COMMENT);
    print('export const ApiSchemas = ');
    writeSchema(schemas);
    println(' as const;');
    println();
    writeTypeDefs(schemas);
    out.end();
  });
  function writeSchema(o, indent = 0) {
    if (indent > 20) {
      print("'any'");
      return;
    }
    if (_Array$isArray(o)) {
      print('[');
      let i = 0;
      for (const co of o) {
        if (i > 0) {
          print(', ');
        }
        writeSchema(co, indent);
        i++;
      }
      print(']');
    } else if (isMapObject(o)) {
      const keys = _Object$keys(o);
      if (keys.length > 0) {
        println('{');
        for (const name of keys) {
          const co = o[name];
          const nameId = /^[\w_$]+$/.test(name) ? name : `'${name}'`;
          print(`${nameId}: `, indent + 2);
          writeSchema(co, indent + 2);
          println(',');
        }
        print('}', indent);
      } else {
        print('{}');
      }
    } else {
      print(_JSON$stringify(o).replace(/"/g, "'"));
    }
  }
  function writeTypeDef(o, schemas, indent = 0) {
    if (typeof o === 'string') {
      print(o);
    } else if (isMapObject(o)) {
      if ('type' in o && 'props' in o) {
        if ('extends' in o && typeof o.extends === 'string') {
          print(`${o.extends} & `);
        }
        writeTypeDef(o.props, schemas, indent);
        return;
      }
      const keys = _Object$keys(o);
      if (keys.length > 0) {
        println('{');
        for (const prop of _Object$keys(o)) {
          let value = o[prop];
          let nillable = false;
          let isArray = false;
          if (_Array$isArray(value)) {
            isArray = true;
            const len = value.length;
            if (len === 2 && value[0] === '?') {
              nillable = true;
              value = value[1];
            } else {
              value = value[0];
            }
          } else if (isMapObject(value)) {
            if ('?' in value) {
              nillable = true;
              value = value['?'];
            }
          }
          if (typeof value === 'string' && value[0] === '?') {
            nillable = true;
            value = value.substring(1);
          }
          print(`${prop}${nillable ? '?' : ''}: `, indent + 2);
          writeTypeDef(value, schemas, indent + 2);
          if (isArray) {
            print('[]');
          }
          if (nillable) {
            print(' | null | undefined');
          }
          println(';');
        }
        print('}', indent);
      } else {
        print('{}');
      }
    }
  }
  function writeTypeDefs(schemas) {
    for (const name of _Object$keys(schemas)) {
      const schema = schemas[name];
      print(`export type ${name} = `);
      writeTypeDef(schema, schemas);
      println(';');
      println();
    }
    println('export type ApiSchemaTypes = {');
    for (const name of _Object$keys(schemas)) {
      println(`${name}: ${name};`, 2);
    }
    println('};');
  }
}

/**
 *
 */
async function main() {
  const wsdlFilePath = process.argv[2];
  if (!wsdlFilePath) {
    console.error('No input WSDL file is specified.');
    return;
  }
  const outFilePath = process.argv[3];
  if (!wsdlFilePath) {
    console.error('No output typescript schema file is specified.');
    return;
  }
  const wsdl = await readWSDLFile(wsdlFilePath);
  const schemas = extractComplexTypes(wsdl);
  dumpSchema(schemas, outFilePath);
}
main();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInhtbDJqcyIsImNhc3RUeXBlVXNpbmdTY2hlbWEiLCJpc01hcE9iamVjdCIsIldTRExSZXN0cmljdGlvblNjaGVtYSIsIiQiLCJiYXNlIiwiZW51bWVyYXRpb24iLCJ2YWx1ZSIsIldTRExTaW1wbGVUeXBlU2NoZW1hIiwibmFtZSIsInJlc3RyaWN0aW9uIiwiV1NETEVsZW1lbnRTY2hlbWEiLCJ0eXBlIiwibWluT2NjdXJzIiwibWF4T2NjdXJzIiwibmlsbGFibGUiLCJXU0RMU2VxdWVuY2VTY2hlbWEiLCJlbGVtZW50IiwiV1NETEV4dGVuc2lvblNjaGVtYSIsInNlcXVlbmNlIiwiV1NETENvbXBsZXhDb250ZW50U2NoZW1hIiwiZXh0ZW5zaW9uIiwiV1NETENvbXBsZXhUeXBlU2NoZW1hIiwiY29tcGxleENvbnRlbnQiLCJXU0RMU2NoZW1hU2NoZW1hIiwiY29tcGxleFR5cGUiLCJzaW1wbGVUeXBlIiwiV1NETFNjaGVtYSIsImRlZmluaXRpb25zIiwidHlwZXMiLCJzY2hlbWEiLCJtZXNzYWdlIiwicG9ydFR5cGUiLCJvcGVyYXRpb24iLCJiaW5kaW5nIiwic2VydmljZSIsImRvY3VtZW50YXRpb24iLCJ0b0pzVHlwZSIsInhzZFR5cGUiLCJzaW1wbGVUeXBlcyIsIm5zIiwic3BsaXQiLCJyZWFkV1NETEZpbGUiLCJmaWxlUGF0aCIsInhtbERhdGEiLCJyZWFkRmlsZSIsImpzb24iLCJwYXJzZVN0cmluZ1Byb21pc2UiLCJleHBsaWNpdEFycmF5IiwiZ2V0VHlwZUluZm8iLCJlbCIsImlzQXJyYXkiLCJleHRyYWN0Q29tcGxleFR5cGVzIiwid3NkbCIsImNvbnNvbGUiLCJsb2ciLCJzY2hlbWFzIiwic2MiLCJfcmVmIiwiX3R5cGVzJHNjaGVtYSIsInN0IiwiX3JlZjIiLCJfc2Mkc2ltcGxlVHlwZSIsIl9zaW1wbGVUeXBlJHJlc3RyaWN0aSIsInJzIiwiX3JlZjMiLCJfdHlwZXMkc2NoZW1hMiIsImN0IiwiX3JlZjQiLCJfc2MkY29tcGxleFR5cGUiLCJfY29tcGxleFR5cGUkc2VxdWVuY2UiLCJfc2VxJGVsZW1lbnQiLCJfY29tcGxleFR5cGUkY29tcGxleEMiLCJwcm9wcyIsInNlcSIsImVscyIsImNjIiwiX2NjJGV4dGVuc2lvbiIsIl9leHRlbnNpb24kc2VxdWVuY2UiLCJfc2VxJGVsZW1lbnQyIiwiZXh0ZW5kcyIsIkdFTkVSQVRFRF9NRVNTQUdFX0NPTU1FTlQiLCJkdW1wU2NoZW1hIiwib3V0RmlsZSIsIm91dCIsImNyZWF0ZVdyaXRlU3RyZWFtIiwicHJpbnQiLCJzdHIiLCJpbmRlbnQiLCJpIiwid3JpdGUiLCJwcmludGxuIiwiX1Byb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib24iLCJ3cml0ZVNjaGVtYSIsIndyaXRlVHlwZURlZnMiLCJlbmQiLCJvIiwiX0FycmF5JGlzQXJyYXkiLCJjbyIsImtleXMiLCJfT2JqZWN0JGtleXMiLCJsZW5ndGgiLCJuYW1lSWQiLCJ0ZXN0IiwiX0pTT04kc3RyaW5naWZ5IiwicmVwbGFjZSIsIndyaXRlVHlwZURlZiIsInByb3AiLCJsZW4iLCJzdWJzdHJpbmciLCJtYWluIiwid3NkbEZpbGVQYXRoIiwicHJvY2VzcyIsImFyZ3YiLCJlcnJvciIsIm91dEZpbGVQYXRoIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2FwaS93c2RsL3dzZGwyc2NoZW1hLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcy1leHRyYSc7XG5pbXBvcnQgeG1sMmpzIGZyb20gJ3htbDJqcyc7XG5pbXBvcnQgeyBjYXN0VHlwZVVzaW5nU2NoZW1hIH0gZnJvbSAnLi4vLi4vc29hcCc7XG5pbXBvcnQgeyBTb2FwU2NoZW1hRWxlbWVudFR5cGUsIFNvYXBTY2hlbWFEZWYgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBpc01hcE9iamVjdCB9IGZyb20gJy4uLy4uL3V0aWwvZnVuY3Rpb24nO1xuXG4vKipcbiAqXG4gKi9cbmNvbnN0IFdTRExSZXN0cmljdGlvblNjaGVtYSA9IHtcbiAgJDogeyBiYXNlOiAnc3RyaW5nJyB9LFxuICBlbnVtZXJhdGlvbjogW1xuICAgIHtcbiAgICAgICQ6IHsgdmFsdWU6ICdzdHJpbmcnIH0sXG4gICAgfSxcbiAgXSxcbiAgJ3hzZDplbnVtZXJhdGlvbic6IFtcbiAgICB7XG4gICAgICAkOiB7IHZhbHVlOiAnc3RyaW5nJyB9LFxuICAgIH0sXG4gIF0sXG59IGFzIGNvbnN0O1xuXG5jb25zdCBXU0RMU2ltcGxlVHlwZVNjaGVtYSA9IHtcbiAgJDogeyBuYW1lOiAnc3RyaW5nJyB9LFxuICByZXN0cmljdGlvbjogV1NETFJlc3RyaWN0aW9uU2NoZW1hLFxuICAneHNkOnJlc3RyaWN0aW9uJzogV1NETFJlc3RyaWN0aW9uU2NoZW1hLFxufSBhcyBjb25zdDtcblxuY29uc3QgV1NETEVsZW1lbnRTY2hlbWEgPSB7XG4gICQ6IHtcbiAgICBuYW1lOiAnc3RyaW5nJyxcbiAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICBtaW5PY2N1cnM6ICc/bnVtYmVyJyxcbiAgICBtYXhPY2N1cnM6ICc/c3RyaW5nJyxcbiAgICBuaWxsYWJsZTogJz9ib29sZWFuJyxcbiAgfSxcbn0gYXMgY29uc3Q7XG5cbmNvbnN0IFdTRExTZXF1ZW5jZVNjaGVtYSA9IHtcbiAgZWxlbWVudDogWyc/JywgV1NETEVsZW1lbnRTY2hlbWFdLFxuICAneHNkOmVsZW1lbnQnOiBbJz8nLCBXU0RMRWxlbWVudFNjaGVtYV0sXG59IGFzIGNvbnN0O1xuXG5jb25zdCBXU0RMRXh0ZW5zaW9uU2NoZW1hID0ge1xuICAkOiB7IGJhc2U6ICdzdHJpbmcnIH0sXG4gIHNlcXVlbmNlOiB7ICc/JzogV1NETFNlcXVlbmNlU2NoZW1hIH0sXG4gICd4c2Q6c2VxdWVuY2UnOiB7ICc/JzogV1NETFNlcXVlbmNlU2NoZW1hIH0sXG59IGFzIGNvbnN0O1xuXG5jb25zdCBXU0RMQ29tcGxleENvbnRlbnRTY2hlbWEgPSB7XG4gIGV4dGVuc2lvbjogeyAnPyc6IFdTRExFeHRlbnNpb25TY2hlbWEgfSxcbiAgJ3hzZDpleHRlbnNpb24nOiB7ICc/JzogV1NETEV4dGVuc2lvblNjaGVtYSB9LFxufSBhcyBjb25zdDtcblxuY29uc3QgV1NETENvbXBsZXhUeXBlU2NoZW1hID0ge1xuICAkOiB7IG5hbWU6ICdzdHJpbmcnIH0sXG4gIHNlcXVlbmNlOiB7ICc/JzogV1NETFNlcXVlbmNlU2NoZW1hIH0sXG4gICd4c2Q6c2VxdWVuY2UnOiB7ICc/JzogV1NETFNlcXVlbmNlU2NoZW1hIH0sXG4gIGNvbXBsZXhDb250ZW50OiB7ICc/JzogV1NETENvbXBsZXhDb250ZW50U2NoZW1hIH0sXG4gICd4c2Q6Y29tcGxleENvbnRlbnQnOiB7ICc/JzogV1NETENvbXBsZXhDb250ZW50U2NoZW1hIH0sXG59IGFzIGNvbnN0O1xuXG5jb25zdCBXU0RMU2NoZW1hU2NoZW1hID0ge1xuICAkOiAnYW55JyxcbiAgY29tcGxleFR5cGU6IFsnPycsICdhbnknXSxcbiAgc2ltcGxlVHlwZTogWyc/JywgJ2FueSddLFxuICAneHNkOmNvbXBsZXhUeXBlJzogWyc/JywgJ2FueSddLFxuICAneHNkOnNpbXBsZVR5cGUnOiBbJz8nLCAnYW55J10sXG59IGFzIGNvbnN0O1xuXG5jb25zdCBXU0RMU2NoZW1hID0ge1xuICBkZWZpbml0aW9uczoge1xuICAgICQ6ICdhbnknLFxuICAgIHR5cGVzOiB7XG4gICAgICBzY2hlbWE6IFsnPycsIFdTRExTY2hlbWFTY2hlbWFdLFxuICAgICAgJ3hzZDpzY2hlbWEnOiBbJz8nLCBXU0RMU2NoZW1hU2NoZW1hXSxcbiAgICB9LFxuICAgIG1lc3NhZ2U6IFsnYW55J10sXG4gICAgcG9ydFR5cGU6IHtcbiAgICAgICQ6ICdhbnknLFxuICAgICAgb3BlcmF0aW9uOiBbJ2FueSddLFxuICAgIH0sXG4gICAgYmluZGluZzoge1xuICAgICAgJDogJ2FueScsXG4gICAgICBvcGVyYXRpb246IFsnYW55J10sXG4gICAgfSxcbiAgICBzZXJ2aWNlOiB7XG4gICAgICAkOiAnYW55JyxcbiAgICAgIGRvY3VtZW50YXRpb246ICdzdHJpbmcnLFxuICAgICAgb3BlcmF0aW9uOiBbJ2FueSddLFxuICAgIH0sXG4gIH0sXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqXG4gKi9cbnR5cGUgV1NETCA9IFNvYXBTY2hlbWFFbGVtZW50VHlwZTx0eXBlb2YgV1NETFNjaGVtYT47XG5cbnR5cGUgV1NETEVsZW1lbnQgPSBTb2FwU2NoZW1hRWxlbWVudFR5cGU8dHlwZW9mIFdTRExFbGVtZW50U2NoZW1hPjtcblxudHlwZSBXU0RMU2ltcGxlVHlwZSA9IFNvYXBTY2hlbWFFbGVtZW50VHlwZTx0eXBlb2YgV1NETFNpbXBsZVR5cGVTY2hlbWE+O1xuXG50eXBlIFdTRExDb21wbGV4VHlwZSA9IFNvYXBTY2hlbWFFbGVtZW50VHlwZTx0eXBlb2YgV1NETENvbXBsZXhUeXBlU2NoZW1hPjtcblxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiB0b0pzVHlwZSh4c2RUeXBlOiBzdHJpbmcsIHNpbXBsZVR5cGVzOiB7IFt0eXBlOiBzdHJpbmddOiBzdHJpbmcgfSkge1xuICBzd2l0Y2ggKHhzZFR5cGUpIHtcbiAgICBjYXNlICd4c2Q6Ym9vbGVhbic6XG4gICAgICByZXR1cm4gJ2Jvb2xlYW4nO1xuICAgIGNhc2UgJ3hzZDpzdHJpbmcnOlxuICAgIGNhc2UgJ3hzZDpkYXRlJzpcbiAgICBjYXNlICd4c2Q6ZGF0ZVRpbWUnOlxuICAgIGNhc2UgJ3hzZDp0aW1lJzpcbiAgICBjYXNlICd4c2Q6YmFzZTY0QmluYXJ5JzpcbiAgICAgIHJldHVybiAnc3RyaW5nJztcbiAgICBjYXNlICd4c2Q6aW50JzpcbiAgICBjYXNlICd4c2Q6bG9uZyc6XG4gICAgY2FzZSAneHNkOmRvdWJsZSc6XG4gICAgICByZXR1cm4gJ251bWJlcic7XG4gICAgY2FzZSAneHNkOmFueVR5cGUnOlxuICAgICAgcmV0dXJuICdhbnknO1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGNvbnN0IFtucywgdHlwZV0gPSB4c2RUeXBlLnNwbGl0KCc6Jyk7XG4gICAgICBpZiAoc2ltcGxlVHlwZXNbdHlwZV0pIHtcbiAgICAgICAgcmV0dXJuIHNpbXBsZVR5cGVzW3R5cGVdO1xuICAgICAgfVxuICAgICAgaWYgKG5zKSB7XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHhzZFR5cGU7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICpcbiAqL1xuYXN5bmMgZnVuY3Rpb24gcmVhZFdTRExGaWxlKGZpbGVQYXRoOiBzdHJpbmcpIHtcbiAgY29uc3QgeG1sRGF0YSA9IGF3YWl0IGZzLnJlYWRGaWxlKGZpbGVQYXRoLCAndXRmOCcpO1xuICBjb25zdCBqc29uID0gYXdhaXQgeG1sMmpzLnBhcnNlU3RyaW5nUHJvbWlzZSh4bWxEYXRhLCB7XG4gICAgZXhwbGljaXRBcnJheTogZmFsc2UsXG4gIH0pO1xuICByZXR1cm4gY2FzdFR5cGVVc2luZ1NjaGVtYShqc29uLCBXU0RMU2NoZW1hKSBhcyBXU0RMO1xufVxuXG4vKipcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldFR5cGVJbmZvKGVsOiBXU0RMRWxlbWVudCwgc2ltcGxlVHlwZXM6IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9KSB7XG4gIGxldCB0eXBlID0gdG9Kc1R5cGUoZWwuJC50eXBlLCBzaW1wbGVUeXBlcyk7XG4gIGNvbnN0IGlzQXJyYXkgPSBlbC4kLm1heE9jY3VycyA9PT0gJ3VuYm91bmRlZCc7XG4gIGNvbnN0IG5pbGxhYmxlID0gKCFpc0FycmF5ICYmIGVsLiQubWluT2NjdXJzID09PSAwKSB8fCBlbC4kLm5pbGxhYmxlO1xuICByZXR1cm4gaXNBcnJheVxuICAgID8gbmlsbGFibGVcbiAgICAgID8gWyc/JywgdHlwZV1cbiAgICAgIDogW3R5cGVdXG4gICAgOiBuaWxsYWJsZVxuICAgID8gYD8ke3R5cGV9YFxuICAgIDogdHlwZTtcbn1cblxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiBleHRyYWN0Q29tcGxleFR5cGVzKHdzZGw6IFdTREwpIHtcbiAgY29uc29sZS5sb2cod3NkbC5kZWZpbml0aW9ucy50eXBlc1sneHNkOnNjaGVtYSddKTtcbiAgbGV0IHNjaGVtYXM6IHsgW25hbWU6IHN0cmluZ106IFNvYXBTY2hlbWFEZWYgfSA9IHt9O1xuICBjb25zdCBzaW1wbGVUeXBlczogeyBbdHlwZTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgY29uc3QgdHlwZXMgPSB3c2RsLmRlZmluaXRpb25zLnR5cGVzO1xuICBmb3IgKGNvbnN0IHNjIG9mIHR5cGVzLnNjaGVtYSA/PyB0eXBlc1sneHNkOnNjaGVtYSddID8/IFtdKSB7XG4gICAgZm9yIChjb25zdCBzdCBvZiBzYy5zaW1wbGVUeXBlID8/IHNjWyd4c2Q6c2ltcGxlVHlwZSddID8/IFtdKSB7XG4gICAgICBjb25zdCBzaW1wbGVUeXBlOiBXU0RMU2ltcGxlVHlwZSA9IGNhc3RUeXBlVXNpbmdTY2hlbWEoXG4gICAgICAgIHN0LFxuICAgICAgICBXU0RMU2ltcGxlVHlwZVNjaGVtYSxcbiAgICAgICk7XG4gICAgICBjb25zdCBycyA9IHNpbXBsZVR5cGUucmVzdHJpY3Rpb24gPz8gc2ltcGxlVHlwZVsneHNkOnJlc3RyaWN0aW9uJ107XG4gICAgICBjb25zdCBiYXNlID0gcnMuJC5iYXNlLnNwbGl0KCc6JylbMV07XG4gICAgICBzaW1wbGVUeXBlc1tzaW1wbGVUeXBlLiQubmFtZV0gPSBiYXNlO1xuICAgIH1cbiAgfVxuICBjb25zb2xlLmxvZyh7IHNpbXBsZVR5cGVzIH0pO1xuICBmb3IgKGNvbnN0IHNjIG9mIHR5cGVzLnNjaGVtYSA/PyB0eXBlc1sneHNkOnNjaGVtYSddID8/IFtdKSB7XG4gICAgZm9yIChjb25zdCBjdCBvZiBzYy5jb21wbGV4VHlwZSA/PyBzY1sneHNkOmNvbXBsZXhUeXBlJ10gPz8gW10pIHtcbiAgICAgIGNvbnN0IGNvbXBsZXhUeXBlOiBXU0RMQ29tcGxleFR5cGUgPSBjYXN0VHlwZVVzaW5nU2NoZW1hKFxuICAgICAgICBjdCxcbiAgICAgICAgV1NETENvbXBsZXhUeXBlU2NoZW1hLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNjaGVtYToge1xuICAgICAgICB0eXBlOiBzdHJpbmc7XG4gICAgICAgIGV4dGVuZHM/OiBzdHJpbmc7XG4gICAgICAgIHByb3BzOiB7IFtuYW1lOiBzdHJpbmddOiBhbnkgfTtcbiAgICAgIH0gPSB7XG4gICAgICAgIHR5cGU6IGNvbXBsZXhUeXBlLiQubmFtZSxcbiAgICAgICAgcHJvcHM6IHt9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHNlcSA9IGNvbXBsZXhUeXBlLnNlcXVlbmNlID8/IGNvbXBsZXhUeXBlWyd4c2Q6c2VxdWVuY2UnXTtcbiAgICAgIGNvbnN0IGVscyA9IHNlcT8uZWxlbWVudCA/PyBzZXE/LlsneHNkOmVsZW1lbnQnXTtcbiAgICAgIGZvciAoY29uc3QgZWwgb2YgZWxzID8/IFtdKSB7XG4gICAgICAgIHNjaGVtYS5wcm9wc1tlbC4kLm5hbWVdID0gZ2V0VHlwZUluZm8oZWwsIHNpbXBsZVR5cGVzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNjID1cbiAgICAgICAgY29tcGxleFR5cGUuY29tcGxleENvbnRlbnQgPz8gY29tcGxleFR5cGVbJ3hzZDpjb21wbGV4Q29udGVudCddO1xuICAgICAgaWYgKGNjKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IGNjLmV4dGVuc2lvbiA/PyBjY1sneHNkOmV4dGVuc2lvbiddO1xuICAgICAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgc2NoZW1hLmV4dGVuZHMgPSBleHRlbnNpb24uJC5iYXNlLnNwbGl0KCc6JylbMV07XG4gICAgICAgICAgY29uc3Qgc2VxID0gZXh0ZW5zaW9uLnNlcXVlbmNlID8/IGV4dGVuc2lvblsneHNkOnNlcXVlbmNlJ107XG4gICAgICAgICAgY29uc3QgZWxzID0gc2VxPy5lbGVtZW50ID8/IHNlcT8uWyd4c2Q6ZWxlbWVudCddO1xuICAgICAgICAgIGZvciAoY29uc3QgZWwgb2YgZWxzID8/IFtdKSB7XG4gICAgICAgICAgICBzY2hlbWEucHJvcHNbZWwuJC5uYW1lXSA9IGdldFR5cGVJbmZvKGVsLCBzaW1wbGVUeXBlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzY2hlbWFzW2NvbXBsZXhUeXBlLiQubmFtZV0gPSBzY2hlbWE7XG4gICAgfVxuICB9XG4gIHJldHVybiBzY2hlbWFzO1xufVxuXG4vKipcbiAqXG4gKi9cbmNvbnN0IEdFTkVSQVRFRF9NRVNTQUdFX0NPTU1FTlQgPSBgLyoqXG4gKiBUaGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGZyb20gV1NETCBmaWxlIGJ5IHdzZGwyc2NoZW1hLnRzLlxuICogRG8gbm90IG1vZGlmeSBkaXJlY3RseS5cbiAqIFRvIGdlbmVyYXRlIHRoZSBmaWxlLCBydW4gXCJ0cy1ub2RlIHBhdGgvdG8vd3NkbDJzY2hlbWEudHMgcGF0aC90by93c2RsLnhtbCBwYXRoL3RvL3NjaGVtYS50c1wiXG4gKi9cbmA7XG5cbi8qKlxuICpcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZHVtcFNjaGVtYShzY2hlbWFzOiB7IFtuYW1lOiBzdHJpbmddOiBhbnkgfSwgb3V0RmlsZTogc3RyaW5nKSB7XG4gIGNvbnN0IG91dCA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKG91dEZpbGUsICd1dGY4Jyk7XG4gIGNvbnN0IHByaW50ID0gKHN0cjogc3RyaW5nLCBpbmRlbnQ6IG51bWJlciA9IDApID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGVudDsgaSsrKSB7XG4gICAgICBvdXQud3JpdGUoJyAnKTtcbiAgICB9XG4gICAgb3V0LndyaXRlKHN0cik7XG4gIH07XG4gIGNvbnN0IHByaW50bG4gPSAoc3RyOiBzdHJpbmcgPSAnJywgaW5kZW50OiBudW1iZXIgPSAwKSA9PiB7XG4gICAgcHJpbnQoc3RyICsgJ1xcbicsIGluZGVudCk7XG4gIH07XG4gIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgb3V0Lm9uKCdlcnJvcicsIHJlamVjdCk7XG4gICAgb3V0Lm9uKCdmaW5pc2gnLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIHByaW50bG4oR0VORVJBVEVEX01FU1NBR0VfQ09NTUVOVCk7XG4gICAgcHJpbnQoJ2V4cG9ydCBjb25zdCBBcGlTY2hlbWFzID0gJyk7XG4gICAgd3JpdGVTY2hlbWEoc2NoZW1hcyk7XG4gICAgcHJpbnRsbignIGFzIGNvbnN0OycpO1xuICAgIHByaW50bG4oKTtcbiAgICB3cml0ZVR5cGVEZWZzKHNjaGVtYXMpO1xuICAgIG91dC5lbmQoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gd3JpdGVTY2hlbWEobzogYW55LCBpbmRlbnQ6IG51bWJlciA9IDApIHtcbiAgICBpZiAoaW5kZW50ID4gMjApIHtcbiAgICAgIHByaW50KFwiJ2FueSdcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KG8pKSB7XG4gICAgICBwcmludCgnWycpO1xuICAgICAgbGV0IGkgPSAwO1xuICAgICAgZm9yIChjb25zdCBjbyBvZiBvKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIHByaW50KCcsICcpO1xuICAgICAgICB9XG4gICAgICAgIHdyaXRlU2NoZW1hKGNvLCBpbmRlbnQpO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBwcmludCgnXScpO1xuICAgIH0gZWxzZSBpZiAoaXNNYXBPYmplY3QobykpIHtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvKTtcbiAgICAgIGlmIChrZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcHJpbnRsbigneycpO1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2Yga2V5cykge1xuICAgICAgICAgIGNvbnN0IGNvID0gb1tuYW1lXTtcbiAgICAgICAgICBjb25zdCBuYW1lSWQgPSAvXltcXHdfJF0rJC8udGVzdChuYW1lKSA/IG5hbWUgOiBgJyR7bmFtZX0nYDtcbiAgICAgICAgICBwcmludChgJHtuYW1lSWR9OiBgLCBpbmRlbnQgKyAyKTtcbiAgICAgICAgICB3cml0ZVNjaGVtYShjbywgaW5kZW50ICsgMik7XG4gICAgICAgICAgcHJpbnRsbignLCcpO1xuICAgICAgICB9XG4gICAgICAgIHByaW50KCd9JywgaW5kZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByaW50KCd7fScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwcmludChKU09OLnN0cmluZ2lmeShvKS5yZXBsYWNlKC9cIi9nLCBcIidcIikpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlVHlwZURlZihcbiAgICBvOiBhbnksXG4gICAgc2NoZW1hczogeyBbbmFtZTogc3RyaW5nXTogU29hcFNjaGVtYURlZiB9LFxuICAgIGluZGVudDogbnVtYmVyID0gMCxcbiAgKSB7XG4gICAgaWYgKHR5cGVvZiBvID09PSAnc3RyaW5nJykge1xuICAgICAgcHJpbnQobyk7XG4gICAgfSBlbHNlIGlmIChpc01hcE9iamVjdChvKSkge1xuICAgICAgaWYgKCd0eXBlJyBpbiBvICYmICdwcm9wcycgaW4gbykge1xuICAgICAgICBpZiAoJ2V4dGVuZHMnIGluIG8gJiYgdHlwZW9mIG8uZXh0ZW5kcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBwcmludChgJHtvLmV4dGVuZHN9ICYgYCk7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVUeXBlRGVmKG8ucHJvcHMsIHNjaGVtYXMsIGluZGVudCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvKTtcbiAgICAgIGlmIChrZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcHJpbnRsbigneycpO1xuICAgICAgICBmb3IgKGNvbnN0IHByb3Agb2YgT2JqZWN0LmtleXMobykpIHtcbiAgICAgICAgICBsZXQgdmFsdWU6IGFueSA9IG9bcHJvcF07XG4gICAgICAgICAgbGV0IG5pbGxhYmxlID0gZmFsc2U7XG4gICAgICAgICAgbGV0IGlzQXJyYXkgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlzQXJyYXkgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgbGVuID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbiA9PT0gMiAmJiB2YWx1ZVswXSA9PT0gJz8nKSB7XG4gICAgICAgICAgICAgIG5pbGxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZVsxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hcE9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICgnPycgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgbmlsbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlWyc/J107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlWzBdID09PSAnPycpIHtcbiAgICAgICAgICAgIG5pbGxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmludChgJHtwcm9wfSR7bmlsbGFibGUgPyAnPycgOiAnJ306IGAsIGluZGVudCArIDIpO1xuICAgICAgICAgIHdyaXRlVHlwZURlZih2YWx1ZSwgc2NoZW1hcywgaW5kZW50ICsgMik7XG4gICAgICAgICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgICAgIHByaW50KCdbXScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobmlsbGFibGUpIHtcbiAgICAgICAgICAgIHByaW50KCcgfCBudWxsIHwgdW5kZWZpbmVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaW50bG4oJzsnKTtcbiAgICAgICAgfVxuICAgICAgICBwcmludCgnfScsIGluZGVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmludCgne30nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZVR5cGVEZWZzKHNjaGVtYXM6IHsgW25hbWU6IHN0cmluZ106IFNvYXBTY2hlbWFEZWYgfSkge1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3Qua2V5cyhzY2hlbWFzKSkge1xuICAgICAgY29uc3Qgc2NoZW1hID0gc2NoZW1hc1tuYW1lXTtcbiAgICAgIHByaW50KGBleHBvcnQgdHlwZSAke25hbWV9ID0gYCk7XG4gICAgICB3cml0ZVR5cGVEZWYoc2NoZW1hLCBzY2hlbWFzKTtcbiAgICAgIHByaW50bG4oJzsnKTtcbiAgICAgIHByaW50bG4oKTtcbiAgICB9XG4gICAgcHJpbnRsbignZXhwb3J0IHR5cGUgQXBpU2NoZW1hVHlwZXMgPSB7Jyk7XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKHNjaGVtYXMpKSB7XG4gICAgICBwcmludGxuKGAke25hbWV9OiAke25hbWV9O2AsIDIpO1xuICAgIH1cbiAgICBwcmludGxuKCd9OycpO1xuICB9XG59XG5cbi8qKlxuICpcbiAqL1xuYXN5bmMgZnVuY3Rpb24gbWFpbigpIHtcbiAgY29uc3Qgd3NkbEZpbGVQYXRoID0gcHJvY2Vzcy5hcmd2WzJdO1xuICBpZiAoIXdzZGxGaWxlUGF0aCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ05vIGlucHV0IFdTREwgZmlsZSBpcyBzcGVjaWZpZWQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG91dEZpbGVQYXRoID0gcHJvY2Vzcy5hcmd2WzNdO1xuICBpZiAoIXdzZGxGaWxlUGF0aCkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ05vIG91dHB1dCB0eXBlc2NyaXB0IHNjaGVtYSBmaWxlIGlzIHNwZWNpZmllZC4nKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgd3NkbCA9IGF3YWl0IHJlYWRXU0RMRmlsZSh3c2RsRmlsZVBhdGgpO1xuICBjb25zdCBzY2hlbWFzID0gZXh0cmFjdENvbXBsZXhUeXBlcyh3c2RsKTtcbiAgZHVtcFNjaGVtYShzY2hlbWFzLCBvdXRGaWxlUGF0aCk7XG59XG5cbm1haW4oKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE9BQU9BLEVBQUUsTUFBTSxVQUFVO0FBQ3pCLE9BQU9DLE1BQU0sTUFBTSxRQUFRO0FBQzNCLFNBQVNDLG1CQUFtQixRQUFRLFlBQVk7QUFFaEQsU0FBU0MsV0FBVyxRQUFRLHFCQUFxQjs7QUFFakQ7QUFDQTtBQUNBO0FBQ0EsTUFBTUMscUJBQXFCLEdBQUc7RUFDNUJDLENBQUMsRUFBRTtJQUFFQyxJQUFJLEVBQUU7RUFBUyxDQUFDO0VBQ3JCQyxXQUFXLEVBQUUsQ0FDWDtJQUNFRixDQUFDLEVBQUU7TUFBRUcsS0FBSyxFQUFFO0lBQVM7RUFDdkIsQ0FBQyxDQUNGO0VBQ0QsaUJBQWlCLEVBQUUsQ0FDakI7SUFDRUgsQ0FBQyxFQUFFO01BQUVHLEtBQUssRUFBRTtJQUFTO0VBQ3ZCLENBQUM7QUFFTCxDQUFVO0FBRVYsTUFBTUMsb0JBQW9CLEdBQUc7RUFDM0JKLENBQUMsRUFBRTtJQUFFSyxJQUFJLEVBQUU7RUFBUyxDQUFDO0VBQ3JCQyxXQUFXLEVBQUVQLHFCQUFxQjtFQUNsQyxpQkFBaUIsRUFBRUE7QUFDckIsQ0FBVTtBQUVWLE1BQU1RLGlCQUFpQixHQUFHO0VBQ3hCUCxDQUFDLEVBQUU7SUFDREssSUFBSSxFQUFFLFFBQVE7SUFDZEcsSUFBSSxFQUFFLFFBQVE7SUFDZEMsU0FBUyxFQUFFLFNBQVM7SUFDcEJDLFNBQVMsRUFBRSxTQUFTO0lBQ3BCQyxRQUFRLEVBQUU7RUFDWjtBQUNGLENBQVU7QUFFVixNQUFNQyxrQkFBa0IsR0FBRztFQUN6QkMsT0FBTyxFQUFFLENBQUMsR0FBRyxFQUFFTixpQkFBaUIsQ0FBQztFQUNqQyxhQUFhLEVBQUUsQ0FBQyxHQUFHLEVBQUVBLGlCQUFpQjtBQUN4QyxDQUFVO0FBRVYsTUFB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